<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>README_zh</title>
    <url>/2021/10/31/README_zh/</url>
    <content><![CDATA[<h1>é¦–å…ˆç”³æ˜ï¼šè¿™ä¸ªåº“æ˜¯åŸºäº <a href="https://github.com/EverythingMe/overscroll-decor">Over-Scroll</a></h1>
<hr>
<h1>Elasticity æ”¯æŒ Android åŸç”Ÿæ§ä»¶ RecyclerView, ListView, GridView, ScrollView â€¦</h1>
<p>è¿™ä¸ªåº“å¯ä»¥è®©å‡ ä¹æ‰€æœ‰çš„ Android View å…·æœ‰ç±»ä¼¼ MIUI ç³»ç»Ÿé‡Œé¢çš„ä¸€ä¸ªå¼¹æ€§æ‹‰ä¼¸çš„æ•ˆæœã€‚å…·ä½“çš„æ•ˆæœå¯ä»¥å‚è€ƒä¸‹é¢çš„åŠ¨å›¾ã€‚</p>
<p><a href="elasticity-app-debug.apk">demo apk</a></p>
<p><img src="demo.gif" alt="demo"></p>
<h1>Gradle ä¾èµ–</h1>
<p>åœ¨ä½ çš„é¡¹ç›®çš„ <code>build.gradle</code> æ–‡ä»¶æ·»åŠ å¦‚ä¸‹å†…å®¹:</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        ...</span><br><span class="line">        maven &#123; url <span class="string">&quot;https://jitpack.io&quot;</span> &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½ çš„ module çš„ <code>build.gradle</code> æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹:</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    compile <span class="string">&#x27;com.github.XanderWang:elasticity:1.0.1&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>ä½¿ç”¨</h1>
<h3 id="RecyclerView">RecyclerView</h3>
<p>æ”¯æŒçº¿æ€§å’Œç€‘å¸ƒæµçš„ layout managersï¼Œå¯ä»¥å¾ˆå®¹æ˜“æ¥å…¥ã€‚å®ä¾‹æ¥å…¥ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">    </span><br><span class="line"><span class="comment">// Horizontal</span></span><br><span class="line">ElasticityHelper.setUpOverScroll(recyclerView, ORIENTATION.HORIZONTAL);</span><br><span class="line"><span class="comment">// Vertical</span></span><br><span class="line">ElasticityHelper.setUpOverScroll(recyclerView, ORIENTATION.VERTICAL);</span><br></pre></td></tr></table></figure>
<h3 id="RecyclerView-items-çš„-swiping-dragging-æ”¯æŒ">RecyclerView items çš„ swiping / dragging æ”¯æŒ</h3>
<p>æŸ¥çœ‹ <em>é«˜çº§ç”¨æ³•</em> .</p>
<h3 id="ListView">ListView</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ListView listView = (ListView) findViewById(R.id.list_view);</span><br><span class="line">ElasticityHelper.setUpOverScroll(listView);</span><br></pre></td></tr></table></figure>
<h3 id="GridView">GridView</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">GridView gridView = (GridView) findViewById(R.id.grid_view);</span><br><span class="line">ElasticityHelper.setUpOverScroll(gridView);</span><br></pre></td></tr></table></figure>
<h3 id="ViewPager">ViewPager</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ViewPager viewPager = (ViewPager) findViewById(R.id.view_pager);</span><br><span class="line">ElasticityHelper.setUpOverScroll(viewPager);</span><br></pre></td></tr></table></figure>
<h3 id="ScrollView-HorizontalScrollView">ScrollView, HorizontalScrollView</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ScrollView scrollView = (ScrollView) findViewById(R.id.scroll_view);</span><br><span class="line">ElasticityHelper.setUpOverScroll(scrollView);</span><br><span class="line">    </span><br><span class="line">HorizontalScrollView horizontalScrollView = (HorizontalScrollView) findViewById(R.id.horizontal_scroll_view);</span><br><span class="line">ElasticityHelper.setUpOverScroll(horizontalScrollView);</span><br></pre></td></tr></table></figure>
<h3 id="ä»»ä½•-View-Text-Imageâ€¦-å¯ä»¥è®¤ä¸ºä¸€å¼€å§‹å°±æ˜¯-Over-Scroll-çŠ¶æ€">ä»»ä½• View - Text, Imageâ€¦ (å¯ä»¥è®¤ä¸ºä¸€å¼€å§‹å°±æ˜¯ Over-Scroll çŠ¶æ€)</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">View view = findViewById(R.id.demo_view);</span><br><span class="line">    </span><br><span class="line"><span class="comment">// Horizontal</span></span><br><span class="line">ElasticityHelper.setUpStaticOverScroll(view, ORIENTATION.HORIZONTAL);</span><br><span class="line"><span class="comment">// Vertical</span></span><br><span class="line">ElasticityHelper.setUpStaticOverScroll(view, ORIENTATION.VERTICAL);</span><br></pre></td></tr></table></figure>
<h1>é«˜çº§ç”¨æ³•</h1>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Horizontal RecyclerView</span></span><br><span class="line">RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line"><span class="keyword">new</span> HorizontalElasticityBounceEffect(<span class="keyword">new</span> RecyclerViewElasticityAdapter(recyclerView));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ListView (vertical)</span></span><br><span class="line">ListView listView = (ListView) findViewById(R.id.list_view);</span><br><span class="line"><span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> AbsListViewElasticityAdapter(listView));</span><br><span class="line"></span><br><span class="line"><span class="comment">// GridView (vertical)</span></span><br><span class="line">GridView gridView = (GridView) findViewById(R.id.grid_view);</span><br><span class="line"><span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> AbsListViewElasticityAdapter(gridView));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ViewPager</span></span><br><span class="line">ViewPager viewPager = (ViewPager) findViewById(R.id.view_pager);</span><br><span class="line"><span class="keyword">new</span> HorizontalElasticityBounceEffect(<span class="keyword">new</span> ViewPagerElasticityAdapter(viewPager));</span><br><span class="line"></span><br><span class="line"><span class="comment">// A simple TextView - horizontal</span></span><br><span class="line">View textView = findViewById(R.id.title);</span><br><span class="line"><span class="keyword">new</span> HorizontalElasticityBounceEffect(<span class="keyword">new</span> StaticElasticityAdapter(view));</span><br></pre></td></tr></table></figure>
<h3 id="RecyclerView-å€ŸåŠ©-ItemTouchHelper-å®ç°-item-swiping-dragging">RecyclerView å€ŸåŠ© <a href="http://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html">ItemTouchHelper</a> å®ç° item swiping / dragging</h3>
<p>ç†è®ºä¸Šå¯ä»¥å¾ˆå¥½çš„æ”¯æŒ item swiping / dragging (based on <a href="http://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html">ItemTouchHelper</a>)ï¼Œ ä½†æ˜¯è¿˜æ˜¯å»ºè®®æŒ‰å¦‚ä¸‹ä»£ç ä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Normally you would attach an ItemTouchHelper &amp; a callback to a RecyclerView, this way:</span></span><br><span class="line">RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);</span><br><span class="line">ItemTouchHelper.Callback myCallback = <span class="keyword">new</span> ItemTouchHelper.Callback() &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;;</span><br><span class="line">ItemTouchHelper myHelper = <span class="keyword">new</span> ItemTouchHelper(myCallback);</span><br><span class="line">myHelper.attachToRecyclerView(recyclerView);</span><br><span class="line"></span><br><span class="line"><span class="comment">// INSTEAD of attaching the helper yourself, simply use the dedicated adapter c&#x27;tor, e.g.:</span></span><br><span class="line"><span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> RecyclerViewElasticityAdapter(recyclerView, myCallback));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>æŸ¥çœ‹æ›´å¤šçš„ swiping / dragging åŸç†, å¯ä»¥å‚è€ƒ <a href="https://medium.com/@ipaulpro/drag-and-swipe-with-recyclerview-b9456d2b1aaf">this useful tutorial</a>.</p>
<h3 id="Over-Scroll-Listeners">Over-Scroll Listeners</h3>
<p>æä¾› 2 ç§ç›‘å¬çš„æ–¹å¼æ¥è·å–æ»šåŠ¨è¿‡ç¨‹ä¸­çš„çŠ¶æ€ï¼Œå…·ä½“å¦‚ä¸‹</p>
<h4 id="State-Change-Listener">State-Change Listener</h4>
<p>çŠ¶æ€æ”¹å˜ç›‘å¬ï¼Œé€šè¿‡è¿™ä¸ªç›‘å¬å›è°ƒï¼Œä½ å¯ä»¥çŸ¥é“çŠ¶æ€çš„æ”¹å˜ï¼Œä½¿ç”¨èŒƒä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Note: over-scroll is set-up using the helper method.</span></span><br><span class="line">IElasticity elasticity = ElasticityHelper.setUpOverScroll(recyclerView, ORIENTATION.HORIZONTAL);</span><br><span class="line"></span><br><span class="line">elasticity.setOverScrollStateListener(<span class="keyword">new</span> IElasticityStateListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onOverScrollStateChange</span><span class="params">(IElasticity elasticity, <span class="keyword">int</span> oldState, <span class="keyword">int</span> newState)</span> </span>&#123;</span><br><span class="line">	    <span class="keyword">switch</span> (newState) &#123;</span><br><span class="line">	        <span class="keyword">case</span> STATE_IDLE:</span><br><span class="line">	            <span class="comment">// No over-scroll is in effect.</span></span><br><span class="line">	            <span class="keyword">break</span>;</span><br><span class="line">	        <span class="keyword">case</span> STATE_DRAG_START_SIDE:</span><br><span class="line">	            <span class="comment">// Dragging started at the left-end.</span></span><br><span class="line">	            <span class="keyword">break</span>;</span><br><span class="line">	        <span class="keyword">case</span> STATE_DRAG_END_SIDE:</span><br><span class="line">	            <span class="comment">// Dragging started at the right-end.</span></span><br><span class="line">	            <span class="keyword">break</span>;</span><br><span class="line">	        <span class="keyword">case</span> STATE_BOUNCE_BACK:</span><br><span class="line">	            <span class="keyword">if</span> (oldState == STATE_DRAG_START_SIDE) &#123;</span><br><span class="line">	                <span class="comment">// Dragging stopped -- view is starting to bounce back from the *left-end* onto natural position.</span></span><br><span class="line">	            &#125; <span class="keyword">else</span> &#123; <span class="comment">// i.e. (oldState == STATE_DRAG_END_SIDE)</span></span><br><span class="line">	                <span class="comment">// View is starting to bounce back from the *right-end*.</span></span><br><span class="line">	            &#125;</span><br><span class="line">	            <span class="keyword">break</span>;</span><br><span class="line">	    &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Real-time-Updates-Listener">Real-time Updates Listener</h4>
<p>æ»‘åŠ¨è¿‡ç¨‹ç›‘å¬ï¼Œå¯ä»¥ç›‘å¬æ»‘åŠ¨è¿‡ç¨‹ä¸­æ‰‹åŠ¿çš„å…·ä½“å˜åŒ–ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Note: over-scroll is set-up by explicity instantiating a decorator rather than using the helper; The two methods can be used interchangeably for registering listeners.</span></span><br><span class="line">IElasticity elasticity = <span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> RecyclerViewElasticityAdapter(recyclerView, itemTouchHelperCallback));</span><br><span class="line"></span><br><span class="line">elasticity.setOverScrollUpdateListener(<span class="keyword">new</span> IElasticityUpdateListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onOverScrollUpdate</span><span class="params">(IElasticity elasticity, <span class="keyword">int</span> state, <span class="keyword">float</span> offset)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">final</span> View view = elasticity.getView();</span><br><span class="line">    	<span class="keyword">if</span> (offset &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    		<span class="comment">// &#x27;view&#x27; is currently being over-scrolled from the top.</span></span><br><span class="line">    	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (offset &lt; <span class="number">0</span>) &#123;</span><br><span class="line">    		<span class="comment">// &#x27;view&#x27; is currently being over-scrolled from the bottom.</span></span><br><span class="line">    	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    		<span class="comment">// No over-scroll is in-effect.</span></span><br><span class="line">    		<span class="comment">// This is synonymous with having (state == STATE_IDLE).</span></span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸¤ä¸ªç›‘å¬å¯ä»¥å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œå…·ä½“çœ‹ä½ çš„éœ€æ±‚ã€‚</p>
<h3 id="è‡ªå®šä¹‰-Views">è‡ªå®šä¹‰ Views</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomView</span> <span class="keyword">extends</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">final</span> CustomView view = (CustomView) findViewById(R.id.custom_view);</span><br><span class="line"><span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> IElasticityAdapter() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> View <span class="title">getView</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInAbsoluteStart</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	    <span class="comment">// canScrollUp() is an example of a method you must implement</span></span><br><span class="line">        <span class="keyword">return</span> !view.canScrollUp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isInAbsoluteEnd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	     <span class="comment">// canScrollDown() is an example of a method you must implement</span></span><br><span class="line">        <span class="keyword">return</span> !view.canScrollDown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="å®Œå…¨è‡ªå®šä¹‰">å®Œå…¨è‡ªå®šä¹‰</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// Make over-scroll applied over a list-view feel more &#x27;stiff&#x27;</span></span><br><span class="line"><span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> AbsListViewElasticityAdapter(view),</span><br><span class="line">        <span class="number">5f</span>, <span class="comment">// Default is 3</span></span><br><span class="line">        VerticalElasticityBounceEffect.DEFAULT_TOUCH_DRAG_MOVE_RATIO_BCK,</span><br><span class="line">        VerticalElasticityBounceEffect.DEFAULT_DECELERATE_FACTOR,</span><br><span class="line">        VerticalElasticityBounceEffect.MAX_SCALE_FACTOR);</span><br><span class="line">                </span><br><span class="line"><span class="comment">// Make over-scroll applied over a list-view bounce-back more softly</span></span><br><span class="line"><span class="keyword">new</span> VerticalElasticityBounceEffect(<span class="keyword">new</span> AbsListViewElasticityAdapter(view),</span><br><span class="line">        VerticalElasticityBounceEffect.DEFAULT_TOUCH_DRAG_MOVE_RATIO_FWD,</span><br><span class="line">        VerticalElasticityBounceEffect.DEFAULT_TOUCH_DRAG_MOVE_RATIO_BCK,</span><br><span class="line">        -<span class="number">1f</span> <span class="comment">// Default is -2,</span></span><br><span class="line">        VerticalElasticityBounceEffect.MAX_SCALE_FACTOR);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="æ„Ÿè°¢">æ„Ÿè°¢</h2>
<p>App icons by <a href="http://somerandomdude.com/work/iconic/">P.J. Onori</a>,<br>
<a href="http://graphicriver.net/item/wirecons-vector-icons/4586710?ref=tmthymllr">Timothy Miller</a>,<br>
<a href="http://icons4android.com">Icons4Android</a>,<br>
<a href="http://icons8.com/android-icons">Icons8.com</a></p>
<h1>ä¿®æ”¹çš„ bug</h1>
<ol>
<li>ä¿®æ”¹äº†æŸäº›æƒ…å†µä¸‹ç‚¹å‡»ä¸å“åº”çš„é—®é¢˜</li>
</ol>
]]></content>
      <categories>
        <category>categories</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡æ¿</title>
    <url>/2021/10/31/bug_report/</url>
    <content><![CDATA[<hr>
<p>name: Bug report<br>
about: Create a report to help us improve<br>
title: â€˜â€™<br>
labels: â€˜â€™<br>
assignees: â€˜â€™</p>
<hr>
<!-- Do not delete the template (ä¸è¦åˆªé™¤æ¨¡æ¿) -->
<!--
IMPORTANT: Please follow the template to create a new issue.
é‡è¦ï¼šè«‹ä¾ç…§è©²æ¨¡æ¿ä¾†æäº¤ã€‚

If you upgrade from the old version, and an error occurs when running, please copy the new content in the config to the butterfly.yml
å¦‚æœä½ æ˜¯ç”±èˆŠç‰ˆæœ¬å‡ç´šåˆ°æ–°ç‰ˆï¼ŒåŸ·è¡Œæ™‚å‡ºç¾å ±éŒ¯ï¼Œè«‹é¦–å…ˆæŠŠconfigè£¡æ–°çš„å…§å®¹è¤‡è£½åˆ°èˆŠçš„butterflyè¨­å®šå»(å¦‚æœ‰)

If you are a problem when visiting the website, please open your browser 'developer tools (shortcut F12)' and check the console if there is an error, include your website address in the feedback
å¦‚æœä½ æ˜¯ç·šä¸Šè¨ªå•å‡ºç¾å•é¡Œï¼Œè«‹æª¢æŸ¥ç€è¦½å™¨â€˜é–‹ç™¼äººå“¡å·¥å…·ï¼ˆå¿«æ·éµF12ï¼‰â€™çš„consoleæ˜¯å¦æœ‰å ±éŒ¯ï¼Œåé¥‹æ™‚é™„ä¸Šä½ çš„ç¶²ç«™
-->
<h2 id="I-want-to-create-a-Bug-report-æˆ‘æƒ³è¦å»ºç«‹ä¸€å€‹-Bug-report">I want to create a Bug report <!-- æˆ‘æƒ³è¦å»ºç«‹ä¸€å€‹ Bug report --></h2>
<!-- Check all with "x" especially FAQ & Documentation!! (ä½¿ç”¨ "x" é¸æ“‡) -->
<!-- è«‹ç¢ºèªæ˜¯å¦éƒ½å·²ç¶“ç¿»é–²éå¦‚ä¸‹çš„è³‡æ–™, å°¤å…¶æ˜¯å®‰è£æ–‡ä»¶ï¼ï¼ -->
<ul>
<li>[] Yes, I have read <a href="https://hexo.io/docs/">Hexo Docs page</a>, especially <a href="https://hexo.io/docs/templates.html">Templates</a>, <a href="https://hexo.io/docs/variables.html">Variables</a>, <a href="https://hexo.io/docs/helpers.html">Helpers</a> and <a href="https://hexo.io/docs/troubleshooting.html">Troubleshooting</a>.</li>
<li>[] Yes, I have read <a href="https://butterfly.js.org/posts/21cfbf15/">Butterfly Documentation</a>.</li>
<li>[] And yes, I already searched for current <a href="https://github.com/jerryc127/hexo-theme-butterfly/issues?utf8=%E2%9C%93&amp;q=is%3Aissue">issues</a> and this did not help me.</li>
</ul>
<h2 id="Butterfly-Information">Butterfly Information</h2>
<!-- Butterflyçš„ç‰ˆæœ¬ -->
<!-- æª¢è¦–ä¸»é¡Œçš„package.json -->
<p><strong>Butterfly Version:</strong></p>
<!-- Windows/macOS/Linux/Android/iOS -->
<p><strong>Platform:</strong></p>
<!-- Chrome/Safari/FireFox/.. -->
<p><strong>Browser:</strong></p>
<h2 id="Expected-behavior-é æœŸè¡Œç‚º">Expected behavior <!-- (é æœŸè¡Œç‚º) --></h2>
<h2 id="Actual-behavior-å¯¦éš›è¡Œç‚º">Actual behavior <!-- (å¯¦éš›è¡Œç‚º) --></h2>
<h2 id="Steps-to-reproduce-the-behavior-é‡ç¾æ­¥é©Ÿ">Steps to reproduce the behavior <!-- (é‡ç¾æ­¥é©Ÿ) --></h2>
<ol>
<li>Go to â€˜â€¦â€™</li>
<li>Click on â€˜â€¦â€™</li>
<li>Scroll down to â€˜â€¦â€™</li>
<li>See error</li>
</ol>
<!-- If applicable, add screenshots to help explain your problem -->
<!-- è«‹å„˜é‡æä¾›æˆªåœ–ä¾†å®šä½å•é¡Œ -->
<h2 id="Screenshots-æˆªåœ–">Screenshots <!-- (æˆªåœ–) --></h2>
<!-- Provide your website to find the issues -->
<h2 id="Website">Website</h2>
<h2 id="Describe-the-bug">Describe the bug</h2>
]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/2021/10/31/feature_request/</url>
    <content><![CDATA[<p><strong>Is your feature request related to a problem? Please describe.</strong><br>
A clear and concise description of what the problem is. Ex. Iâ€™m always frustrated when [â€¦]</p>
<p><strong>Describe the solution youâ€™d like</strong><br>
A clear and concise description of what you want to happen.</p>
<p><strong>Describe alternatives youâ€™ve considered</strong><br>
A clear and concise description of any alternative solutions or features youâ€™ve considered.</p>
<p><strong>Additional context</strong><br>
Add any other context or screenshots about the feature request here.</p>
]]></content>
  </entry>
  <entry>
    <title>å…å¤‡æ¡ˆå›½å¤–æœ€ä½³å¹¿å‘Šè”ç›Ÿæ¨è</title>
    <url>/9999/09/09/%E6%96%87%E7%AB%A0/</url>
    <content><![CDATA[<h1>ä»¥ä¸‹æ’åä¸åˆ†å…ˆå</h1>
<hr>
<h3 id="å…å¤‡æ¡ˆå›½å¤–æœ€ä½³å¹¿å‘Šè”ç›Ÿæ¨è">å…å¤‡æ¡ˆå›½å¤–æœ€ä½³å¹¿å‘Šè”ç›Ÿæ¨è</h3>
<h1>1.è°·æ­Œçš„AdSense</h1>
<p>Google Adsenseæ˜¯ä¸–ç•Œä¸Šæœ€å¥½æœ€å¤§çš„å¹¿å‘Šç½‘ç»œã€‚Adsenseå› å…¶è¾ƒé«˜çš„æ¯åƒæ¬¡å±•ç¤ºè´¹ç”¨è€Œå—åˆ°æ¬¢è¿ã€‚ä½†æ˜¯ï¼Œå…¶å¸æˆ·å®¡æ‰¹ç›¸å½“å›°éš¾ã€‚Adsenseæä¾›å„ç§å¹¿å‘Šæ ¼å¼ï¼ŒåŒ…æ‹¬ç§»åŠ¨å¹¿å‘Šï¼Œå±•ç¤ºå¹¿å‘Šï¼Œç§»åŠ¨å¹¿å‘Šå’Œæœç´¢ç»“æœå¹¿å‘Šã€‚å…¶æœ€ä½æ”¯ä»˜é™é¢æ˜¯100ç¾å…ƒã€‚å¥½ä¸œè¥¿æ˜¯æ²¡æœ‰æœ€ä½æµé‡è¦æ±‚æˆä¸ºå‡ºç‰ˆå•†ã€‚</p>
<p>æœ€å¥½çš„åŠŸèƒ½</p>
<p>éå¸¸é«˜çš„æ”¯ä»˜ç‡<br>
éå¸¸å®¹æ˜“ä½¿ç”¨<br>
å‘å¸ƒå•†å¯ä»¥è‡ªå®šä¹‰å¹¿å‘Šæ˜¾ç¤ºå¹¶è¿è¡Œå›¾ç‰‡ï¼Œæ–‡å­—ï¼Œé¢œè‰²<br>
å‘å¸ƒå•†å¯ä»¥åœ¨ä¸€ä¸ªå¸æˆ·çš„å¤šä¸ªç½‘ç«™ä¸Šä½¿ç”¨AdSenseå¹¿å‘Š</p>
<p><a href="https://Adsense.com">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://Adsense.com">è°·æ­Œçš„AdSenseå®˜ç½‘</a></p>
<h1>2.PropellerAds</h1>
<p>PropellerAdsæ˜¯2018-2019å¹´åº¦æœ€å¥½çš„cpmå¹¿å‘Šç½‘ç»œä¹‹ä¸€ï¼Œä¹Ÿæ˜¯æ”¯ä»˜ç‡æœ€é«˜çš„cpmå¹¿å‘Šç½‘ç»œä¹‹ä¸€ã€‚å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ç§»åŠ¨å¹¿å‘Šï¼Œå¼¹å‡ºçª—å£ï¼Œå¯¹è¯æ¡†å’Œæ’é¡µå¼å¹¿å‘Šï¼Œé‚£ä¹ˆPorpellerAdsæ˜¯æ‚¨æœ€é€‚åˆçš„CPMç½‘ç»œã€‚å‡ºç‰ˆå•†å°†è·å¾—10ç¾å…ƒçš„æœ‰æ•ˆæ¯åƒæ¬¡å±•ç¤ºè´¹ç”¨ï¼Œè¿™ä¸ªæ¯åƒæ¬¡å±•ç¤ºè´¹ç‡å–å†³äºè®¿é—®å›½å®¶ï¼Œå¦‚æœæ‚¨çš„ç½‘ç«™æ‹¥æœ‰é«˜æµé‡æ¥è‡ªè‹±å›½ï¼Œç¾å›½ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥é¢„æœŸè¿™ä¸ªå¹¿å‘Šç½‘ç»œå¾ˆå¤šé’±ã€‚å®ƒæä¾›äº†è®¸å¤šå¹¿å‘Šæ ¼å¼ä¾›ç”¨æˆ·èµšå–ï¼Œè¿™äº›å¹¿å‘Šæ ¼å¼æ˜¯æ¨ªå¹…å¹¿å‘Šï¼ŒåŸç”Ÿç›´æ¥å¹¿å‘Šï¼Œæµè¡Œä¸‹å¹¿å‘Šï¼Œéé¡µå†…å¹¿å‘Šï¼Œä¸Šæ¨å¹¿å‘Šï¼Œå¯¹è¯å¹¿å‘Šã€‚èºæ—‹æ¡¨å¹¿å‘Šæ”¯ä»˜å‡€30åŸºç¡€ã€‚æœ€ä½æ”¯ä»˜é™é¢ä¸º100ç¾å…ƒï¼Œå‘å¸ƒå¯ä»¥é€šè¿‡ç”µæ±‡å’ŒPayPalææ¬¾ã€‚</p>
<p>è·å¾—æ‰¹å‡†çš„è¦æ±‚ï¼š</p>
<p>æ²¡æœ‰æœ€ä½æµé‡è¦æ±‚<br>
ç½‘ç«™å¿…é¡»æ˜¯åŸºäºå†…å®¹çš„ï¼Œè€Œä¸æ˜¯ç®€å•çš„é“¾æ¥æˆ–å¹¿å‘Šåˆ—è¡¨<br>
ç½‘ç«™ä¸å¾—åœ¨â€œæ­£åœ¨å»ºè®¾ä¸­â€<br>
ç½‘ç«™ä¸å¾—åŒ…å«ä¸æˆäººç›¸å…³çš„å†…å®¹<br>
æœ€å¥½çš„åŠŸèƒ½</p>
<p>PropellerAdsåœ¨Net 30ä¸Šæ”¯ä»˜<br>
å…¶æœ€ä½æ”¯ä»˜é™é¢æ˜¯$ 100<br>
å®æ—¶ç»Ÿè®¡æŠ¥å‘Šç³»ç»Ÿ<br>
ä»˜æ¬¾æ–¹å¼æ˜¯ç”µæ±‡å’ŒPayPal<br>
PropellerAdsæä¾›å¤šç§å¹¿å‘Šæ ¼å¼<br>
æ”¯æŒå›½å†…IP,Propelleradsæœ¬èº«æœ‰bannerå’Œå¼¹çª—å¹¿å‘Š , ä½†æ˜¯bannerå¹¿å‘Šæ”¶å…¥æä½ , æ‰€ä»¥ä¸å»ºè®®å»åš åè€Œå¼¹çª—æ”¶å…¥é«˜ï¼ˆåƒåœ¾ç«™ç‚¹ä½¿ç”¨é«˜ï¼‰</p>
<p><a href="PropellerAds.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://publishers.propellerads.com">PropellerAdså®˜ç½‘</a></p>
<h1>3.Traffic Shop</h1>
<p>Traffic Shopå¹¿å‘Šç½‘ç»œä¸ºå¹¿å‘Šå•†å’Œå‘å¸ƒå•†æä¾›äº†å¾ˆå¤šä»·å€¼ã€‚</p>
<p>å·¥ä½œä¸åŒè€Œä¸”ç®€å•ã€‚</p>
<p>Traffic Shopå—åˆ°å…¨çƒæ•°åƒå®¶å®¢æˆ·çš„ä¿¡èµ–ã€‚</p>
<p>å‡ºç‰ˆå•†å’Œå¹¿å‘Šå•†å¯ä»¥åœ¨è¿™é‡Œèµšå¤§é’±ã€‚å› æ­¤ï¼Œæœ‰æœºä¼šé€šè¿‡Traffic Shopè¿›è¡Œå¹¿å‘Šå®£ä¼ å’Œè´§å¸åŒ–ã€‚</p>
<p>å®ƒæä¾›å¹¿æ³›çš„å¹¿å‘Šæ ¼å¼ï¼ŒåŒ…å«æ•°ç™¾ä¸‡æ¬¡å¹¿å‘Šå±•ç¤ºã€‚</p>
<p>å¹¿å‘Šæ ¼å¼åŒ…æ‹¬ï¼š</p>
<p>æ¨ªå¹…ï¼š å®ƒæä¾›IABè®¤è¯çš„æ‰€æœ‰æµè¡Œæ¨ªå¹…å°ºå¯¸<br>
èƒŒåå¼¹å‡ºå¼çª—å£ï¼š å¼ºå¤§çš„è·¨æµè§ˆå™¨PopUnderè„šæœ¬<br>
è„±è„‚ï¼š è¿™æ˜¯åœ¨ç›®æ ‡å—ä¼—é¢å‰å±•ç¤ºå¹¿å‘Šçš„å¦ä¸€ç§å¥½æ–¹æ³•<br>
ç§»åŠ¨ï¼š ç§»åŠ¨å¹¿å‘Šæœ‰å¾ˆå¤šé€‰é¡¹ï¼Œä¾‹å¦‚æ–‡å­—å’Œå¯Œåª’ä½“æ¨ªå¹…ï¼Œé‡å®šå‘å’ŒèƒŒåå¼¹å‡ºå¼å¹¿å‘Š</p>
<p>å¹¿å‘Šå®¢æˆ·å¯ä»¥äº«å—å…¨çƒè¦†ç›–ä»¥åŠè·¨å¹³å°å¹¿å‘Šå¸¦æ¥çš„å¥½å¤„ï¼Œä»è€Œå¸å¼•é€‚å½“çš„å—ä¼—ç¾¤ä½“ã€‚</p>
<p>ä»–ä»¬å¯ä»¥æœŸå¾…GEOï¼Œè¯­è¨€ï¼Œè®¾å¤‡ï¼Œæ“ä½œç³»ç»Ÿï¼Œæµè§ˆå™¨ç­‰çš„çµæ´»å’Œé«˜çº§å®šä½ã€‚å¹¿å‘Šå®¢æˆ·å¯ä»¥è·å¾—å®æ—¶è½¬åŒ–è·Ÿè¸ªçš„ä¼˜åŠ¿ï¼Œä»¥è·Ÿè¸ªæ•ˆæœï¼Œæ”¶å…¥å’Œæ”¯å‡ºã€‚</p>
<p>ä»–ä»¬å¯ä»¥é€‰æ‹©å„ç§å®šä»·æ¨¡å¼ï¼šCPMï¼ŒCPCã€‚å¹¿å‘Šå®¢æˆ·å¯ä»¥å®‰æ’å¹¿å‘Šç³»åˆ—å¹¶æœ€å¤§åŒ–æŠ•èµ„å›æŠ¥ç‡å’Œè½¬åŒ–æ¬¡æ•°ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰å®æ—¶è¯¦ç»†çš„æŠ¥å‘Šå’Œç»Ÿè®¡æ•°æ®ã€‚</p>
<p>å€ŸåŠ©æµé‡å•†åº—ï¼Œå‘å¸ƒå•†å¯ä»¥è·å¾—æœ€ä½³çš„æµé‡è´¹ç‡ï¼Œå¹¶æœ€å¤§é™åº¦åœ°æé«˜ç½‘ç»œæ”¶å…¥å’Œç§»åŠ¨å¹¿å‘Šèµ„æºã€‚ä»–ä»¬å¯ä»¥è®¿é—®æ‰€æœ‰æµè¡Œçš„å¹¿å‘Šæ ¼å¼ï¼Œä»¥ä¾¿å¯¹å…¶æµé‡è¿›è¡Œè´§å¸åŒ–ã€‚é€šè¿‡Traffic Shopï¼Œæ‚¨å¯ä»¥è®¿é—®å¯è‡ªå®šä¹‰çš„é«˜çº§å®æ—¶æŠ¥å‘Šå’ŒæŠ¥å‘Šæ¨¡æ¿ã€‚</p>
<p>äº¤é€šå•†åº—ä»¥å¿«é€Ÿæ”¯ä»˜è€Œé—»åã€‚ä»–ä»¬æä¾›å„ç§æ”¯ä»˜æ–¹å¼ï¼Œå¦‚PayPalï¼ŒWebMoneyï¼Œé“¶è¡Œç”µæ±‡ï¼ŒPaxumï¼ŒePaymentså’Œæ¯”ç‰¹å¸ã€‚æœ€ä½æ”¯ä»˜é—¨æ§›ä»…ä¸º50ç¾å…ƒã€‚è¿™æ˜¯ä¸€ä¸ªå€¼å¾—ä¿¡èµ–çš„ç½‘ç»œã€‚æ‰€æœ‰å¹¿å‘Šç³»åˆ—éƒ½é€šè¿‡å®‰å…¨ç³»ç»Ÿç¡®ä¿å¹¿å‘Šæ´»åŠ¨çš„å®‰å…¨æ€§ã€‚</p>
<p><a href="TrafficShop.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://www.trafficshop.com">å®˜ç½‘</a></p>
<h1>4.Adsterra</h1>
<p>Adsterra Networkä½œä¸ºä¸€å®¶å¯é çš„æ•°å­—å¹¿å‘Šå…¬å¸è„±é¢–è€Œå‡ºï¼Œä¸ºå…¨çƒå¹¿å‘Šå•†å’Œåª’ä½“åˆä½œä¼™ä¼´æä¾›åŸºäºæ€§èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å®ƒæœ‰ä¸€äº›ä»¤äººå°è±¡æ·±åˆ»çš„ç»Ÿè®¡æ•°æ®æ”¯æŒå…¶ä½œä¸ºé¢†å…ˆçš„æ•°å­—å¹¿å‘Šå…¬å¸çš„ä¸»å¼ ã€‚ Adsterraæ¯æœˆæä¾›è¶…è¿‡10 BNçš„å±•ç¤ºæ¬¡æ•°ã€‚å®ƒæ¶µç›–äº†è¿‘200ä¸ªGEOã€‚å®ƒæä¾›äº†å¤§çº¦20,000ä¸ªæˆåŠŸçš„æ´»åŠ¨ã€‚</p>
<p>æ­¤å¤–ï¼ŒAdsterraå·²å‘å±•æˆä¸ºå‘å±•æœ€å¿«çš„æˆäººå¹¿å‘Šç½‘ç»œä¹‹ä¸€ã€‚å®ƒä¸ºæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡æä¾›å¹¿å‘Šè§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ï¼š</p>
<p>æ˜¾ç¤ºæ¨ªå¹…</p>
<p>Popunders</p>
<p>ç›´æ¥é“¾æ¥</p>
<p>å‰è´´ç‰‡è§†é¢‘</p>
<p>æ¨é€é€šçŸ¥</p>
<p>æ’é¡µå¹¿å‘Š</p>
<p>é€šè¿‡Adsterraï¼Œå¹¿å‘Šå®¢æˆ·å¯ä»¥è½»æ¾ä¸”ç»æµé«˜æ•ˆåœ°å¯åŠ¨ï¼Œç®¡ç†å’Œåˆ†æå…¶å¹¿å‘Šæ´»åŠ¨ã€‚ä»–ä»¬å¯ä»¥é€‰æ‹©å„ç§ä»˜æ¬¾æ¨¡å¼ï¼Œä¾‹å¦‚CPMï¼ŒCPAï¼ŒCPLï¼ŒCPOå’ŒCPIã€‚</p>
<p>å› æ­¤ï¼Œå¹¿å‘Šå®¢æˆ·æœ‰æœºä¼šè·å¾—æ›´å¤šå±•ç¤ºæ¬¡æ•°ï¼Œæ½œåœ¨å®¢æˆ·ï¼Œè½¬åŒ–æ¬¡æ•°å’Œé”€å”®é¢ã€‚ Adsterraæä¾›å…ˆè¿›çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œå¹¿å‘Šå®¢æˆ·å¯ä»¥ä½¿ç”¨è¯¥æŠ€æœ¯ä¸ºæ¯ä¸ªå¹¿å‘Šç´ æå’Œå±•ç¤ºä½ç½®è·å¾—æœ€æœ‰æ•ˆçš„ç»“æœã€‚</p>
<p>é€šè¿‡Adsterraï¼Œå‡ºç‰ˆå•†å¯ä»¥è·å¾—è®¸å¤šä¼˜åŠ¿ã€‚</p>
<p>æˆä¸ºAdsterra Publisher Networkçš„ä¸€å‘˜ï¼Œå¹¶åˆ©ç”¨å…¶æ™ºèƒ½å’Œå…ˆè¿›æŠ€æœ¯è½»æ¾è·åˆ©ã€‚è·å¾—100ï¼…çš„å¡«å……ç‡å’Œæœ‰ç«äº‰åŠ›çš„CPMã€‚ Adsterraé€šè¿‡å…¶å†…éƒ¨å’Œç¬¬ä¸‰æ–¹æ¬ºè¯ˆæ£€æµ‹ç³»ç»Ÿæä¾›æœ€å¤§çš„å®‰å…¨æ€§ã€‚</p>
<p>å‘å¸ƒå•†å¯ä»¥ä¾é å…¶å‡†æ—¶ä»˜æ¬¾æ”¿ç­–ï¼ˆNET 15ï¼‰ã€‚æ­¤å¤–ï¼ŒAdsterraè¿˜æä¾›å¤§é‡ææ¬¾é€‰é¡¹ï¼ŒåŒ…æ‹¬PayPalï¼ŒWire Transferï¼ŒWeb Moneyï¼ŒPaxumï¼ŒPaxumå’Œæ¯”ç‰¹å¸ã€‚æœ€ä½æ”¯ä»˜é—¨æ§›æ˜¯100ç¾å…ƒã€‚</p>
<p>æ‚¨ç”šè‡³å¯ä»¥å°†æ‚¨çš„æœ‹å‹æ¨èç»™Adsterra Networkï¼Œå¹¶æœ‰æœºä¼šé€šè¿‡æ¨èè®¡åˆ’èµšå–é¢å¤–æ”¶å…¥ã€‚æ‚¨å¯ä»¥è·å¾—ç”±æ‚¨åœ¨ä¸€ç”Ÿä¸­æ¨èç»™Adsterraçš„å‘å¸ƒå•†äº§ç”Ÿçš„æ”¶å…¥çš„5ï¼…ã€‚</p>
<p><a href="Adsterra.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://publishers.adsterra.com/referral/bgEmFDxthL">å®˜ç½‘</a></p>
<h1>5.Popcash</h1>
<p>Popcashæ˜¯ä¸­å°å‹å‘å¸ƒå•†çš„é¡¶çº§cpmå¹¿å‘Šç½‘ç»œä¹‹ä¸€ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªä¸“ä¸šå’Œæµè¡Œçš„æµè¡Œå¹¿å‘Šç½‘ç»œã€‚å®ƒä½¿ç”¨CPCå’ŒCPMä»˜æ¬¾æ¨¡å¼å‘ç”¨æˆ·ä»˜æ¬¾ï¼Œå¹¶ä¸ºç”¨æˆ·æä¾›é«˜æ”¯ä»˜ç‡ã€‚å› ä¸ºå®ƒæœ‰å¾ˆå¤šå¹¿å‘Šå®¢æˆ·éå¸ƒä¸–ç•Œå„åœ°çš„å¹¿å‘Šå®¢æˆ·ã€‚æˆ‘å·²ç»åœ¨æˆ‘çš„2ä¸ªç½‘ç«™ä¸Šä½¿ç”¨è¿‡PopCashï¼Œæˆ‘æ»¡æ„ä»–ä»¬çš„CPMè´¹ç‡ã€‚æˆ‘ä¹Ÿæ”¶åˆ°äº†å¾ˆå¤šä»–ä»¬çš„ä»˜æ¬¾ã€‚PopCash.netçš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå®ƒè®¡æ•°æ¥è‡ªåŒä¸€ä¸ªè®¿é—®è€…çš„å¤šä¸ªå°è±¡ã€‚ä¸€äº›CPMå¹¿å‘Šç½‘ç»œï¼Œä»–ä»¬ä¸è®¡ç®—æ‰€æœ‰çš„å°è±¡ã€‚å¦å¤–popcash.netæ˜¯æœ€å¥½çš„ä½æµé‡ç½‘ç«™cpmå¹¿å‘Šç½‘ç»œæˆ–æœ€å¥½çš„cpmå¹¿å‘Šç½‘ç»œå°åº¦å‡ºç‰ˆå•†åŠ å…¥ã€‚</p>
<p>PopCashçš„è¦æ±‚/é™åˆ¶ï¼š</p>
<p>ç½‘ç«™ä¸å¾—åŒ…å«æš´åŠ›å†…å®¹å’Œæ¶æ„è½¯ä»¶<br>
ä¸å¾—å°†å‡æµé‡å‘é€ç»™PopCash<br>
ç”¨æˆ·ä¸å¾—ä¿®æ”¹ä»–ä»¬çš„å¹¿å‘Šä»£ç <br>
ä¸èƒ½ç”¨PopCashåˆ›å»ºå¤šä¸ªè´¦æˆ·<br>
æœ€å¥½çš„åŠŸèƒ½</p>
<p>ä½çš„æœ€ä½æ”¯ä»˜é™é¢æ˜¯10ç¾å…ƒ<br>
æ¯æ—¥æ”¯ä»˜<br>
10ï¼…çš„æ¨èä½£é‡‘<br>
PayPalï¼ŒPayzaï¼ŒPaxumï¼ŒWireï¼ŒWebMoneyå’ŒSkrillç­‰å¤šç§ä»˜æ¬¾æ–¹å¼<br>
å…ˆè¿›çš„ç»Ÿè®¡æŠ¥å‘Šç³»ç»Ÿ<br>
è‰¯å¥½çš„å®¢æˆ·æ”¯æŒ<br>
è”ç›Ÿæ³¨å†Œç®€å•, æ”¶ç›Šå¿«</p>
<p><a href="Popcash.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://popcash.net/home/334724">å®˜ç½‘</a></p>
<h1>6.RevenueHits</h1>
<p>RevenueHitsæ˜¯é¢å‘ä¸­å°å‹å‘å¸ƒå•†çš„æœ€ä½³å¹¿å‘Šç½‘ç»œï¼Œå®ƒæ˜¯ä¸€ä¸ªåŸºäºä»¥è‰²åˆ—çš„åŸºäºcpmçš„popunderå¹¿å‘Šç½‘ç»œã€‚å®ƒå§‹äº2008å¹´ï¼Œæ¯å¤©çš„æŠ•æ”¾é‡è¶…è¿‡30äº¿æ¬¡ã€‚RevenueHitsä¸ºå…¶æ‰€æœ‰å‘å¸ƒå•†æä¾›é«˜Ecpmç‡ï¼Œç›®å‰å®ƒæä¾›æœ€é«˜50ç¾å…ƒçš„æœ‰æ•ˆæ¯åƒæ¬¡å±•ç¤ºè´¹ç”¨ï¼Œæœ€ä½ä¸º0.50ç¾å…ƒï¼Œè¿™äº›è´¹ç‡å–å†³äºè®¿é—®å›½å®¶ã€‚</p>
<p>æœ€å¥½çš„åŠŸèƒ½</p>
<p>æ²¡æœ‰æœ€ä½é™åº¦çš„æµé‡è¯·æ±‚<br>
æœ€ä½æ”¯ä»˜é™é¢åªæœ‰20ç¾å…ƒ<br>
24/4å®¢æˆ·æ”¯æŒ<br>
æ”¯æŒæ‰€æœ‰è¯­è¨€<br>
ä¸ªäººå®¢æˆ·ç»ç†<br>
å¤šç§å¹¿å‘Šæ ¼å¼</p>
<p><a href="RevenueHits.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://www.revenuehits.com/lps/pubref/?ref=@RH@gDamDZhostA_tk2NfGAf7nnSiUDV5iGD">å®˜ç½‘</a></p>
<h1>7.Yllix</h1>
<p>Yllixåª’ä½“æ˜¯ä½œä¸ºGoogle Adsenseä¹‹ç±»çš„å‘å¸ƒå•†æˆ–å¹¿å‘Šå®¢æˆ·çš„å¦ä¸€ç§å¹¿å‘Šé€‰æ‹©ã€‚æ‚¨å¯ä»¥å°†å¹¿å‘Šåª’ä½“ç½‘ç«™ç”¨äºå„ç§æ ‡å‡†å¹¿å‘Šè®¾ç½®ï¼Œä¾‹å¦‚æ¨ªå¹…å¹¿å‘Šï¼Œå¼¹å‡ºå¼å¹¿å‘Šï¼Œå›¾å±‚å¹¿å‘Šï¼Œé‡å®šå‘å¹¿å‘Šï¼ŒPrepopå¹¿å‘Šï¼Œå…¨é¡µå¹¿å‘Šï¼Œå°ºå¯¸å¤§å°åˆ†åˆ«ä¸º300Ã—250,728Ã—90,468Ã—60,120Ã—600,160Ã—600ã€‚å‘å¸ƒå•†å’Œå¹¿å‘Šå•†çš„å¥½æ¶ˆæ¯æ˜¯YllixMediaï¼ˆYllix Inc.ï¼‰æˆ–Yllix Mediaç½‘ç«™å…è®¸ä»»ä½•ç±»å‹çš„ç½‘ç«™ï¼Œåšå®¢ï¼Œè®ºå›æˆ–ä»»ä½•å…¶ä»–ç½‘ç«™ã€‚å°åšå®¢ä¸èƒ½ä½¿ç”¨AdSenseæˆ–å…¶ä»–é«˜æ”¶å…¥çš„å¤§å‹å¹¿å‘Šç½‘ç»œã€‚å› ä¸ºè·å¾—AdSenseè®¤è¯éå¸¸å›°éš¾ã€‚æ‰€ä»¥ä»–ä»¬æƒ³è¦ä½¿ç”¨ä¸€äº›å°å¹¿å‘Šç½‘ç»œã€‚ä½†ä¸adsenseè¿™æ ·çš„å¤§å‹å¹¿å‘Šç½‘ç»œç›¸æ¯”ï¼Œå°å‹å¹¿å‘Šç½‘ç»œä¸ä¼šä»˜å‡ºé«˜æ˜‚çš„ä»£ä»·ã€‚Yllixåª’ä½“ä¹Ÿæ˜¯ä¸€ä¸ªå°å‹å¹¿å‘Šç½‘ç»œã€‚è®¸å¤šå‡ºç‰ˆå•†è¦æ±‚æˆ‘æ’°å†™yllixåª’ä½“è¯„è®ºã€‚Yllixæ˜¯ä¸€ä¸ªæ–°é¢–çš„å¹¿å‘Šç½‘ç»œï¼Œé€‚åˆå°å‹å‘å¸ƒå•†ã€‚</p>
<p><a href="Yllix.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://pub.yllix.com">å®˜ç½‘</a></p>
<h1>8.PlugRush</h1>
<p>PlugRushäº2007å¹´åº•å¼€å§‹è¿ä½œï¼Œç°å·²æˆä¸ºé¢†å…ˆçš„å¹¿å‘Šç½‘ç»œã€‚</p>
<p>å®ƒå…è®¸ç½‘ç«™ç®¡ç†å‘˜è½»æ¾å¿«é€Ÿåœ°äº¤æ˜“æµé‡ï¼Œä¹°å…¥æˆ–å–å‡ºç‚¹å‡»æµé‡ï¼Œç§»åŠ¨æµé‡ä»¥åŠPopUnderæµé‡ã€‚ PlugRushéå¸¸é€æ˜ï¼Œå¯ä¸ºå¹¿å‘Šå®¢æˆ·å’Œå‘å¸ƒå•†å¸¦æ¥å‡ºè‰²çš„æ•ˆæœã€‚</p>
<p>PlugRushæä¾›äº†å‡ ä¸ªé«˜å½±å“åŠ›çš„å¹¿å‘Šå•å…ƒï¼Œéå¸¸é€‚åˆä½œä¸ºAdSenseæ›¿ä»£æ–¹æ¡ˆã€‚æ­¤å¤–ï¼Œå¹¿å‘Šæ ¼å¼æ˜¯å¹¿å‘Šå’Œä»å¹¿å‘Šç³»åˆ—ä¸­è·å¾—æ›´å¤šæ”¶å…¥çš„æœ€ä½³é€‰æ‹©ã€‚</p>
<p>ä½¿ç”¨PlugRushçš„å¹¿å‘Šæ ¼å¼å’Œå¹¿å‘Šå°ºå¯¸ï¼š</p>
<p>ä¸­çŸ©å½¢æ¨ªå¹…ï¼š å®ƒåœ¨åµŒå…¥æ—¶è¡¨ç°æœ€ä½³ åœ¨æ–‡æœ¬å†…å®¹ä¸­ æˆ–åœ¨æ–‡ç« çš„æœ€åã€‚ä»–ä»¬æˆåŠŸåœ°åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šäº§ç”Ÿäº†é«˜ç‚¹å‡»ç‡ã€‚</p>
<p>æ’è¡Œæ¦œæ¨ªå¹…ï¼š æ­¤ç½‘é¡µæ¨ªå¹…æ ¼å¼æ”¾ç½®åœ¨é¡µé¢é¡¶éƒ¨ï¼ˆä¸»è¦å†…å®¹ä¹‹å‰ï¼‰æ—¶æ•ˆæœå¾ˆå¥½ã€‚</p>
<p>å‚ç›´åŸç”Ÿå¹¿å‘Šï¼š è¿™äº›å¤–è§‚å’Œæ„Ÿè§‰å°±åƒè‡ªç„¶å†…å®¹ã€‚å®ƒæˆåŠŸåœ°ä¸ºå†…å®¹è¥é”€äººå‘˜å»ºç«‹ä¿¡ä»»å’Œæœ€ä½³ã€‚</p>
<p>æ‘©å¤©å¤§æ¥¼æ¨ªå¹…ï¼š å®ƒæ˜¯æ ‡å‡†çš„å±•ç¤ºæ¨ªå¹…ç½‘é¡µæ ¼å¼ã€‚å®ƒé€šå¸¸ç”¨äºä¾§é¢ï¼Œå†…å®¹ä¹‹é—´ä»¥åŠé¡µé¢è¾¹ç¼˜ã€‚</p>
<p>æ¨ªå‘åŸç”Ÿå¹¿å‘Šï¼š å®ƒæ˜¯åŸç”Ÿå¹¿å‘Šï¼Œé€‚ç”¨äºç§»åŠ¨è®¾å¤‡å’Œæ¡Œé¢è®¾å¤‡ã€‚</p>
<p>åŠé¡µæ¨ªå¹…ï¼š å®ƒå…·æœ‰è§†è§‰å†²å‡»åŠ›çš„å¹¿å‘Šå°ºå¯¸ï¼Œä¹Ÿæ˜¯å±•ç¤ºæ¬¡æ•°æœ€å¿«çš„å¹¿å‘Šå•å…ƒä¹‹ä¸€ã€‚</p>
<p>æ¡Œé¢æµè¡ŒéŸ³ä¹ï¼š OnClick Popså¯ç”¨äºè¦†ç›–æ•°åƒåå‚ä¸å®¢æˆ·ã€‚ä½ å¾—åˆ°æ¯ä¸ªè®¿å®¢çš„æŠ¥é…¬ã€‚</p>
<p>PlugRushæ˜¯ä¸€ä¸ªå¹¿å‘Šå¹³å°ï¼Œå¯è®©æ‚¨åœ¨å‡ åˆ†é’Ÿå†…åˆ›å»ºå’Œè¿è¡Œæ‚¨çš„å¹¿å‘Šç³»åˆ—ã€‚å®ƒæ—¢é€‚åˆåˆå­¦è€…ä¹Ÿé€‚åˆä¸“å®¶ã€‚</p>
<p>ä½¿ç”¨PlugRushï¼Œå¹¿å‘Šå®¢æˆ·æœ‰æœºä¼šè·å¾—å¤§é‡æµé‡ã€‚è®¿é—®è¿™ä¸ªå…¨çƒç½‘ç»œå¹¶è¦†ç›–æ•°ç™¾ä¸‡æ½œåœ¨å®¢æˆ·ã€‚ PlugRushæä¾›å®æ—¶ç»Ÿè®¡ä¿¡æ¯ã€‚å…¶åæ¬ºè¯ˆæŠ€æœ¯å¯ä»¥ä¿æŠ¤æ‚¨å…å—åœ¨çº¿æ¬ºè¯ˆï¼Œè™šå‡ç‚¹å‡»å’Œæœºå™¨äººæ”»å‡»ã€‚</p>
<p>æ‚¨å¯ä»¥ç›´æ¥æ§åˆ¶æµé‡çš„æ¥æºã€‚æ­¤å¤–ï¼Œæ‚¨å¯ä»¥è·å¾—å¿«é€Ÿå¹¿å‘Šæ‰¹å‡†ï¼Œå¹¶ä¸”å¹¿å‘Šå®¢æˆ·å¯ä»¥ä½¿ç”¨å¤šç§ä»˜æ¬¾æ–¹å¼ï¼Œä¾‹å¦‚PayPalï¼ŒPaxumï¼Œç”µæ±‡æˆ–ä¿¡ç”¨å¡ã€‚</p>
<p>å€ŸåŠ©PlugRushï¼Œå‘å¸ƒå•†æœ‰æœºä¼šå¢åŠ å…¶ç½‘ç«™çš„åˆ©æ¶¦ã€‚å·²æœ‰è¶…è¿‡30,000ä¸ªç½‘ç«™ä½¿ç”¨å®ƒã€‚æ‚¨éœ€è¦æ³¨å†ŒPlugRushã€‚å°†ä»£ç æ”¾åœ¨æ‚¨çš„ç½‘ç«™ä¸Šå¹¶å¼€å§‹èµšé’±ã€‚</p>
<p>PlugRushæä¾›99ï¼…çš„å¡«å……ç‡ã€‚å®ƒä»¬æä¾›å®æ—¶ç»Ÿè®¡æ•°æ®ã€‚å®ƒä¸ºæ‚¨æä¾›ä¼˜æƒ ä»·æ ¼ã€‚å®‰å…¨æ˜¯PlugRushçš„é¦–è¦ä»»åŠ¡ã€‚ä»–ä»¬æ‰‹åŠ¨ç›‘æ§å¹¿å‘Šèµ„æºï¼Œå¹¶è‡ªåŠ¨å…¨å¤©å€™ç›‘æ§ã€‚å¹¿å‘Šä»£ç æ”¯æŒhttpsåè®®ä»¥ä¿æŠ¤æ‚¨çš„å®‰å…¨ã€‚</p>
<p>æ­¤å¤–ï¼Œæ‚¨å¯ä»¥å¾—åˆ°åŠæ—¶ä»˜æ¬¾ï¼ˆæ ¹æ®è¦æ±‚ï¼‰ã€‚ä»–ä»¬é€šè¿‡PayPalï¼ŒPaxumï¼ŒWire Transferå’ŒFirstchoice Payä»˜æ¬¾ã€‚æœ€ä½æ”¯ä»˜é—¨æ§›ä¸º25ç¾å…ƒã€‚åœ¨æ‚¨æäº¤ææ¬¾è¯·æ±‚å24å°æ—¶å†…æ”¯ä»˜æ”¶å…¥ã€‚</p>
<p><a href="PlugRush.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://www.plugrush.com/?ref=249793">å®˜ç½‘</a></p>
<h1>9.Slimspots</h1>
<p>Slimspotsæ˜¯æœ€å—æ¬¢è¿ï¼Œæœ€å…·åˆ›æ–°æ€§å’ŒæˆåŠŸçš„æˆäººå¹¿å‘Šç½‘ç»œä¹‹ä¸€ã€‚å®ƒæ˜¯ä¸€ä¸ªåŸºäºCPAçš„å¹¿å‘Šç½‘ç»œï¼Œæˆç«‹äº2013å¹´6æœˆã€‚å®ƒä½¿å¹¿å‘Šå•†èƒ½å¤Ÿåœ¨å‚ä¸çš„ç½‘ç«™ä¸Šæ”¾ç½®ä»–ä»¬çš„å¹¿å‘Šææ–™ã€‚ Slimspotsä¸ºå¹¿å‘Šå•†ï¼Œå‘å¸ƒå•†å’Œåª’ä½“ä¹°å®¶æä¾›äº†å¤§é‡å•†å“ã€‚å¹¿å‘Šå®¢æˆ·å¯ä»¥é€šè¿‡ä½¿ç”¨åŸºäºæ•ˆæœçš„è¥é”€æ¥æœ€å¤§åŒ–å…¶æŠ•èµ„å›æŠ¥ç‡ã€‚</p>
<p>å®ƒå°†å®ƒä»¬ä¸è¡Œä¸šé¡¶çº§å‘å¸ƒå•†è”ç³»èµ·æ¥ã€‚å¦ä¸€æ–¹é¢ï¼Œå‡ºç‰ˆå•†å¯ä»¥æœŸå¾…æœ€å¥½çš„æœ‰æ•ˆæ¯åƒæ¬¡å±•ç¤ºè´¹ç”¨ï¼Œæœ‰åˆ©å¯å›¾çš„ä¼˜æƒ ï¼Œæœ‰ç«äº‰åŠ›çš„ä»˜æ¬¾ä»¥åŠæ¯å‘¨ä»˜æ¬¾ã€‚å€ŸåŠ©Slimspotsæˆäººå¹¿å‘Šç½‘ç»œï¼Œæ‚¨å¯ä»¥è·å¾—æœ€ä½³çš„åœ¨çº¿è¥é”€éœ€æ±‚ã€‚æ‚¨å°†å—ç›Šäºå…¨çƒæ‰€æœ‰å›½å®¶/åœ°åŒºçš„å¹¿æ³›æµé‡ã€‚ Slimspotsæˆäººå¹¿å‘Šç½‘ç»œä¸ºæ‚¨æä¾›ä¸å„ç§å‚ç›´è¡Œä¸šçš„æ–°å®¢æˆ·å»ºç«‹è”ç³»çš„æœºä¼šã€‚</p>
<p><a href="Slimspots.html">ä½“éªŒå¹¿å‘Šæ•ˆæœé“¾æ¥</a></p>
<p><a href="https://slimspots.com/register/24662">å®˜ç½‘</a></p>
]]></content>
      <categories>
        <category>categories</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å£ç´™</title>
    <url>/2021/10/31/png/index/</url>
    <content><![CDATA[<div class="gallery-group-main">

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">å£ç´™</div>
  <p>æ”¶è—çš„ä¸€äº›å£ç´™</p>
  <a href='/Gallery/wallpaper'></a>
  </figcaption>
  </figure>
  

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">æ¼«å¨</div>
  <p>é—œæ–¼æ¼«å¨çš„åœ–ç‰‡</p>
  <a href='/Gallery/marvel'></a>
  </figcaption>
  </figure>
  

  <figure class="gallery-group">
  <img class="gallery-group-img no-lightbox" src='https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg' alt="Group Image Gallery">
  <figcaption>
  <div class="gallery-group-name">OH MY GIRL</div>
  <p>é—œæ–¼OH MY GIRLçš„åœ–ç‰‡</p>
  <a href='/Gallery/ohmygirl'></a>
  </figcaption>
  </figure>
  
</div>]]></content>
  </entry>
  <entry>
    <title>10ï¼Œä½¿ç”¨çº¿ç¨‹</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/10%EF%BC%8C%E4%BD%BF%E7%94%A8%E7%BA%BF%E7%A8%8B-2021-11-07%2020:53:35/</url>
    <content><![CDATA[<h1>10ï¼Œä½¿ç”¨çº¿ç¨‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">éœ€å¯¼å…¥importæ¨¡å—ï¼Œå‚çœ‹thread,timerä¸taskå‡½æ•°è¯´æ˜ã€‚</span><br><span class="line">çº¿ç¨‹ä¸­ä½¿ç”¨ç‹¬ç«‹ç¯å¢ƒè¿è¡Œï¼Œä¸èƒ½ä½¿ç”¨å¤–éƒ¨å˜é‡ä¸å‡½æ•°ï¼Œéœ€è¦ä½¿ç”¨å‚æ•°å’Œå›è°ƒä¸å¤–éƒ¨äº¤äº’ã€‚</span><br><span class="line"></span><br><span class="line">å¼‚æ­¥ä»»åŠ¡</span><br><span class="line">task(func,args,callback)</span><br><span class="line">func ä¸ºä»»åŠ¡æ‰§è¡Œä»£ç æˆ–å‡½æ•°ï¼Œargs ä¸ºå‚æ•°ï¼Œcallback ä¸ºå›è°ƒå‡½æ•°ï¼Œä»»åŠ¡è¿”å›å€¼å°†ä¼ é€’åˆ°å›è°ƒå‡½æ•°</span><br><span class="line">taskåªèƒ½åŒæ—¶è¿è¡Œcpuæ ¸å¿ƒx2ä¸ªçº¿ç¨‹ï¼Œæ›´å¤šä»»åŠ¡æŒ‰ç…§é¡ºåºç­‰å¾…æ‰§è¡Œ</span><br><span class="line">æœ‰ä¸€ä¸ªç‰¹æ®Šå½¢å¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ•°å€¼æ—¶ï¼Œå°†å»¶æ—¶è¯¥æ•°å€¼æ¯«ç§’åæ‰§è¡Œå›è°ƒå‡½æ•°</span><br><span class="line"></span><br><span class="line">çº¿ç¨‹</span><br><span class="line">t=thread(f,args)</span><br><span class="line">f ä¸ºçº¿ç¨‹ä¸­æ‰§è¡Œçš„ä»£ç æˆ–å‡½æ•°æˆ–æ–‡ä»¶è·¯å¾„ï¼Œargs ä¸ºåˆå§‹ä¼ å…¥å‚æ•°</span><br><span class="line">è°ƒç”¨çº¿ç¨‹ä¸­æ–¹æ³•</span><br><span class="line">call(t,fn,args)</span><br><span class="line">t ä¸ºçº¿ç¨‹ï¼Œfn ä¸ºå‡½æ•°åç§°ï¼Œargs ä¸ºå‚æ•°</span><br><span class="line">è®¾ç½®çº¿ç¨‹å˜é‡</span><br><span class="line">set(t,fn,<span class="built_in">arg</span>)</span><br><span class="line">t ä¸ºçº¿ç¨‹ï¼Œfn ä¸ºå˜é‡åç§°ï¼Œ<span class="built_in">arg</span> ä¸ºå˜é‡å€¼</span><br><span class="line">çº¿ç¨‹è°ƒç”¨ä¸»çº¿ç¨‹ä¸­æ–¹æ³•</span><br><span class="line">call(fn,args)</span><br><span class="line">fn ä¸ºå‡½æ•°åç§°ï¼Œargs ä¸ºå‚æ•°</span><br><span class="line">çº¿ç¨‹è®¾ç½®ä¸»çº¿ç¨‹å˜é‡</span><br><span class="line">set(fn,<span class="built_in">arg</span>)</span><br><span class="line">fn ä¸ºå˜é‡åç§°ï¼Œ<span class="built_in">arg</span> ä¸ºå˜é‡å€¼</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼šå‚æ•°ç±»å‹ä¸º å­—ç¬¦ä¸²ï¼Œæ•°å€¼ï¼ŒJavaå¯¹è±¡ï¼Œå¸ƒå°”å€¼ä¸<span class="literal">nil</span></span><br><span class="line">çº¿ç¨‹è¦ä½¿ç”¨quitç»“æŸçº¿ç¨‹ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å®šæ—¶å™¨</span><br><span class="line"></span><br><span class="line">t=timer(func,delay,period,args)</span><br><span class="line"></span><br><span class="line">func ä¸ºå®šæ—¶å™¨æ‰§è¡Œçš„å‡½æ•°ï¼Œdelay ä¸ºå®šæ—¶å™¨å»¶æ—¶ï¼Œperiod ä¸ºå®šæ—¶å™¨é—´éš”ï¼Œargs ä¸ºåˆå§‹åŒ–å‚æ•°</span><br><span class="line">t.enabled=<span class="literal">false</span> æš‚åœå®šæ—¶å™¨</span><br><span class="line">t.enabled=<span class="literal">true</span> å¯åŠ¨å®šæ—¶å™¨</span><br><span class="line">t.stop() åœæ­¢å®šæ—¶å™¨</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼šå®šæ—¶å™¨å‡½æ•°å®šä¹‰runå‡½æ•°æ—¶å®šæ—¶å™¨é‡å¤æ‰§è¡Œrunå‡½æ•°ï¼Œå¦åˆ™é‡å¤æ‰§è¡Œæ„å»ºæ—¶çš„funcå‡½æ•°</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>11ï¼Œä½¿ç”¨å¸ƒå±€è¡¨</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/11%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%B8%83%E5%B1%80%E8%A1%A8-2021-11-07%2020:54:00/</url>
    <content><![CDATA[<h1>11ï¼Œä½¿ç”¨å¸ƒå±€è¡¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨å¸ƒå±€è¡¨é¡»å¯¼å…¥android.viewä¸android.widgetåŒ…ã€‚</span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">å¸ƒå±€è¡¨æ ¼å¼</span><br><span class="line">layout=&#123;</span><br><span class="line">  æ§ä»¶ç±»åç§°,</span><br><span class="line">  id=æ§ä»¶åç§°,</span><br><span class="line">  å±æ€§=å€¼,</span><br><span class="line">  &#123;</span><br><span class="line">    å­æ§ä»¶ç±»åç§°,</span><br><span class="line">    id=æ§ä»¶åç§°,</span><br><span class="line">    å±æ€§=å€¼,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout,<span class="comment">--è§†å›¾ç±»åç§°</span></span><br><span class="line">  id=<span class="string">&quot;linear&quot;</span>,<span class="comment">--è§†å›¾IDï¼Œå¯ä»¥åœ¨loadlayoutåç›´æ¥ä½¿ç”¨</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å±æ€§ä¸å€¼</span></span><br><span class="line">  &#123;</span><br><span class="line">    TextView,<span class="comment">--å­è§†å›¾ç±»åç§°</span></span><br><span class="line">    text=<span class="string">&quot;hello AndroLua+&quot;</span>,<span class="comment">--å±æ€§ä¸å€¼</span></span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span><span class="comment">--å¸ƒå±€å±æ€§</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">ä½¿ç”¨loadlayoutå‡½æ•°è§£æå¸ƒå±€è¡¨ç”Ÿæˆå¸ƒå±€ã€‚</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line">ä¹Ÿå¯ä»¥ç®€åŒ–ä¸ºï¼š</span><br><span class="line">activity.setContentView(layout)</span><br><span class="line">å¦‚æœä½¿ç”¨å•ç‹¬æ–‡ä»¶å¸ƒå±€(æ¯”å¦‚æœ‰ä¸ªlayout.alyå¸ƒå±€æ–‡ä»¶)ä¹Ÿå¯ä»¥ç®€å†™ä¸ºï¼š</span><br><span class="line">activity.setContentView(<span class="string">&quot;layout&quot;</span>)</span><br><span class="line">æ­¤æ—¶ä¸ç”¨å¯¼å…¥å¸ƒå±€æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">å¸ƒå±€è¡¨æ”¯æŒå¤§å…¨éƒ¨å®‰å“æ§ä»¶å±æ€§ï¼Œ</span><br><span class="line">ä¸å®‰å“XMLå¸ƒå±€æ–‡ä»¶çš„ä¸åŒç‚¹ï¼š</span><br><span class="line">idè¡¨ç¤ºåœ¨Luaä¸­å˜é‡çš„åç§°ï¼Œè€Œä¸æ˜¯å®‰å“çš„å¯ä»¥findbyidçš„æ•°å­—idã€‚</span><br><span class="line">ImageViewçš„srcå±æ€§æ˜¯å½“å‰ç›®å½•å›¾ç‰‡åç§°æˆ–ç»å¯¹æ–‡ä»¶è·¯å¾„å›¾ç‰‡æˆ–ç½‘ç»œä¸Šçš„å›¾ç‰‡ï¼Œ</span><br><span class="line">layout_widthä¸layout_heightçš„å€¼æ”¯æŒfillä¸<span class="built_in">wrap</span>ç®€å†™ï¼Œ</span><br><span class="line">onClickå€¼ä¸ºluaå‡½æ•°æˆ–java onClickæ¥å£æˆ–ä»–ä»¬çš„å…¨å±€å˜é‡åç§°ï¼Œ</span><br><span class="line">èƒŒæ™¯backgroundæ”¯æŒèƒŒæ™¯å›¾ç‰‡ï¼ŒèƒŒæ™¯è‰²ä¸LuaDrawableè‡ªç»˜åˆ¶èƒŒæ™¯ï¼ŒèƒŒæ™¯å›¾ç‰‡å‚æ•°ä¸ºæ˜¯å½“å‰ç›®å½•å›¾ç‰‡åç§°æˆ–ç»å¯¹æ–‡ä»¶è·¯å¾„å›¾ç‰‡æˆ–ç½‘ç»œä¸Šçš„å›¾ç‰‡ï¼Œé¢œè‰²åŒbackgroundColorï¼Œè‡ªç»˜åˆ¶èƒŒæ™¯å‚æ•°ä¸ºç»˜åˆ¶å‡½æ•°æˆ–ç»˜åˆ¶å‡½æ•°çš„å…¨å±€å˜é‡åç§°ï¼Œ</span><br><span class="line">æ§ä»¶èƒŒæ™¯è‰²ä½¿ç”¨backgroundColorè®¾ç½®ï¼Œå€¼ä¸º<span class="string">&quot;åå…­è¿›åˆ¶é¢œè‰²å€¼&quot;</span>ã€‚</span><br><span class="line">å°ºå¯¸å•ä½æ”¯æŒ pxï¼Œdpï¼Œspï¼Œ<span class="keyword">in</span>ï¼Œmmï¼Œ%wï¼Œ%hã€‚</span><br><span class="line">å…¶ä»–å‚è€ƒloadlayoutä¸loadbitmap</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>0ï¼ŒAndroLuaX+å†…ç½®ä¸­æ–‡å‡½æ•°åº“</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/0%EF%BC%8CAndroLuaX+%E5%86%85%E7%BD%AE%E4%B8%AD%E6%96%87%E5%87%BD%E6%95%B0%E5%BA%93-2021-11-07%2020:50:09/</url>
    <content><![CDATA[<h1>0ï¼ŒAndroLuaX+å†…ç½®ä¸­æ–‡å‡½æ•°åº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ä¸­æ–‡å‡½æ•°åº“éœ€è¦å¯¼å…¥å‡½æ•°åŒ…</span><br><span class="line">import <span class="string">&quot;LuaGo&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">-- Author: LuaGoX+PRO wyiqopu123ğŸ˜‚ğŸ˜‚ğŸ˜‚</span></span><br><span class="line"><span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">--[[**</span></span><br><span class="line"><span class="comment"> * @Require: LuaGo.lua</span></span><br><span class="line"><span class="comment"> * @Date: 2021-05-1 13:04:24</span></span><br><span class="line"><span class="comment"> * @Description: ä¸­æ–‡å‡½æ•°æ¨¡å—</span></span><br><span class="line"><span class="comment"> * @introduce:LuaGoä¸­æ–‡å‡½æ•°æ¨¡å—ï¼Œé™ä½ä½¿ç”¨é—¨æ§›ï¼Œæ–¹ä¾¿è·Ÿä¿ºä¸€æ ·çš„å°ç™½ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment">**]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.*&quot;</span></span><br><span class="line">import<span class="string">&quot;android.webkit.*&quot;</span></span><br><span class="line">import<span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import<span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuffColorFilter&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuff&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.ActionBarTabListener&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.AlertDialog&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.SearchManager&quot;</span></span><br><span class="line">import <span class="string">&quot;android.animation.ObjectAnimator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.animation.ArgbEvaluator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.animation.ValueAnimator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.animation.AnimatorAnimatorListener&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.DialogInterface&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.pm.ApplicationInfo&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.res.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.SharedPreferences&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.BitmapDrawable&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.ColorDrawable&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuff&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuffColorFilter&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Typeface&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Matrix&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuffXfermode&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.RectF&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuffMode&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Rect&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Canvas&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.BitmapFactory&quot;</span></span><br><span class="line">import <span class="string">&quot;android.media.MediaPlayer&quot;</span></span><br><span class="line">import <span class="string">&quot;android.media.MediaMetadataRetriever&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.TrafficStats&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.Build&quot;</span></span><br><span class="line">import <span class="string">&quot;android.opengl.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.provider.MediaStore&quot;</span></span><br><span class="line">import <span class="string">&quot;android.provider.Settings&quot;</span></span><br><span class="line">import <span class="string">&quot;android.provider.SettingsSecure&quot;</span></span><br><span class="line">import <span class="string">&quot;android.telephony.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.Html&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.format.Formatter&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.SpannableString&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.style.ForegroundColorSpan&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.Spannable&quot;</span></span><br><span class="line">import <span class="string">&quot;android.util.TypedValue&quot;</span></span><br><span class="line">import <span class="string">&quot;android.util.Config&quot;</span></span><br><span class="line">import <span class="string">&quot;android.util.DisplayMetrics&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.animation.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.animation.AnimationAnimationListener&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.animation.AnimationUtils&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.animation.LayoutAnimationController&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.inputmethod.InputMethodManager&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.ViewOnFocusChangeListener&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.animation.AccelerateInterpolator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.inputmethod.EditorInfo&quot;</span></span><br><span class="line">import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.ArrayAdapter&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.LinearLayout&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.EditText&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.ListView&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.PullingLayout&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.TextView&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.TimePickerOnTimeChangedListener&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.PageViewPageTransformer&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.DrawerLayoutDrawerListener&quot;</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">import <span class="string">&quot;java.io.FileOutputStream&quot;</span></span><br><span class="line">import <span class="string">&quot;java.io.FileInputStream&quot;</span></span><br><span class="line">import <span class="string">&quot;java.io.BufferedInputStream&quot;</span></span><br><span class="line">import <span class="string">&quot;java.net.URLDecoder&quot;</span></span><br><span class="line">import <span class="string">&quot;java.lang.String&quot;</span></span><br><span class="line">import <span class="string">&quot;java.util.zip.ZipFile&quot;</span></span><br><span class="line">import <span class="string">&quot;java.util.regex.Pattern&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.ColorDrawable&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºä¸€ä¸ªç±»</span></span><br><span class="line"><span class="keyword">local</span> ä¸­æ–‡å‡½æ•°åº“ = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é‡å¯åº”ç”¨<span class="params">()</span></span></span><br><span class="line">  <span class="comment">-- By: ä¸€ç¼•æ¸…é£è‡ªåœ¨é£</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  <span class="keyword">local</span> intent=activity.getPackageManager().getLaunchIntentForPackage(activity.getPackageName());</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æœç´¢<span class="params">(å…³é”®è¯)</span></span></span><br><span class="line">  <span class="comment">-- By: å¯’æ­Œ (QQ: 2113075983)</span></span><br><span class="line">  <span class="keyword">if</span> å…³é”®è¯ <span class="keyword">then</span></span><br><span class="line">    import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">    import <span class="string">&quot;android.app.SearchManager&quot;</span></span><br><span class="line">    <span class="keyword">local</span> intent = Intent()</span><br><span class="line">    intent.setAction(Intent.ACTION_WEB_SEARCH)</span><br><span class="line">    intent.putExtra(SearchManager.QUERY,å…³é”®è¯)</span><br><span class="line">    activity.startActivity(intent)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">error</span>(<span class="string">&quot;ä¼ å…¥å‚æ•°å¼‚å¸¸&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å›¾ç‰‡ç€è‰²<span class="params">(ä½å›¾,é¢œè‰²)</span></span></span><br><span class="line">  <span class="comment">-- By: å¯’æ­Œ (QQ: 2113075983)</span></span><br><span class="line">  <span class="keyword">local</span> bitmap=ä½å›¾</span><br><span class="line">  <span class="keyword">local</span> color=é¢œè‰²</span><br><span class="line">  <span class="keyword">local</span> aa=BitmapDrawable(bitmap)</span><br><span class="line">  aa.setColorFilter(PorterDuffColorFilter(color,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line">  <span class="keyword">return</span> aa</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¿å­˜ä½å›¾<span class="params">(ä½å›¾,è·¯å¾„)</span></span></span><br><span class="line">  <span class="comment">-- By: å¯’æ­Œ (QQ: 2113075983)</span></span><br><span class="line">  <span class="keyword">local</span> bm=ä½å›¾</span><br><span class="line">  <span class="keyword">local</span> name=è·¯å¾„</span><br><span class="line">  <span class="keyword">if</span> bm <span class="keyword">then</span></span><br><span class="line">    import <span class="string">&quot;java.io.FileOutputStream&quot;</span></span><br><span class="line">    import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">    import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">    name=<span class="built_in">tostring</span>(name)</span><br><span class="line">    f = File(name)</span><br><span class="line">    out = FileOutputStream(f)</span><br><span class="line">    bm.compress(Bitmap.CompressFormat.PNG,<span class="number">90</span>, out)</span><br><span class="line">    out.<span class="built_in">flush</span>()</span><br><span class="line">    out.<span class="built_in">close</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç¼©æ”¾å›¾ç‰‡<span class="params">(ä½å›¾,ç¼©æ”¾çº§åˆ«)</span></span></span><br><span class="line">  <span class="comment">-- By: ä½šå</span></span><br><span class="line">  <span class="keyword">local</span> bm=ä½å›¾</span><br><span class="line">  <span class="keyword">local</span> degrees=ç¼©æ”¾çº§åˆ«</span><br><span class="line">  import <span class="string">&quot;android.graphics.Matrix&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">  width = bm.getWidth()</span><br><span class="line">  height = bm.getHeight()</span><br><span class="line">  matrix = Matrix()</span><br><span class="line">  matrix.postRotate(degrees)</span><br><span class="line">  bmResult = Bitmap.createBitmap(bm, <span class="number">0</span>, <span class="number">0</span>, width, height, matrix, <span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">return</span> bmResult</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŒ¹é…æ±‰å­—<span class="params">(æ–‡æœ¬)</span></span></span><br><span class="line">  <span class="comment">-- By: ä½šå</span></span><br><span class="line">  <span class="keyword">local</span> s=æ–‡æœ¬</span><br><span class="line">  <span class="keyword">local</span> ss = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> k = <span class="number">1</span>, #s <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">local</span> c = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> c <span class="keyword">then</span> <span class="keyword">break</span> <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> (c&gt;=<span class="number">48</span> <span class="keyword">and</span> c&lt;=<span class="number">57</span>) <span class="keyword">or</span> (c&gt;= <span class="number">65</span> <span class="keyword">and</span> c&lt;=<span class="number">90</span>) <span class="keyword">or</span> (c&gt;=<span class="number">97</span> <span class="keyword">and</span> c&lt;=<span class="number">122</span>) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">string</span>.<span class="built_in">char</span>(c):<span class="built_in">find</span>(<span class="string">&quot;%w&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">table</span>.<span class="built_in">insert</span>(ss, <span class="built_in">string</span>.<span class="built_in">char</span>(c))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">     <span class="keyword">elseif</span> c&gt;=<span class="number">228</span> <span class="keyword">and</span> c&lt;=<span class="number">233</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">local</span> c1 = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k+<span class="number">1</span>)</span><br><span class="line">      <span class="keyword">local</span> c2 = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k+<span class="number">2</span>)</span><br><span class="line">      <span class="keyword">if</span> c1 <span class="keyword">and</span> c2 <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">local</span> a1,a2,a3,a4 = <span class="number">128</span>,<span class="number">191</span>,<span class="number">128</span>,<span class="number">191</span></span><br><span class="line">        <span class="keyword">if</span> c == <span class="number">228</span> <span class="keyword">then</span> a1 = <span class="number">184</span></span><br><span class="line">         <span class="keyword">elseif</span> c == <span class="number">233</span> <span class="keyword">then</span> a2,a4 = <span class="number">190</span>,c1 ~= <span class="number">190</span> <span class="keyword">and</span> <span class="number">191</span> <span class="keyword">or</span> <span class="number">165</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">if</span> c1&gt;=a1 <span class="keyword">and</span> c1&lt;=a2 <span class="keyword">and</span> c2&gt;=a3 <span class="keyword">and</span> c2&lt;=a4 <span class="keyword">then</span></span><br><span class="line">          k = k + <span class="number">2</span></span><br><span class="line">          <span class="built_in">table</span>.<span class="built_in">insert</span>(ss, <span class="built_in">string</span>.<span class="built_in">char</span>(c,c1,c2))</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">table</span>.<span class="built_in">concat</span>(ss)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æŒ¯åŠ¨<span class="params">(æ¨¡å¼)</span></span></span><br><span class="line">  <span class="comment">-- By: çƒ§é£ (QQ: 2063597709)</span></span><br><span class="line">  <span class="comment">-- æ³¨: éœ€è¦ç”³è¯·æ§åˆ¶æŒ¯åŠ¨å™¨æƒé™</span></span><br><span class="line">  <span class="comment">-- æŒ¯åŠ¨æ¨¡å¼æ ¼å¼: &#123;ç­‰å¾…æ—¶é—´,æŒ¯åŠ¨æ—¶é—´,ç­‰å¾…æ—¶é—´,æŒ¯åŠ¨æ—¶é—´,â€¢â€¢â€¢,â€¢â€¢â€¢,â€¢â€¢â€¢,â€¢â€¢â€¢â€¢â€¢&#125;</span></span><br><span class="line">  <span class="comment">-- ä¾‹å¦‚: &#123;500,100,500,100,500&#125;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> æ¨¡å¼ <span class="keyword">then</span></span><br><span class="line">    æ¨¡å¼=&#123;<span class="number">500</span>&#125;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  vibrator = activity.getSystemService(Context.VIBRATOR_SERVICE)</span><br><span class="line">  vibrator.vibrate( long(æ¨¡å¼) ,<span class="number">-1</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨æ–¹æ³• </span></span><br><span class="line"><span class="comment">--æŒ¯åŠ¨(&#123;500,100,500,100,500&#125;)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–ç­¾å<span class="params">(åŒ…å)</span></span></span><br><span class="line">  <span class="comment">-- By: QQ32552732</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">tostring</span>(this.getPackageManager().getPackageInfo(this.getPackageName(),((<span class="number">32552732</span>/<span class="number">2</span>/<span class="number">2</span><span class="number">-8183</span>)/<span class="number">10000</span><span class="number">-6</span><span class="number">-231</span>)/<span class="number">9</span>).signatures[(<span class="number">32552732</span>+<span class="number">0</span>+<span class="number">32552732</span>-(<span class="number">32552732</span>*<span class="number">2</span>))].toCharsString())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æç¤º6<span class="params">(æ–‡æœ¬å†…å®¹)</span></span></span><br><span class="line">  <span class="keyword">if</span> æ–‡æœ¬å†…å®¹~=<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    xxxx=&#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        &#123;</span><br><span class="line">          CardView;</span><br><span class="line">          radius=<span class="string">&#x27;5dp&#x27;</span>;</span><br><span class="line">          elevation=<span class="string">&#x27;5dp&#x27;</span>;</span><br><span class="line">          layout_height=<span class="string">&#x27;wrap_content&#x27;</span>;</span><br><span class="line">          layout_margin=<span class="string">&#x27;18dp&#x27;</span>;</span><br><span class="line">          layout_width=activity.getWidth()/<span class="number">1.1</span>;</span><br><span class="line">          CardBackgroundColor=<span class="string">&quot;#FF202124&quot;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            TextView;</span><br><span class="line">            textColor=<span class="string">&#x27;#ffffff&#x27;</span>;</span><br><span class="line">            layout_marginTop=<span class="string">&#x27;15dp&#x27;</span>;</span><br><span class="line">            layout_marginBottom=<span class="string">&#x27;15dp&#x27;</span>;</span><br><span class="line">            layout_margin=<span class="string">&#x27;15dp&#x27;</span>;</span><br><span class="line">            text=æ–‡æœ¬å†…å®¹;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    å¸ƒå±€=loadlayout(xxxx)</span><br><span class="line">    <span class="keyword">local</span> toast=Toast.makeText(activity,<span class="string">&quot;æç¤º&quot;</span>,Toast.LENGTH_SHORT).setGravity(Gravity.BOTTOM, <span class="number">0</span>, <span class="number">0</span>).setView(å¸ƒå±€).show()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼¹çª—åœ†è§’<span class="params">(æ§ä»¶,èƒŒæ™¯è‰²,ä¸Šè§’åº¦,ä¸‹è§’åº¦)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> ä¸Šè§’åº¦ <span class="keyword">then</span></span><br><span class="line">    ä¸Šè§’åº¦=<span class="number">25</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> ä¸‹è§’åº¦ <span class="keyword">then</span></span><br><span class="line">    ä¸‹è§’åº¦=ä¸Šè§’åº¦</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  æ§ä»¶.setBackgroundDrawable(GradientDrawable()</span><br><span class="line">  .setShape(GradientDrawable.RECTANGLE)</span><br><span class="line">  .setColor(èƒŒæ™¯è‰²)</span><br><span class="line">  .setCornerRadii(&#123;ä¸Šè§’åº¦,ä¸Šè§’åº¦,ä¸Šè§’åº¦,ä¸Šè§’åº¦,ä¸‹è§’åº¦,ä¸‹è§’åº¦,ä¸‹è§’åº¦,ä¸‹è§’åº¦&#125;))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MD</span>æç¤º<span class="params">(str,a,b,c,d)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">time</span> <span class="keyword">then</span> toasttime=Toast.LENGTH_SHORT <span class="keyword">else</span> toasttime= Toast.LENGTH_SHORT <span class="keyword">end</span></span><br><span class="line">  toasts=&#123;</span><br><span class="line">    CardView;</span><br><span class="line">    id=<span class="string">&quot;toastb&quot;</span>,</span><br><span class="line">    CardElevation=c;</span><br><span class="line">    radius=d;</span><br><span class="line">    background=a;</span><br><span class="line">    &#123;</span><br><span class="line">      TextView;</span><br><span class="line">      layout_margin=<span class="string">&quot;7dp&quot;</span>;</span><br><span class="line">      textSize=<span class="string">&quot;13sp&quot;</span>;</span><br><span class="line">      TextColor=b,</span><br><span class="line">      layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">      text=<span class="string">&quot;Hello Ori&quot;</span>;</span><br><span class="line">      id=<span class="string">&quot;mess&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  message=<span class="built_in">tostring</span>(str)</span><br><span class="line">  <span class="keyword">local</span> toast=Toast.makeText(activity,<span class="string">&quot;å†…å®¹&quot;</span>,toasttime);</span><br><span class="line">  toast.setView(loadlayout(toasts))</span><br><span class="line">  mess.Text=message</span><br><span class="line">  toast.show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> çª—å£æ ‡é¢˜<span class="params">(a)</span></span></span><br><span class="line">  activity.setTitle(a)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è½½å…¥é¡µé¢<span class="params">(a)</span></span></span><br><span class="line">  activity.setContentView(loadlayout(a))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> çª—å£å…¨å±<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å–æ¶ˆå…¨å±<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿”å›æ¡Œé¢<span class="params">()</span></span></span><br><span class="line">  activity.moveTaskToBack(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æç¤º<span class="params">(a)</span></span></span><br><span class="line">  Toast.makeText(activity,a,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æˆªå–<span class="params">(str,str1,str2)</span></span></span><br><span class="line">  str1=str1:<span class="built_in">gsub</span>(<span class="string">&quot;%p&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">(s)</span></span> <span class="keyword">return</span>(<span class="string">&quot;%&quot;</span>..s) <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">return</span>(str:<span class="built_in">match</span>(str1 .. <span class="string">&quot;(.-)&quot;</span>..str2))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ›¿æ¢<span class="params">(str,str1,str2)</span></span></span><br><span class="line">  str1=str1:<span class="built_in">gsub</span>(<span class="string">&quot;%p&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">(s)</span></span> <span class="keyword">return</span>(<span class="string">&quot;%&quot;</span>..s) <span class="keyword">end</span>)</span><br><span class="line">  str2=str2:<span class="built_in">gsub</span>(<span class="string">&quot;%%&quot;</span>,<span class="string">&quot;%%%%&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span>(str:<span class="built_in">gsub</span>(str1,str2))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å­—ç¬¦ä¸²é•¿åº¦<span class="params">(str)</span></span></span><br><span class="line">  <span class="keyword">return</span>(utf8.<span class="built_in">len</span>(str))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sgg</span><span class="params">(s,i,j)</span></span></span><br><span class="line">  i,j=<span class="built_in">tonumber</span>(i),<span class="built_in">tonumber</span>(j)</span><br><span class="line">  i=utf8.offset(s,i)</span><br><span class="line">  j=((j <span class="keyword">or</span> <span class="number">-1</span>)==<span class="number">-1</span> <span class="keyword">and</span> <span class="number">-1</span>) <span class="keyword">or</span> utf8.offset(s,j+<span class="number">1</span>)<span class="number">-1</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">sub</span>(s,i,j)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> çŠ¶æ€æ é¢œè‰²<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(a);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®æ–‡æœ¬<span class="params">(a,b)</span></span></span><br><span class="line">  a.setText(b)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­é¡µé¢<span class="params">()</span></span></span><br><span class="line">  activity.finish()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ–‡æœ¬<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">return</span> (a).Text()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç»“æŸç¨‹åº<span class="params">()</span></span></span><br><span class="line">  activity.finish()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é‡æ„é¡µé¢<span class="params">()</span></span></span><br><span class="line">  activity.recreate()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶åœ†è§’<span class="params">(view,InsideColor,radiu)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">  drawable = GradientDrawable()</span><br><span class="line">  drawable.setShape(GradientDrawable.RECTANGLE)</span><br><span class="line">  drawable.setColor(InsideColor)</span><br><span class="line">  drawable.setCornerRadii(&#123;radiu,radiu,radiu,radiu,radiu,radiu,radiu,radiu&#125;);</span><br><span class="line">  view.setBackgroundDrawable(drawable)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶èƒŒæ™¯æ¸å˜åŠ¨ç”»<span class="params">(a,b,c,d,e)</span></span></span><br><span class="line">  view=a</span><br><span class="line">  color1 = b</span><br><span class="line">  color2 = c</span><br><span class="line">  color3 = d</span><br><span class="line">  color4 = e</span><br><span class="line">  import <span class="string">&quot;android.animation.ObjectAnimator&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.animation.ArgbEvaluator&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.animation.ValueAnimator&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">  colorAnim = ObjectAnimator.ofInt(view,<span class="string">&quot;backgroundColor&quot;</span>,&#123;color1, color2, color3,color4&#125;)</span><br><span class="line">  colorAnim.setDuration(<span class="number">3000</span>)</span><br><span class="line">  colorAnim.setEvaluator(ArgbEvaluator())</span><br><span class="line">  colorAnim.setRepeatCount(ValueAnimator.INFINITE)</span><br><span class="line">  colorAnim.setRepeatMode(ValueAnimator.REVERSE)</span><br><span class="line">  colorAnim.start()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å®‰è£…åˆ¤æ–­<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span> activity.getPackageManager().getPackageInfo(a,<span class="number">0</span>) <span class="keyword">end</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®ä¸­åˆ’çº¿<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">  a.getPaint().setFlags(Paint. STRIKE_THRU_TEXT_FLAG)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®ä¸‹åˆ’çº¿<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">  a.getPaint().setFlags(Paint. UNDERLINE_TEXT_FLAG )</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®å­—ä½“åŠ ç²—<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">  a.getPaint().setFakeBoldText(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®æ–œä½“<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">  a.getPaint().setTextSkewX(<span class="number">0.2</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ†äº«<span class="params">(a)</span></span></span><br><span class="line">  text=a</span><br><span class="line">  intent=Intent(Intent.ACTION_SEND);</span><br><span class="line">  intent.setType(<span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_SUBJECT, <span class="string">&quot;åˆ†äº«&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_TEXT, text);</span><br><span class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">  activity.startActivity(Intent.createChooser(intent,<span class="string">&quot;åˆ†äº«åˆ°:&quot;</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ ç¾¤<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  url=<span class="string">&quot;mqqapi://card/show_pslcard?src_type=internal&amp;version=1&amp;uin=&quot;</span>..a..<span class="string">&quot;&amp;card_type=group&amp;source=qrcode&quot;</span></span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QQ</span>èŠå¤©<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  url=<span class="string">&quot;mqqwpa://im/chat?chat_type=wpa&amp;uin=&quot;</span>..a</span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‘é€çŸ­ä¿¡<span class="params">(å·ç ,åç§°,å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;smsto:&quot;</span>..å·ç )</span><br><span class="line">  intent = Intent(Intent.ACTION_SENDTO, uri)</span><br><span class="line">  intent.putExtra(åç§°,å†…å®¹)</span><br><span class="line">  intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼€å¯<span class="title">WIFI</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  wifi = activity.Context.getSystemService(Context.WIFI_SERVICE)</span><br><span class="line">  wifi.setWifiEnabled(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­<span class="title">WIFI</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  wifi = activity.Context.getSystemService(Context.WIFI_SERVICE)</span><br><span class="line">  wifi.setWifiEnabled(<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ–­å¼€ç½‘ç»œ<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  wifi = activity.Context.getSystemService(Context.WIFI_SERVICE)</span><br><span class="line">  wifi.disconnect()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ›å»ºæ–‡ä»¶<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(a).createNewFile()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ›å»ºæ–‡ä»¶å¤¹<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(a).mkdir()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(a).mkdirs()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç§»åŠ¨æ–‡ä»¶<span class="params">(a,b)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(a).renameTo(File(b))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥æ–‡ä»¶33<span class="params">(a,b)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">io</span>.<span class="built_in">open</span>(a,<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(b):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æŒ‰é’®é¢œè‰²<span class="params">(aa,id)</span></span></span><br><span class="line">  aa.getBackground().setColorFilter(PorterDuffColorFilter(id,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç¼–è¾‘æ¡†é¢œè‰²<span class="params">(id,cc)</span></span></span><br><span class="line">  id.getBackground().setColorFilter(PorterDuffColorFilter(cc,PorterDuff.Mode.SRC_ATOP));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿›åº¦æ¡é¢œè‰²<span class="params">(id,cc)</span></span></span><br><span class="line">  id.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(cc,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶é¢œè‰²<span class="params">(id,cc)</span></span></span><br><span class="line">  id.setBackgroundColor(cc)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ‰‹æœºå­˜å‚¨è·¯å¾„<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> Environment.getExternalStorageDirectory().toString()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–å±å¹•å®½<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getWidth()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–å±å¹•é«˜<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getHeight()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ–‡ä»¶æ˜¯å¦å­˜åœ¨<span class="params">(id)</span></span></span><br><span class="line">  <span class="keyword">return</span> File(id).exists()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­ä¾§æ»‘<span class="params">()</span></span></span><br><span class="line">  drawerLayout.closeDrawer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ä¾§æ»‘<span class="params">()</span></span></span><br><span class="line">  drawerLayout.openDrawer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ˜¾ç¤º<span class="params">(id)</span></span></span><br><span class="line">  id.setVisibility(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšè—<span class="params">(id)</span></span></span><br><span class="line">  id.setVisibility(<span class="number">8</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ’­æ”¾æœ¬åœ°éŸ³ä¹<span class="params">(id)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;file://&quot;</span>..id)</span><br><span class="line">  intent.setDataAndType(uri, <span class="string">&quot;audio/mp3&quot;</span>)</span><br><span class="line">  this.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åœ¨çº¿æ’­æ”¾éŸ³ä¹<span class="params">(id)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  uri = Uri.parse(id)</span><br><span class="line">  intent.setDataAndType(uri, <span class="string">&quot;audio/mp3&quot;</span>)</span><br><span class="line">  this.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ’­æ”¾æœ¬åœ°è§†é¢‘<span class="params">(id)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;file://&quot;</span>..id)</span><br><span class="line">  intent.setDataAndType(uri, <span class="string">&quot;video/mp4&quot;</span>)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åœ¨çº¿æ’­æ”¾è§†é¢‘<span class="params">(id)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  uri = Uri.parse(id)</span><br><span class="line">  intent.setDataAndType(uri, <span class="string">&quot;video/mp4&quot;</span>)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€<span class="title">app</span><span class="params">(id)</span></span></span><br><span class="line">  packageName=id</span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">  manager = activity.getPackageManager()</span><br><span class="line">  <span class="built_in">open</span> = manager.getLaunchIntentForPackage(packageName)</span><br><span class="line">  this.startActivity(<span class="built_in">open</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¸è½½<span class="title">app</span><span class="params">(id)</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  åŒ…å=id</span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;package:&quot;</span>..åŒ…å)</span><br><span class="line">  intent = Intent(Intent.ACTION_DELETE,uri)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å®‰è£…<span class="title">app</span><span class="params">(id)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  å®‰è£…åŒ…è·¯å¾„=id</span><br><span class="line">  intent.setDataAndType(Uri.parse(<span class="string">&quot;file://&quot;</span>..å®‰è£…åŒ…è·¯å¾„), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>)</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç³»ç»Ÿä¸‹è½½æ–‡ä»¶<span class="params">(a,b,c)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  downloadManager=activity.getSystemService(Context.DOWNLOAD_SERVICE);</span><br><span class="line">  url=Uri.parse(a);</span><br><span class="line">  request=DownloadManager.Request(url);</span><br><span class="line">  request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE|DownloadManager.Request.NETWORK_WIFI);</span><br><span class="line">  request.setDestinationInExternalPublicDir(b,c);</span><br><span class="line">  request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);</span><br><span class="line">  downloadManager.enqueue(request);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼¹çª—1<span class="params">(a,b,c,functions)</span></span></span><br><span class="line">  dialog=AlertDialog.Builder(this)</span><br><span class="line">  .setTitle(a)</span><br><span class="line">  .setMessage(b)</span><br><span class="line">  .setPositiveButton(c,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">      functions()</span><br><span class="line">    <span class="keyword">end</span>&#125;)</span><br><span class="line">  .show()</span><br><span class="line">  dialog.<span class="built_in">create</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ³¢çº¹<span class="params">(id,ys)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.res.ColorStateList&quot;</span></span><br><span class="line">  <span class="keyword">local</span> attrsArray = &#123;android.R.attr.selectableItemBackgroundBorderless&#125;</span><br><span class="line">  <span class="keyword">local</span> typedArray =activity.obtainStyledAttributes(attrsArray)</span><br><span class="line">  ripple=typedArray.getResourceId(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">  aoos=activity.Resources.getDrawable(ripple)</span><br><span class="line">  aoos.setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;ys&#125;))</span><br><span class="line">  id.setBackground(aoos.setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;ys&#125;)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšæœºæ•°<span class="params">(a,b)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">math</span>.<span class="built_in">random</span>(a,b)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ é™¤æ§ä»¶<span class="params">(a,b)</span></span></span><br><span class="line">  <span class="keyword">return</span> (a).removeView(b)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> çŠ¶æ€æ äº®è‰²<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">23</span> <span class="keyword">then</span></span><br><span class="line">    activity.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¯¼å…¥åŒ…ç±»<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">return</span> import(a)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç‚¹å‡»äº‹ä»¶<span class="params">(a,ok)</span></span></span><br><span class="line">  a.onClick=ok</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--é•¿æŒ‰äº‹ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> é•¿æŒ‰äº‹ä»¶<span class="params">(a,ok)</span></span></span><br><span class="line">  a.onLongClick=ok</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--åˆ—è¡¨é¡¹ç›®è¢«å•å‡»</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ—è¡¨é¡¹ç›®è¢«å•å‡»<span class="params">(a,ok)</span></span></span><br><span class="line">  a.onItemClick=ok</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--åˆ—è¡¨é¡¹ç›®è¢«é•¿æŒ‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ—è¡¨é¡¹ç›®è¢«é•¿æŒ‰<span class="params">(a,ok)</span></span></span><br><span class="line">  a.onItemLongClick=ok</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--æ§ä»¶å¯è§†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶å¯è§†<span class="params">(id)</span></span></span><br><span class="line">  id.setVisibility(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--æ§ä»¶ä¸å¯è§†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶ä¸å¯è§†<span class="params">(id)</span></span></span><br><span class="line">  id.setVisibility(<span class="number">8</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å…³é—­ä¾§æ»‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­ä¾§æ»‘<span class="params">(ch)</span></span></span><br><span class="line">  ch.closeDrawer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--æ‰“å¼€ä¾§æ»‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ä¾§æ»‘<span class="params">(ch)</span></span></span><br><span class="line">  ch.openDrawer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å…³é—­å³ä¾§æ»‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­å³ä¾§æ»‘<span class="params">(ch)</span></span></span><br><span class="line">  ch.closeDrawer(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--æ‰“å¼€å³ä¾§æ»‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å³ä¾§æ»‘<span class="params">(ch)</span></span></span><br><span class="line">  ch.openDrawer(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å…³é—­å·¦ä¾§æ»‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­å·¦ä¾§æ»‘<span class="params">(ch)</span></span></span><br><span class="line">  ch.closeDrawer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--æ‰“å¼€å·¦ä¾§æ»‘</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å·¦ä¾§æ»‘<span class="params">(ch)</span></span></span><br><span class="line">  ch.openDrawer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è®¾ç½®ä¸»é¢˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®ä¸»é¢˜<span class="params">(theme)</span></span></span><br><span class="line">  activity.setTheme(theme)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è®¾ç½®æ ‡é¢˜æ æ ‡é¢˜</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®æ ‡é¢˜<span class="params">(æ ‡é¢˜)</span></span></span><br><span class="line">  activity.setTitle(æ ‡é¢˜)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--éšè—æ ‡é¢˜æ </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšè—æ ‡é¢˜æ <span class="params">()</span></span></span><br><span class="line">  activity.ActionBar.hide()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è®¾ç½®å¸ƒå±€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®å¸ƒå±€<span class="params">(a)</span></span></span><br><span class="line">  activity.setContentView(loadlayout(a))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å¸ƒå±€å†…æ’å…¥å¸ƒå±€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¸ƒå±€å†…æ’å…¥å¸ƒå±€<span class="params">(æ§ä»¶,å¸ƒå±€)</span></span></span><br><span class="line">  æ§ä»¶.addView(loadlayout(å¸ƒå±€))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•ä¸å½±å“å¸ƒå±€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•ä¸å½±å“å¸ƒå±€<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å–æ¶ˆæ ‡é¢˜æ é˜´å½±<span class="params">()</span></span></span><br><span class="line">  activity.ActionBar.setElevation(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç¼–è¾‘æ¡†å…‰æ ‡é¢œè‰²ä¿®æ”¹å‡½æ•°<span class="params">(id,Color)</span></span></span><br><span class="line">  import <span class="string">&#x27;android.graphics.Color&#x27;</span></span><br><span class="line">  import <span class="string">&#x27;android.graphics.PorterDuff&#x27;</span></span><br><span class="line">  import <span class="string">&#x27;android.graphics.PorterDuffColorFilter&#x27;</span></span><br><span class="line">  <span class="keyword">local</span> mEditorField = TextView.getDeclaredField(<span class="string">&#x27;mEditor&#x27;</span>)</span><br><span class="line">  mEditorField.setAccessible(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">local</span> mEditor = mEditorField.get(id)</span><br><span class="line">  <span class="keyword">local</span> field = Editor.getDeclaredField(<span class="string">&#x27;mCursorDrawable&#x27;</span>)</span><br><span class="line">  field.setAccessible(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">local</span> mCursorDrawable = field.get(mEditor)</span><br><span class="line">  <span class="keyword">local</span> mccdf = TextView.getDeclaredField(<span class="string">&#x27;mCursorDrawableRes&#x27;</span>)</span><br><span class="line">  mccdf.setAccessible(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">local</span> mccd = activity.getResources().getDrawable(mccdf.getInt(id))</span><br><span class="line">  mccd.setColorFilter(PorterDuffColorFilter(Color,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line">  mCursorDrawable[<span class="number">0</span>] = mccd</span><br><span class="line">  mCursorDrawable[<span class="number">1</span>] = mccd  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•å½±å“å¸ƒå±€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•å½±å“å¸ƒå±€<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--é‡ç½®å½“å‰é¡µé¢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> é‡ç½®å½“å‰é¡µé¢<span class="params">()</span></span></span><br><span class="line">  activity.recreate()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--çŠ¶æ€æ æš—è‰²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> çŠ¶æ€æ æš—è‰²<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">23</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--activity.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR);</span></span><br><span class="line">    activity.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--éšè—çŠ¶æ€æ </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšè—çŠ¶æ€æ <span class="params">()</span></span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯¼èˆªæ é¢œè‰²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¯¼èˆªæ é¢œè‰²<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">    activity.getWindow().setNavigationBarColor(a);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--é€šçŸ¥æ é¢œè‰²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> é€šçŸ¥æ é¢œè‰²<span class="params">(id)</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(id);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä»¿FusionAppå‡½æ•°---------------------------------------------------</span></span><br><span class="line"><span class="comment">--è¿›å…¥å­é¡µé¢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿›å…¥å­é¡µé¢<span class="params">(é¡µé¢,å‚æ•°)</span></span></span><br><span class="line">  <span class="keyword">if</span> å‚æ•°==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    activity.newActivity(é¡µé¢)</span><br><span class="line">   <span class="keyword">elseif</span> å‚æ•°[<span class="string">&quot;é“¾æ¥&quot;</span>]==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    activity.newActivity(é¡µé¢)</span><br><span class="line">   <span class="keyword">elseif</span> å‚æ•°[<span class="string">&quot;æ ‡é¢˜&quot;</span>]==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    é“¾æ¥=å‚æ•°[<span class="string">&quot;é“¾æ¥&quot;</span>]</span><br><span class="line">    æ ‡é¢˜=å‚æ•°[<span class="string">&quot;æ ‡é¢˜&quot;</span>]</span><br><span class="line">    activity.newActivity(é¡µé¢,&#123;é“¾æ¥,æ ‡é¢˜&#125;)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    é“¾æ¥=å‚æ•°[<span class="string">&quot;é“¾æ¥&quot;</span>]</span><br><span class="line">    æ ‡é¢˜=å‚æ•°[<span class="string">&quot;æ ‡é¢˜&quot;</span>]</span><br><span class="line">    activity.newActivity(é¡µé¢,&#123;é“¾æ¥,æ ‡é¢˜&#125;)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--intentç±»æ“ä½œ(å·²æ•´ç†)--20191222-----------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">--1.è°ƒç”¨ç³»ç»Ÿå‘é€çŸ­ä¿¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è°ƒç”¨ç³»ç»Ÿå‘é€çŸ­ä¿¡<span class="params">(å†…å®¹1,å·ç 1)</span></span></span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;smsto:&quot;</span>..å·ç <span class="number">1</span>)</span><br><span class="line">  intent = Intent(Intent.ACTION_SENDTO, uri)</span><br><span class="line">  intent.putExtra(<span class="string">&quot;sms_body&quot;</span>,å†…å®¹<span class="number">1</span>)</span><br><span class="line">  intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--2.åŠ QQç¾¤</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ <span class="title">QQ</span>ç¾¤<span class="params">(ç¾¤å·)</span></span></span><br><span class="line">  url=<span class="string">&quot;mqqapi://card/show_pslcard?src_type=internal&amp;version=1&amp;uin=&quot;</span>..ç¾¤å·..<span class="string">&quot;&amp;card_type=group&amp;source=qrcode&quot;</span></span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--3.è”ç³»QQ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è”ç³»<span class="title">QQ</span><span class="params">(QQå·ç )</span></span></span><br><span class="line">  url=<span class="string">&quot;mqqwpa://im/chat?chat_type=wpa&amp;uin=&quot;</span>..QQå·ç </span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--4.åˆ†äº«æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ†äº«æ–‡ä»¶<span class="params">(æ–‡ä»¶è·¯å¾„)</span></span></span><br><span class="line">  FileName=<span class="built_in">tostring</span>(File(æ–‡ä»¶è·¯å¾„).Name)</span><br><span class="line">  ExtensionName=FileName:<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  intent = Intent();</span><br><span class="line">  intent.setAction(Intent.ACTION_SEND);</span><br><span class="line">  intent.setType(Mime);</span><br><span class="line">  file = File(æ–‡ä»¶è·¯å¾„);</span><br><span class="line">  uri = Uri.fromFile(file);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_STREAM,uri);</span><br><span class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">  activity.startActivity(Intent.createChooser(intent, <span class="string">&quot;åˆ†äº«åˆ°:&quot;</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--5.åˆ†äº«æ–‡æœ¬</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--6.è°ƒç”¨ç³»ç»Ÿæµè§ˆå™¨æœç´¢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è°ƒç”¨ç³»ç»Ÿæµè§ˆå™¨æœç´¢<span class="params">(æœç´¢å†…å®¹)</span></span></span><br><span class="line">  intent = Intent()</span><br><span class="line">  intent.setAction(Intent.ACTION_WEB_SEARCH)</span><br><span class="line">  intent.putExtra(SearchManager.QUERY,æœç´¢å†…å®¹)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--7.è°ƒç”¨ç³»ç»Ÿæµè§ˆå™¨æ‰“å¼€é“¾æ¥</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è°ƒç”¨ç³»ç»Ÿæµè§ˆå™¨æ‰“å¼€é“¾æ¥<span class="params">(ç½‘é¡µé“¾æ¥)</span></span></span><br><span class="line">  viewIntent = Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>,Uri.parse(ç½‘é¡µé“¾æ¥))</span><br><span class="line">  activity.startActivity(viewIntent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--8.æ‰“å¼€ç¨‹åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ç¨‹åº<span class="params">(ç¨‹åºåŒ…å)</span></span></span><br><span class="line">  manager = activity.getPackageManager()</span><br><span class="line">  <span class="built_in">open</span> = manager.getLaunchIntentForPackage(ç¨‹åºåŒ…å)</span><br><span class="line">  activity.startActivity(<span class="built_in">open</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--9.å®‰è£…ç¨‹åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å®‰è£…ç¨‹åº<span class="params">(å®‰è£…åŒ…è·¯å¾„)</span></span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  intent.setDataAndType(Uri.parse(<span class="string">&quot;file://&quot;</span>..å®‰è£…åŒ…è·¯å¾„), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>)</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--10.å¸è½½ç¨‹åº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¸è½½ç¨‹åº<span class="params">(åŒ…å)</span></span></span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;package:&quot;</span>..åŒ…å)</span><br><span class="line">  intent = Intent(Intent.ACTION_DELETE,uri)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--11.æ’­æ”¾MP4</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ’­æ”¾<span class="title">MP4</span><span class="params">(è§†é¢‘è·¯å¾„)</span></span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;file://&quot;</span>..è§†é¢‘è·¯å¾„)</span><br><span class="line">  intent.setDataAndType(uri,<span class="string">&quot;video/mp4&quot;</span>)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--12.æ’­æ”¾MP3</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ’­æ”¾<span class="title">MP3</span><span class="params">(éŸ³ä¹è·¯å¾„)</span></span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;file://&quot;</span>..éŸ³ä¹è·¯å¾„)</span><br><span class="line">  intent.setDataAndType(uri,<span class="string">&quot;audio/mp3&quot;</span>)</span><br><span class="line">  this.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--13.æ‹¨å·</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‹¨å·<span class="params">(ç”µè¯å·ç )</span></span></span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;tel:&quot;</span>..ç”µè¯å·ç );</span><br><span class="line">  intent = Intent(Intent.ACTION_CALL,uri);</span><br><span class="line">  intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--14.æœç´¢åº”ç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æœç´¢åº”ç”¨<span class="params">(åŒ…å)</span></span></span><br><span class="line">  intent = Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">  intent .setData(Uri.parse( <span class="string">&quot;market://details?id=&quot;</span>..åŒ…å))</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--14.è°ƒç”¨ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è°ƒç”¨ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶<span class="params">(path)</span></span></span><br><span class="line">  FileName=<span class="built_in">tostring</span>(File(<span class="built_in">path</span>).Name)</span><br><span class="line">  ExtensionName=FileName:<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  <span class="keyword">if</span> Mime <span class="keyword">then</span></span><br><span class="line">    intent = Intent()</span><br><span class="line">    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">    intent.setAction(Intent.ACTION_VIEW);</span><br><span class="line">    intent.setDataAndType(Uri.fromFile(File(<span class="built_in">path</span>)), Mime);</span><br><span class="line">    activity.startActivity(intent)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--16.å‘é€å½©ä¿¡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‘é€å½©ä¿¡<span class="params">(å›¾ç‰‡è·¯å¾„,é‚®ä»¶åœ°å€,é‚®ä»¶å†…å®¹,ç±»å‹)</span></span></span><br><span class="line">  uri=Uri.parse(<span class="string">&quot;file://&quot;</span>..å›¾ç‰‡è·¯å¾„) <span class="comment">--å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">  intent= Intent();</span><br><span class="line">  intent.setAction(Intent.ACTION_SEND);</span><br><span class="line">  intent.putExtra(<span class="string">&quot;address&quot;</span>,é‚®ä»¶åœ°å€) <span class="comment">--é‚®ä»¶åœ°å€</span></span><br><span class="line">  intent.putExtra(<span class="string">&quot;sms_body&quot;</span>,é‚®ä»¶å†…å®¹) <span class="comment">--é‚®ä»¶å†…å®¹</span></span><br><span class="line">  intent.putExtra(Intent.EXTRA_STREAM,uri)</span><br><span class="line">  intent.setType(ç±»å‹) <span class="comment">--è®¾ç½®ç±»å‹</span></span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--17.è°ƒç”¨ç³»ç»Ÿè®¾ç½®</span></span><br><span class="line"><span class="comment">--ACTION_SETTINGS	ç³»ç»Ÿè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ç³»ç»Ÿè®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_APN_SETTINGS APNè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€<span class="title">APN</span>è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_APN_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_LOCATION_SOURCE_SETTINGS ä½ç½®å’Œè®¿é—®ä¿¡æ¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ä½ç½®å’Œè®¿é—®ä¿¡æ¯è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_LOCATION_SOURCE_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_WIRELESS_SETTINGS ç½‘ç»œè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ç½‘ç»œè®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_WIRELESS_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_AIRPLANE_MODE_SETTINGS æ— çº¿å’Œç½‘ç»œçƒ­ç‚¹è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€æ— çº¿å’Œç½‘ç»œçƒ­ç‚¹è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_AIRPLANE_MODE_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_SECURITY_SETTINGS ä½ç½®å’Œå®‰å…¨è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ä½ç½®å’Œå®‰å…¨è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_SECURITY_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_WIFI_SETTINGS æ— çº¿ç½‘WIFIè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€æ— çº¿ç½‘<span class="title">WIFI</span>è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_WIFI_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_WIFI_IP_SETTINGS æ— çº¿ç½‘IPè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€æ— çº¿ç½‘<span class="title">IP</span>è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_WIFI_IP_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_BLUETOOTH_SETTINGS è“ç‰™è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€è“ç‰™è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_BLUETOOTH_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_DATE_SETTINGS æ—¶é—´å’Œæ—¥æœŸè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€æ—¶é—´å’Œæ—¥æœŸè®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_DATE_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_SOUND_SETTINGS å£°éŸ³è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å£°éŸ³è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_SOUND_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_DISPLAY_SETTINGS æ˜¾ç¤ºè®¾ç½®â€”â€”å­—ä½“å¤§å°ç­‰</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€æ˜¾ç¤ºè®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_DISPLAY_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_LOCALE_SETTINGS è¯­è¨€è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€è¯­è¨€è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_LOCALE_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_INPUT_METHOD_SETTINGS è¾“å…¥æ³•è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€è¾“å…¥æ³•è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_INPUT_METHOD_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_USER_DICTIONARY_SETTINGS ç”¨æˆ·è¯å…¸</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ç”¨æˆ·è¯å…¸<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_USER_DICTIONARY_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_APPLICATION_SETTINGS åº”ç”¨ç¨‹åºè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€åº”ç”¨ç¨‹åºè®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_APPLICATION_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_APPLICATION_DEVELOPMENT_SETTINGS åº”ç”¨ç¨‹åºè®¾ç½® å¼€å‘è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å¼€å‘è€…é€‰é¡¹<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_APPLICATION_DEVELOPMENT_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_QUICK_LAUNCH_SETTINGS å¿«é€Ÿå¯åŠ¨è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å¿«é€Ÿå¯åŠ¨è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_QUICK_LAUNCH_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_MANAGE_APPLICATIONS_SETTINGS å·²ä¸‹è½½ï¼ˆå®‰è£…ï¼‰è½¯ä»¶åˆ—è¡¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å·²ä¸‹è½½è½¯ä»¶åˆ—è¡¨<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_MANAGE_APPLICATIONS_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_SYNC_SETTINGS åº”ç”¨ç¨‹åºæ•°æ®åŒæ­¥è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€åº”ç”¨ç¨‹åºæ•°æ®åŒæ­¥è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_SYNC_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_NETWORK_OPERATOR_SETTINGS å¯ç”¨ç½‘ç»œæœç´¢</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å¯ç”¨ç½‘ç»œæœç´¢<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_NETWORK_OPERATOR_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_DATA_ROAMING_SETTINGS ç§»åŠ¨ç½‘ç»œè®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€ç§»åŠ¨ç½‘ç»œè®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_DATA_ROAMING_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_INTERNAL_STORAGE_SETTINGS é»˜è®¤å­˜å‚¨è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€é»˜è®¤å­˜å‚¨è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_INTERNAL_STORAGE_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ACTION_MEMORY_CARD_SETTINGS é»˜è®¤å­˜å‚¨è®¾ç½®</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€<span class="title">SD</span>å¡å­˜å‚¨è®¾ç½®<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> intent = Intent(Settings.ACTION_MEMORY_CARD_SETTINGS);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ”¯ä»˜å®æ‰«ä¸€æ‰«<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW,Uri.parse(<span class="string">&quot;alipayqr://platformapi/startapp?saId=10000007&quot;</span>))</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">--æ”¯ä»˜å®æ‰«ä¸€æ‰«()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¾®ä¿¡æ‰«ä¸€æ‰«<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.ComponentName&quot;</span></span><br><span class="line">  intent = Intent()</span><br><span class="line">  intent.setComponent(ComponentName(<span class="string">&quot;com.tencent.mm&quot;</span>,<span class="string">&quot;com.tencent.mm.ui.LauncherUI&quot;</span>))</span><br><span class="line">  intent.putExtra(<span class="string">&quot;LauncherUI.From.Scaner.Shortcut&quot;</span>,<span class="literal">true</span>)</span><br><span class="line">  intent.setFlags(<span class="number">335544320</span>)</span><br><span class="line">  intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">--å¾®ä¿¡æ‰«ä¸€æ‰«()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--Luagoä¸­æ–‡å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿è¡Œä»£ç <span class="params">(ä»£ç )</span></span></span><br><span class="line">  <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">load</span>(ä»£ç )()</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é¡µå†…æŸ¥æ‰¾<span class="params">(è¯)</span></span></span><br><span class="line">  webView.findAllAsync(è¯)<span class="comment">--é¡µå†…æŸ¥æ‰¾</span></span><br><span class="line">  <span class="comment">--webView.findNext(false)--æŸ¥æ‰¾åçš„ä¸Šç¿»åŠŸèƒ½ï¼Œä¸Šä¸€ä¸ªå…³é”®è¯</span></span><br><span class="line">  <span class="comment">--webView.findNext(true)--æŸ¥æ‰¾åçš„ä¸‹ç¿»åŠŸèƒ½ï¼Œä¸‹ä¸€ä¸ªå…³é”®è¯</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç½‘é¡µæºç <span class="params">()</span></span></span><br><span class="line">  webView.loadUrl(<span class="string">&quot;view-source:&quot;</span>..webView.url)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç½‘é¡µå‰è¿›<span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">  webView.goForward()<span class="comment">--ç½‘é¡µå‰è¿›</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç½‘é¡µåé€€<span class="params">()</span></span></span><br><span class="line">  webView.goBack()<span class="comment">--ç½‘é¡µè¿”å›</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼¹å‡ºæ¶ˆæ¯<span class="params">(a)</span></span></span><br><span class="line">  Toast.makeText(activity,a,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ†äº«é“¾æ¥<span class="params">()</span></span></span><br><span class="line">  åˆ†äº«æ–‡æœ¬(webView.getUrl())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é€€å‡ºé¡µé¢<span class="params">()</span></span></span><br><span class="line">  activity.finish()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é€€å‡ºç¨‹åº<span class="params">()</span></span></span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">exit</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¤åˆ¶é“¾æ¥<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">  activity.getSystemService(Context.CLIPBOARD_SERVICE).setText(webView.getUrl())</span><br><span class="line">  æç¤º(<span class="string">&quot;é“¾æ¥å¤åˆ¶æˆåŠŸ&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åœæ­¢åŠ è½½<span class="params">()</span></span></span><br><span class="line">  webView.stopLoading()<span class="comment">--åœæ­¢åŠ è½½ç½‘é¡µ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ·æ–°ç½‘é¡µ<span class="params">()</span></span></span><br><span class="line">  webView.loadUrl(webView.getUrl())<span class="comment">--åˆ·æ–°ç½‘é¡µ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">QQ</span><span class="params">(h)</span></span></span><br><span class="line">  url=<span class="string">&quot;mqqapi://card/show_pslcard?src_type=internal&amp;source=sharecard&amp;version=1&amp;uin=&quot;</span>..h</span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ è½½<span class="title">Js</span><span class="params">(js)</span></span></span><br><span class="line">  <span class="keyword">if</span> js==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    webView.loadUrl(<span class="string">&quot;javascript:&quot;</span>..<span class="string">&quot;(function() &#123;&quot;</span>..js..<span class="string">&quot;&#125;)()&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å±è”½å…ƒç´ <span class="params">(table)</span></span></span><br><span class="line">  <span class="keyword">for</span> i,V <span class="keyword">in</span> <span class="built_in">pairs</span>(<span class="built_in">table</span>) <span class="keyword">do</span></span><br><span class="line">    åŠ è½½Js(webView,<span class="string">[[document.getElementsByClassName(&#x27;]]</span>..V..<span class="string">[[&#x27;)[0].style.display=&#x27;none&#x27;;]]</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ è½½<span class="title">js</span><span class="params">(js)</span></span></span><br><span class="line">  <span class="comment">--çŠ¶æ€ç›‘å¬</span></span><br><span class="line">  webView.setWebViewClient&#123;</span><br><span class="line">    shouldOverrideUrlLoading=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line">      <span class="comment">--Urlå³å°†è·³è½¬</span></span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    onPageStarted=<span class="function"><span class="keyword">function</span><span class="params">(view,url,favicon)</span></span></span><br><span class="line">      <span class="comment">--ç½‘é¡µåŠ è½½</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span>,</span><br><span class="line">    onPageFinished=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line">      <span class="comment">--ç½‘é¡µåŠ è½½å®Œæˆ</span></span><br><span class="line">      webView.loadUrl(<span class="string">&#x27;javascript:var hm=document.createElement(&quot;script&quot;);hm.src=&quot;http://libs.baidu.com/jquery/2.0.0/jquery.min.js&quot;;var s=document.getElementsByTagName(&quot;title&quot;)[0]; s.parentNode.insertBefore(hm,s);&#x27;</span>..<span class="string">&quot;(function() &#123;&quot;</span>..js..<span class="string">&quot;&#125;)()&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">end</span><span class="comment">--ä¸æ˜¯æ¯ä¸ªç½‘é¡µéƒ½åŠ è½½äº†è¿™ä¸ªjQueryåº“</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç½‘é¡µæºç 2<span class="params">()</span></span></span><br><span class="line">  <span class="comment">--è¯·å¤åˆ¶åˆ°faé‡Œé¢æµ‹è¯•ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span></span><br><span class="line">  åŠ è½½Js(<span class="string">[[s=document.documentElement.outerHTML;document.write(&#x27;&lt;body&gt;&lt;/body&gt;&#x27;);document.body.innerText=s;]]</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ è½½ç½‘é¡µ<span class="params">(url)</span></span></span><br><span class="line">  webView.loadUrl(url)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¤åˆ¶æ–‡æœ¬<span class="params">(str)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">  activity.getSystemService(Context.CLIPBOARD_SERVICE).setText(str)</span><br><span class="line">  æç¤º(<span class="string">&quot;å·²å¤åˆ¶&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ è½½ç½‘é¡µ2<span class="params">(id,url)</span></span></span><br><span class="line">  id.loadUrl(url)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¸‹è½½æ–‡ä»¶<span class="params">(ç›´é“¾,åç§°)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  downloadManager = activity.getSystemService(Context.DOWNLOAD_SERVICE)</span><br><span class="line">  request = DownloadManager.Request(Uri.parse(ç›´é“¾))</span><br><span class="line">  request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE|DownloadManager.Request.NETWORK_WIFI)</span><br><span class="line">  request.setDestinationInExternalPublicDir(<span class="string">&quot;Download&quot;</span>,åç§°)</span><br><span class="line">  <span class="comment">--request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED)--æ˜¯å¦é€šçŸ¥æ æ˜¾ç¤º</span></span><br><span class="line">  downloadManager.enqueue(request)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®æµè§ˆå™¨ä¸‹è½½ç›‘å¬2<span class="params">()</span></span></span><br><span class="line">  webView.setDownloadListener&#123; <span class="comment">--æ–‡ä»¶ä¸‹è½½ç›‘å¬</span></span><br><span class="line">    onDownloadStart=<span class="function"><span class="keyword">function</span><span class="params">(é“¾æ¥, UA, å¤„ç†, ç±»å‹, å¤§å°)</span></span></span><br><span class="line">      surl=Uri.parse(é“¾æ¥)</span><br><span class="line">      down_url=surl.authority..surl.<span class="built_in">path</span></span><br><span class="line">      ä¸‹è½½dia=AlertDialog.Builder(this)</span><br><span class="line">      .setTitle(<span class="string">&quot;è¦ä¸‹è½½æ–‡ä»¶å—ï¼Ÿ&quot;</span>)</span><br><span class="line">      .setMessage(<span class="string">&quot;é“¾æ¥ï¼š&quot;</span>..down_url..<span class="string">&quot;nnå¤§å°ï¼š&quot;</span>..<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%.2f&quot;</span>,å¤§å°/<span class="number">1048576</span>)..<span class="string">&quot;MB&quot;</span>)</span><br><span class="line">      .setPositiveButton(<span class="string">&quot;ä¸‹è½½æ–‡ä»¶&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        ä¸‹è½½æ–‡ä»¶(é“¾æ¥)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;è¯·åœ¨é€šçŸ¥æ æŸ¥çœ‹ä¸‹è½½è¿›åº¦&quot;</span>)</span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line">      .setNeutralButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">      ä¸‹è½½diashow=ä¸‹è½½dia.show()</span><br><span class="line">      dialogWindow = ä¸‹è½½diashow.getWindow();</span><br><span class="line">      dialogWindow.setGravity(Gravity.BOTTOM);</span><br><span class="line">      <span class="comment">--è®¾ç½®å¼¹çª—å®½åº¦</span></span><br><span class="line">      p=dialogWindow.getAttributes();</span><br><span class="line">      p.width=activity.width;</span><br><span class="line">      <span class="comment">--p.height=activity.height/2;</span></span><br><span class="line">      dialogWindow.setAttributes(p);</span><br><span class="line">    <span class="keyword">end</span>&#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€å¤–éƒ¨åº”ç”¨2<span class="params">()</span></span></span><br><span class="line">  webView.setWebViewClient&#123;</span><br><span class="line">    <span class="comment">--å¦‚æœæ”¹æˆMyWebViewä½¿ç”¨æ­¤æ®µè®¾ç½®ä¼šæŠ¥é”™</span></span><br><span class="line">    shouldOverrideUrlLoading=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> url:<span class="built_in">find</span><span class="string">&quot;http&quot;</span> <span class="keyword">and</span> <span class="keyword">not</span> url:<span class="built_in">find</span><span class="string">&quot;ftp&quot;</span> <span class="keyword">then</span> <span class="comment">--æ­¤æ®µç”¨äºæ‰“å¼€å¤–éƒ¨åº”ç”¨ï¼Œåœ¨urlé‡Œæ²¡æœ‰æ‰¾åˆ°è¿™ä¸¤é¡¹ï¼Œåˆ™è§†ä¸ºå¤–éƒ¨é“¾æ¥</span></span><br><span class="line">        surl=Uri.parse(url)</span><br><span class="line">        url_scheme=surl.scheme</span><br><span class="line">        å¯¹è¯æ¡†()<span class="comment">--æç¤ºæ‰“å¼€</span></span><br><span class="line">        .è®¾ç½®æ ‡é¢˜(<span class="string">&quot;è¦æ‰“å¼€å¤–éƒ¨åº”ç”¨å—ï¼Ÿ&quot;</span>)</span><br><span class="line">        .è®¾ç½®æ¶ˆæ¯(<span class="string">&quot;Schemeï¼š&quot;</span>..url_scheme)</span><br><span class="line">        .è®¾ç½®ç§¯ææŒ‰é’®(<span class="string">&quot;æ‰“å¼€&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">          <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span> <span class="comment">--æ­¤å¤„ä½¿ç”¨pcallä»¥å…å› ä¸ºç”¨æˆ·æ²¡æœ‰å®‰è£…åº”ç”¨è€ŒæŠ¥é”™</span></span><br><span class="line">            intent = Intent(Intent.ACTION_VIEW, Uri.parse(url));</span><br><span class="line">            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_SINGLE_TOP);</span><br><span class="line">            this.startActivity(intent);<span class="comment">--è·³è½¬åˆ°æŒ‡å®šçš„åº”ç”¨ã€‚å¦‚æœå¾ˆä¹…éƒ½æ²¡æœ‰è·³è½¬æ£€æŸ¥æ˜¯å¦å®‰è£…æˆ–ç¦ç”¨è‡ªå¯æˆ–æ€§èƒ½ä½çš„è®¾å¤‡è°ƒèµ·æ—¶é—´é•¿ä¸€ç‚¹</span></span><br><span class="line">          <span class="keyword">end</span>)</span><br><span class="line">        <span class="keyword">end</span>)</span><br><span class="line">        .è®¾ç½®æ¶ˆææŒ‰é’®(<span class="string">&quot;ç•™åœ¨æ­¤é¡µ&quot;</span>)</span><br><span class="line">        .æ˜¾ç¤º()</span><br><span class="line">        pweb.stopLoading()<span class="comment">--åœæ­¢åŠ è½½ä»¥å…æ˜¾ç¤ºåŠ è½½é”™è¯¯çš„é¡µé¢</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">if</span> url==<span class="string">&quot;about:blank&quot;</span> <span class="keyword">then</span></span><br><span class="line">        ptitle.text=<span class="string">&quot;æ— ç½‘é¡µåŠ è½½&quot;</span></span><br><span class="line">        <span class="comment">--pweb.loadUrl(&quot;https://picabstract-preview-ftn.weiyun.com/ftn_pic_abs_v3/b48956009f9a3057173eb535043ac6dc8bd5ebea21ba59b072f5d9046af41d3d8254bc03610ccd1ca11287a14d14a346?pictype=scale&amp;from=30113&amp;version=3.3.3.3&amp;uin=2572560133&amp;fname=atm.png&amp;size=750&quot;)</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>&#125;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é¡µå†…æŸ¥æ‰¾2<span class="params">()</span></span></span><br><span class="line">  ILayout=&#123;</span><br><span class="line"></span><br><span class="line">    LinearLayout;</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">    Focusable=<span class="literal">true</span>,</span><br><span class="line">    backgroundColor=<span class="string">&quot;#00000000&quot;</span>;</span><br><span class="line">    FocusableInTouchMode=<span class="literal">true</span>,</span><br><span class="line">    layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      orientation=<span class="string">&quot;horizontal&quot;</span>;<span class="comment">--æ¨ªæ’åˆ—</span></span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      orientation=<span class="string">&quot;horizontal&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;44dp&quot;</span>;</span><br><span class="line"></span><br><span class="line">      &#123;</span><br><span class="line"></span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">        layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;horizontal&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          textSize=<span class="string">&quot;16sp&quot;</span>;</span><br><span class="line">          layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">          layout_marginRight=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          id=<span class="string">&quot;é¡µå†…æŸ¥æ‰¾EditText&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;è¦æŸ¥æ‰¾çš„å†…å®¹&quot;</span>;</span><br><span class="line">          singleLine=<span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      TextView;</span><br><span class="line">      text=<span class="string">&quot;å¾…æŸ¥æ‰¾&quot;</span>;</span><br><span class="line">      layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">      gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">      id=<span class="string">&quot;æŸ¥æ‰¾æç¤ºåŒº&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      Button;</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      layout_marginTop=<span class="string">&quot;5dp&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;1dp&quot;</span>;</span><br><span class="line">      layout_gravity=<span class="string">&quot;center_horizontal&quot;</span>;</span><br><span class="line">      backgroundColor=<span class="string">&quot;#FFDCDCDC&quot;</span>;</span><br><span class="line">      style=<span class="string">&quot;?android:attr/borderlessButtonStyle&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      orientation=<span class="string">&quot;horizontal&quot;</span>;</span><br><span class="line">      backgroundColor=<span class="string">&quot;#2B000000&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;44dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;44dp&quot;</span>;</span><br><span class="line">        BackgroundColor=<span class="string">&quot;#FFFAFAFA&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;ä¸Šç¿»&quot;</span>;</span><br><span class="line">          textColor=<span class="string">&quot;#333333&quot;</span>;</span><br><span class="line">          layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">          id=<span class="string">&quot;ä¸Šç¿»&quot;</span>;</span><br><span class="line">          onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>webView.findNext(<span class="literal">false</span>)<span class="keyword">end</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        Button;</span><br><span class="line">        layout_width=<span class="string">&quot;1dp&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">        layout_gravity=<span class="string">&quot;center_horizontal&quot;</span>;</span><br><span class="line">        backgroundColor=<span class="string">&quot;#FFDCDCDC&quot;</span>;</span><br><span class="line">        style=<span class="string">&quot;?android:attr/borderlessButtonStyle&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;44dp&quot;</span>;</span><br><span class="line">        BackgroundColor=<span class="string">&quot;#FFFAFAFA&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;ä¸‹ç¿»&quot;</span>;</span><br><span class="line">          textColor=<span class="string">&quot;#333333&quot;</span>;</span><br><span class="line">          layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">          id=<span class="string">&quot;ä¸‹ç¿»&quot;</span>;</span><br><span class="line">          textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">          onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span>webView.findNext(<span class="literal">true</span>)<span class="keyword">end</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        Button;</span><br><span class="line">        layout_width=<span class="string">&quot;1dp&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">        layout_gravity=<span class="string">&quot;center_horizontal&quot;</span>;</span><br><span class="line">        backgroundColor=<span class="string">&quot;#FFDCDCDC&quot;</span>;</span><br><span class="line">        style=<span class="string">&quot;?android:attr/borderlessButtonStyle&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;44dp&quot;</span>;</span><br><span class="line">        BackgroundColor=<span class="string">&quot;#FFFAFAFA&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;å…³é—­&quot;</span>;</span><br><span class="line">          textColor=<span class="string">&quot;#333333&quot;</span>;</span><br><span class="line">          layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">          id=<span class="string">&quot;å…³é—­&quot;</span>;</span><br><span class="line">          onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            webView.findAllAsync(<span class="string">&quot;nill&quot;</span>)</span><br><span class="line"></span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  AlertDialog.Builder(this)</span><br><span class="line">  .setTitle(<span class="string">&quot;é¡µå†…æŸ¥æ‰¾&quot;</span>)<span class="comment">--å¯¹è¯æ¡†æ ‡é¢˜</span></span><br><span class="line">  .setView(loadlayout(ILayout))<span class="comment">--è‡ªå®šä¹‰å¸ƒå±€</span></span><br><span class="line">  .show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  é¡µå†…æŸ¥æ‰¾EditText.addTextChangedListener&#123;</span><br><span class="line">    onTextChanged=<span class="function"><span class="keyword">function</span><span class="params">(s)</span></span></span><br><span class="line">      webView.findAllAsync(é¡µå†…æŸ¥æ‰¾EditText.text)</span><br><span class="line">    <span class="keyword">end</span>&#125;</span><br><span class="line"></span><br><span class="line">  webView.setFindListener&#123;</span><br><span class="line">    onFindResultReceived=<span class="function"><span class="keyword">function</span><span class="params">(position,all, b)</span></span></span><br><span class="line">      æŸ¥æ‰¾æç¤ºåŒº.setText(<span class="string">&quot;å½“å‰ç¬¬&quot;</span>..(position+<span class="number">1</span>)..<span class="string">&quot;ä¸ªç»“æœï¼Œ&quot;</span>..<span class="string">&quot;æ€»å…±æ‰¾åˆ°&quot;</span>..all..<span class="string">&quot;ä¸ª&quot;</span>);</span><br><span class="line">    <span class="keyword">end</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ— å›¾æ¨¡å¼<span class="params">()</span></span></span><br><span class="line">  webView.getSettings().setLoadsImagesAutomatically(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¸Šå¸æ¨¡å¼<span class="params">()</span></span></span><br><span class="line">  åŠ è½½Js(<span class="string">[[var timeOutEvent=0;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">window.ontouchstart=function(e) &#123;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">timeOutEvent=setTimeout(function()&#123;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">timeOutEvent=0;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var v=e.path[0];</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var name=&quot;&quot;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">if (v.id!=&quot;&quot;)&#123;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var name=&quot;(#&quot;+v.id+&quot;)&quot;;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#125;else if(v.className!=&quot;&quot;)&#123;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var name=&quot;(.&quot;+v.className+&quot;)&quot;;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">var r=confirm(&quot;ç¡®å®šåˆ é™¤?&quot;+name);</span></span><br><span class="line"><span class="string">if (r==true)&#123;</span></span><br><span class="line"><span class="string"> v.remove();</span></span><br><span class="line"><span class="string">  &#125;;</span></span><br><span class="line"><span class="string"> &#125;,500);</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">window.ontouchend=function() &#123;</span></span><br><span class="line"><span class="string">clearTimeout(timeOutEvent);</span></span><br><span class="line"><span class="string">if (timeOutEvent != 0) &#123;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">window.ontouchmove=function() &#123;</span></span><br><span class="line"><span class="string">clearTimeout(timeOutEvent);</span></span><br><span class="line"><span class="string">timeOutEvent = 0;</span></span><br><span class="line"><span class="string">&#125;;]]</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ†äº«æ–‡æœ¬<span class="params">(str)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_SEND);</span><br><span class="line">  intent.setType(<span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_TEXT,str);</span><br><span class="line">  activity.startActivityForResult(intent, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--VPNçŠ¶æ€ç›‘æµ‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isVpnUsed</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;java.net.NetworkInterface&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.util.Collections&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.util.Enumeration&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.util.Iterator&quot;</span></span><br><span class="line">  <span class="keyword">local</span> nlp= NetworkInterface.getNetworkInterfaces();</span><br><span class="line">  <span class="keyword">if</span> (nlp~=<span class="literal">nil</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> it = Collections.list(nlp).iterator();</span><br><span class="line">    <span class="keyword">while</span> (it.hasNext()) <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">local</span> nlo = it.<span class="built_in">next</span>();</span><br><span class="line">      <span class="keyword">if</span> (nlo.isUp() &amp;&amp; nlo.getInterfaceAddresses().size() ~= <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">if</span> ((<span class="built_in">tostring</span>(nlo):<span class="built_in">find</span>(<span class="string">&quot;tun0&quot;</span>)) <span class="keyword">or</span> (<span class="built_in">tostring</span>(nlo):<span class="built_in">find</span>(<span class="string">&quot;ppp0&quot;</span>))) <span class="keyword">then</span></span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä½¿ç”¨<span class="title">ADM</span>ä¸‹è½½<span class="params">()</span></span></span><br><span class="line">  webView.setDownloadListener(DownloadListener&#123;</span><br><span class="line">    onDownloadStart=<span class="function"><span class="keyword">function</span><span class="params">(url,userAgent,contentDisposition,mimetype,contentLength,Filename)</span></span></span><br><span class="line">      file_name=<span class="built_in">tostring</span>(Uri.parse(String(url)).getLastPathSegment())</span><br><span class="line">      <span class="keyword">local</span> dialog=AlertDialog.Builder(activity)</span><br><span class="line">      .setTitle(<span class="string">&quot;æ˜¯å¦ä¸‹è½½&quot;</span>..file_name..<span class="string">&quot;ï¼Ÿ&quot;</span>)</span><br><span class="line">      .setMessage(<span class="string">&quot;ä¸‹è½½é“¾æ¥:&quot;</span>..url)</span><br><span class="line">      .setPositiveButton(<span class="string">&quot;ä¸‹è½½&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">          downloadManager=activity.getSystemService(Context.DOWNLOAD_SERVICE);</span><br><span class="line">          url=Uri.parse(url)</span><br><span class="line">          request=DownloadManager.Request(url);</span><br><span class="line">          request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE|DownloadManager.Request.NETWORK_WIFI)</span><br><span class="line">          request.setDestinationInExternalPublicDir(<span class="string">&quot;Download&quot;</span>,file_name)</span><br><span class="line">          request.setTitle(file_name)</span><br><span class="line">          request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);</span><br><span class="line">          downloadManager.enqueue(request)</span><br><span class="line">        <span class="keyword">end</span>&#125;)</span><br><span class="line">      .setNegativeButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">      <span class="keyword">if</span> installed(<span class="string">&quot;com.dv.adm.pay&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        dialog.setNeutralButton(<span class="string">&quot;ä½¿ç”¨ADMä¸‹è½½&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            this.startActivity(</span><br><span class="line">            Intent().setAction(Intent.ACTION_SEND).setType(<span class="string">&quot;text/*&quot;</span>).putExtra(Intent.EXTRA_TEXT,url).setClassName(<span class="string">&quot;com.dv.adm.pay&quot;</span>,<span class="string">&quot;com.dv.adm.pay.AEditor&quot;</span>)</span><br><span class="line">            )</span><br><span class="line">          <span class="keyword">end</span>&#125;)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      dialog.show()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span>&#125;)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¿å­˜ç½‘é¡µå›¾ç‰‡<span class="params">()</span></span></span><br><span class="line">  webView.setOnLongClickListener(View.OnLongClickListener&#123;</span><br><span class="line">    onLongClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">      result = v.getHitTestResult()</span><br><span class="line">      mtype = result.getType()</span><br><span class="line">      <span class="keyword">if</span> mtype==WebView.HitTestResult.IMAGE_TYPE <span class="keyword">then</span></span><br><span class="line">        url=result.getExtra()</span><br><span class="line">        AlertDialog.Builder(activity)</span><br><span class="line">        .setTitle(<span class="string">&quot;æç¤º&quot;</span>)</span><br><span class="line">        .setMessage(<span class="string">&quot;æ˜¯å¦ä¿å­˜è¯¥å›¾ç‰‡ï¼Ÿ&quot;</span>)</span><br><span class="line">        .setPositiveButton(<span class="string">&quot;ç¡®å®š&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">            downloadManager=activity.getSystemService(Context.DOWNLOAD_SERVICE)</span><br><span class="line">            url=Uri.parse(url)</span><br><span class="line">            file_name=<span class="string">&quot;picture_&quot;</span>..<span class="built_in">os</span>.<span class="built_in">time</span>()</span><br><span class="line">            request=DownloadManager.Request(url);</span><br><span class="line">            request.setAllowedNetworkTypes(DownloadManager.Request.NETWORK_MOBILE|DownloadManager.Request.NETWORK_WIFI)</span><br><span class="line">            request.setDestinationInExternalPublicDir(<span class="string">&quot;Download&quot;</span>,file_name)</span><br><span class="line">            request.setTitle(file_name)</span><br><span class="line">            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);</span><br><span class="line">            downloadManager.enqueue(request)</span><br><span class="line">          <span class="keyword">end</span>&#125;)</span><br><span class="line">        .show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>&#125;)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å±å¹•æ—‹è½¬æ¨¡å¼</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è‡ªåŠ¨æ—‹è½¬<span class="params">()</span></span></span><br><span class="line">  activity.setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ¨ªå±æ¨¡å¼<span class="params">()</span></span></span><br><span class="line">  activity.setRequestedOrientation(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç«–å±æ¨¡å¼<span class="params">()</span></span></span><br><span class="line">  activity.setRequestedOrientation(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ‚¬æµ®çª—æƒé™<span class="params">()</span></span></span><br><span class="line">  intent = Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION);</span><br><span class="line">  intent.setData(Uri.parse(<span class="string">&quot;package:&quot;</span> .. activity.getPackageName()));</span><br><span class="line">  activity.startActivityForResult(intent, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿›å…¥é¡µé¢<span class="params">(na)</span></span></span><br><span class="line">  activity.newActivity(na)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿›å…¥é¦–é¡µ<span class="params">()</span></span></span><br><span class="line">  activity.newActivity(<span class="string">&quot;main&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è½¬æ¢å­—ç¬¦ä¸²<span class="params">(zfc)</span></span></span><br><span class="line">  <span class="built_in">tostring</span>(zfc)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¿å­˜æ–‡æœ¬<span class="params">(nam,text)</span></span></span><br><span class="line">  activity.setSharedData(nam,text)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¯»å–æ–‡æœ¬<span class="params">(nam)</span></span></span><br><span class="line">  activity.getSharedData(nam)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšæœºæ•°<span class="params">(æœ€å°å€¼,æœ€å¤§å€¼)</span></span></span><br><span class="line">  <span class="built_in">math</span>.<span class="built_in">random</span>(æœ€å°å€¼,æœ€å¤§å€¼)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¾ªç¯<span class="params">(cs,cr)</span></span></span><br><span class="line">  <span class="keyword">for</span> i=cs,cr <span class="keyword">do</span></span><br><span class="line">    å¾ªç¯äº‹ä»¶()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wifi</span>çŠ¶æ€<span class="params">()</span></span></span><br><span class="line">  connManager = activity.getSystemService(Context.CONNECTIVITY_SERVICE)</span><br><span class="line">  mWifi = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI);</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">tostring</span>(mWifi):<span class="built_in">find</span>(<span class="string">&quot;none)&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    wifiæœªè¿æ¥äº‹ä»¶()</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    wifiè¿æ¥äº‹ä»¶()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ•°æ®ç½‘ç»œçŠ¶æ€<span class="params">()</span></span></span><br><span class="line">  manager = activity.getSystemService(Context.CONNECTIVITY_SERVICE);</span><br><span class="line">  gprs = manager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState();</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">tostring</span>(gprs)== <span class="string">&quot;CONNECTED&quot;</span> <span class="keyword">then</span></span><br><span class="line">    æ•°æ®ç½‘ç»œè¿æ¥äº‹ä»¶()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€<span class="title">wifi</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  wifi = activity.Context.getSystemService(Context.WIFI_SERVICE)</span><br><span class="line">  wifi.setWifiEnabled(<span class="literal">true</span>)<span class="comment">--å…³é—­åˆ™false</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­<span class="title">wifi</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  wifi = activity.Context.getSystemService(Context.WIFI_SERVICE)</span><br><span class="line">  wifi.setWifiEnabled(<span class="literal">false</span>)<span class="comment">--å…³é—­åˆ™false</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å¼€åº”ç”¨<span class="params">(ç¨‹åºåŒ…å)</span></span></span><br><span class="line">  packageName=åº”ç”¨åŒ…å</span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">  manager = activity.getPackageManager()</span><br><span class="line">  <span class="built_in">open</span> = manager.getLaunchIntentForPackage(packageName)</span><br><span class="line">  this.startActivity(<span class="built_in">open</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç³»ç»Ÿè®¾ç½®<span class="params">(åç§°)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.provider.Settings&quot;</span></span><br><span class="line">  intent = Intent(åç§°)</span><br><span class="line">  this.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ†äº«æ–‡å­—<span class="params">(text)</span></span></span><br><span class="line">  intent=Intent(Intent.ACTION_SEND);</span><br><span class="line">  intent.setType(<span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_SUBJECT, <span class="string">&quot;åˆ†äº«&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_TEXT, text);</span><br><span class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">  activity.startActivity(Intent.createChooser(intent,<span class="string">&quot;åˆ†äº«åˆ°:&quot;</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ°´å°åˆ†äº«<span class="params">(text,ç¨‹åºåç§°)</span></span></span><br><span class="line">  intent=Intent(Intent.ACTION_SEND);</span><br><span class="line">  intent.setType(<span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_SUBJECT, <span class="string">&quot;åˆ†äº«&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_TEXT, text..<span class="string">&quot;-æ¥è‡ª&quot;</span>..ç¨‹åºåç§°..<span class="string">&quot;å®¢æˆ·ç«¯&quot;</span>);</span><br><span class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">  activity.startActivity(Intent.createChooser(intent,<span class="string">&quot;åˆ†äº«åˆ°:&quot;</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ å…¥ç¾¤èŠ<span class="params">(ç¾¤èŠå·)</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  <span class="comment">--åŠ ç¾¤</span></span><br><span class="line">  url=<span class="string">&quot;mqqapi://card/show_pslcard?src_type=internal&amp;version=1&amp;uin=&quot;</span>..ç¾¤èŠå·..<span class="string">&quot;&amp;card_type=group&amp;source=qrcode&quot;</span></span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŠ å…¥<span class="title">QQ</span><span class="params">(QQå·)</span></span></span><br><span class="line">  url=<span class="string">&quot;mqqwpa://im/chat?chat_type=wpa&amp;uin=&quot;</span>..QQå·</span><br><span class="line">  activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç”³è¯·<span class="title">root</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;su&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ°´ç åŠ¨ç”»<span class="params">(æ§ä»¶,æ—¶é—´)</span></span></span><br><span class="line">  import <span class="string">&quot;android.animation.ObjectAnimator&quot;</span></span><br><span class="line">  ObjectAnimator().ofFloat(æ§ä»¶,<span class="string">&quot;scaleX&quot;</span>,&#123;<span class="number">1</span>,<span class="number">.8</span>,<span class="number">1.3</span>,<span class="number">.9</span>,<span class="number">1</span>&#125;).setDuration(æ—¶é—´).start()</span><br><span class="line">  ObjectAnimator().ofFloat(æ§ä»¶,<span class="string">&quot;scaleY&quot;</span>,&#123;<span class="number">1</span>,<span class="number">.8</span>,<span class="number">1.3</span>,<span class="number">.9</span>,<span class="number">1</span>&#125;).setDuration(æ—¶é—´).start()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ é™¤æ–‡ä»¶<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;su -c rm -r &quot;</span>..è·¯å¾„)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ–‡æœ¬é¢œè‰²<span class="params">(id,é¢œè‰²)</span></span></span><br><span class="line">  id.setTextColor(é¢œè‰²)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å›¾ç‰‡ç€è‰²<span class="params">(id,é¢œè‰²)</span></span></span><br><span class="line">  id.setColorFilter(é¢œè‰²)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å›¾ç‰‡æ—‹è½¬<span class="params">(id,æ—¶é—´)</span></span></span><br><span class="line">  view=id</span><br><span class="line">  import <span class="string">&#x27;android.view.animation.Animation&#x27;</span></span><br><span class="line">  import <span class="string">&#x27;android.view.animation.RotateAnimation&#x27;</span></span><br><span class="line">  rotate=RotateAnimation(<span class="number">0</span>, <span class="number">360</span>,</span><br><span class="line">  Animation.RELATIVE_TO_SELF, <span class="number">0.5</span>,</span><br><span class="line">  Animation.RELATIVE_TO_SELF, <span class="number">0.5</span>)</span><br><span class="line">  rotate.setDuration(æ—¶é—´)<span class="comment">--è®¾ç½®æ¯«ç§’1000=1ç§’</span></span><br><span class="line">  rotate.setRepeatCount(<span class="number">10</span>)</span><br><span class="line">  view.startAnimation(rotate)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼€å…³é¢œè‰²<span class="params">(id,é¢œè‰²)</span></span></span><br><span class="line">  id.ThumbDrawable.setColorFilter(PorterDuffColorFilter(é¢œè‰²,PorterDuff.Mode.SRC_ATOP));</span><br><span class="line">  id.TrackDrawable.setColorFilter(PorterDuffColorFilter(é¢œè‰²,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‹–åŠ¨æ¡é¢œè‰²<span class="params">(id,é¢œè‰²)</span></span></span><br><span class="line">  id.ProgressDrawable.setColorFilter(PorterDuffColorFilter(é¢œè‰²,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line">  id.Thumb.setColorFilter(PorterDuffColorFilter(é¢œè‰²,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å°ä¼æç¤º<span class="params">(str,a,b,c,d,e)</span></span><span class="comment">--å°ä¼è‡ªåˆ¶æç¤º</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">time</span> <span class="keyword">then</span> toasttime=Toast.LENGTH_SHORT <span class="keyword">else</span> toasttime= Toast.LENGTH_SHORT <span class="keyword">end</span></span><br><span class="line">  toasts=&#123;</span><br><span class="line">    LinearLayout;</span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      layout_width=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">      orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;30dp&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;30dp&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;horizontal&quot;</span>;</span><br><span class="line">        background=<span class="string">&quot;chart/ts1.png&quot;</span>;</span><br><span class="line">        layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        background=d;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      id=<span class="string">&quot;toastb&quot;</span>,</span><br><span class="line">      layout_width=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">      CardElevation=<span class="string">&quot;1dp&quot;</span>;</span><br><span class="line">      radius=e;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;horizontal&quot;</span>;</span><br><span class="line">        background=c;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          id=<span class="string">&quot;mess&quot;</span>,</span><br><span class="line">          TextColor=a,</span><br><span class="line">          textSize=b;</span><br><span class="line">          layout_width=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">          gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          layout_margin=<span class="string">&quot;4dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  message=<span class="built_in">tostring</span>(str)</span><br><span class="line">  <span class="keyword">local</span> toast=Toast.makeText(activity,<span class="string">&quot;å†…å®¹&quot;</span>,toasttime);</span><br><span class="line">  toast.setView(loadlayout(toasts))</span><br><span class="line">  mess.Text=message</span><br><span class="line">  toast.show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšè—æ§ä»¶<span class="params">(id)</span></span></span><br><span class="line">  id.setVisibility(View.GONE)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ˜¾ç¤ºæ§ä»¶<span class="params">(id)</span></span></span><br><span class="line">  id.setVisibility(View.VISIBLE)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥æ–‡ä»¶1<span class="params">(è·¯å¾„,å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  f=File(<span class="built_in">tostring</span>(File(<span class="built_in">tostring</span>(è·¯å¾„)).getParentFile())).mkdirs()</span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">tostring</span>(è·¯å¾„),<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹)):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®æ§ä»¶é¢œè‰²<span class="params">(æ§ä»¶,é¢œè‰²)</span></span></span><br><span class="line">  æ§ä»¶.setBackgroundColor(é¢œè‰²)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.media.MediaPlayer&quot;</span></span><br><span class="line"><span class="keyword">local</span> mp = MediaPlayer()</span><br><span class="line"><span class="function"><span class="keyword">function</span> æ’­æ”¾<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  mp.reset()</span><br><span class="line">  mp.setDataSource(è·¯å¾„)</span><br><span class="line">  mp.prepare()</span><br><span class="line">  mp.setLooping(<span class="literal">false</span>)</span><br><span class="line">  mp.start()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é€æ˜åŠ¨ç”»<span class="params">(å¯¹è±¡,a,b,æ—¶é•¿)</span></span></span><br><span class="line">  import <span class="string">&quot;android.animation.ObjectAnimator&quot;</span></span><br><span class="line">  ObjectAnimator().ofFloat(å¯¹è±¡,<span class="string">&quot;alpha&quot;</span>,&#123;a,b&#125;).setDuration(æ—¶é•¿).start()</span><br><span class="line">  ObjectAnimator().ofFloat(å¯¹è±¡,<span class="string">&quot;alpha&quot;</span>,&#123;a,b&#125;).setDuration(æ—¶é•¿).start()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ³¢çº¹åŠ¨ç”»<span class="params">(æ§ä»¶,é¢œè‰²)</span></span></span><br><span class="line">  import <span class="string">&quot;android.widget.PageView&quot;</span></span><br><span class="line"></span><br><span class="line">  import <span class="string">&quot;android.widget.RippleHelper&quot;</span></span><br><span class="line">  RippleHelper(æ§ä»¶).RippleColor=<span class="built_in">tonumber</span>(é¢œè‰²)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">ä¸»é¡µåŠ¨ç”»=(PageView.PageTransformer&#123;</span><br><span class="line"></span><br><span class="line">  transformPage=<span class="function"><span class="keyword">function</span><span class="params">(page,position)</span></span></span><br><span class="line"></span><br><span class="line">    width = page.getWidth();</span><br><span class="line"></span><br><span class="line">    pivotX = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (position &lt;= <span class="number">1</span> &amp;&amp; position &gt; <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      pivotX = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">elseif</span> (position == <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">elseif</span> (position &lt; <span class="number">0</span> &amp;&amp; position &gt;= <span class="number">-1</span>) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      pivotX = width</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    page.setPivotX(pivotX);</span><br><span class="line"></span><br><span class="line">    page.setPivotY(activity.getHeight()/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    page.setRotationY(<span class="number">90</span> * position);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">æ‚¬æµ®åŠ¨ç”»=(PageView.PageTransformer&#123;</span><br><span class="line"></span><br><span class="line">  transformPage=<span class="function"><span class="keyword">function</span><span class="params">(page,position)</span></span></span><br><span class="line"></span><br><span class="line">    width = page.getWidth();</span><br><span class="line"></span><br><span class="line">    height = page.getHeight()</span><br><span class="line"></span><br><span class="line">    pivotX = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (position &lt;= <span class="number">1</span> <span class="keyword">and</span> position &gt; <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      pivotX = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">      pivotY = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">elseif</span> (position == <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">elseif</span> (position &lt; <span class="number">0</span> <span class="keyword">and</span> position &gt;= <span class="number">-1</span>) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      pivotX = width</span><br><span class="line"></span><br><span class="line">      pivotY = height</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    page.setPivotX(pivotX);</span><br><span class="line"></span><br><span class="line">    page.setPivotY(pivotY/<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    page.setRotationY(<span class="number">90</span> * position);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿›å…¥å­é¡µé¢</span></span><br><span class="line"><span class="comment">--[[function è¿›å…¥å­é¡µé¢(zym)</span></span><br><span class="line"><span class="comment">  activity.newActivity(zym)</span></span><br><span class="line"><span class="comment">end]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‘é€é‚®ä»¶<span class="params">(é‚®ç®±,æ ‡é¢˜,å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  i = Intent(Intent.ACTION_SEND)</span><br><span class="line">  i.setType(<span class="string">&quot;message/rfc822&quot;</span>)</span><br><span class="line">  i.putExtra(Intent.EXTRA_EMAIL,&#123;é‚®ç®±&#125;)</span><br><span class="line">  i.putExtra(Intent.EXTRA_SUBJECT,æ ‡é¢˜)</span><br><span class="line">  i.putExtra(Intent.EXTRA_TEXT,å†…å®¹)</span><br><span class="line">  activity.startActivity(Intent.createChooser(i,<span class="string">&quot;Choice&quot;</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">--å‘é€é‚®ä»¶(&quot;782268899@qq.com&quot;,&quot;å¡«å†™æ ‡é¢˜&quot;,&quot;å¡«å†™è¦å‘é€çš„å†…å®¹&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æŸ¥çœ‹<span class="title">QQ</span>èµ„æ–™<span class="params">(è´¦å·)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  this.startActivity(Intent(Intent.ACTION_VIEW,Uri.parse(<span class="string">&quot;mqqapi://card/show_pslcard?uin=&quot;</span>..è´¦å·)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">--æŸ¥çœ‹QQèµ„æ–™(2975208179)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰§è¡ŒShell</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰§è¡Œ<span class="title">Shell</span><span class="params">(cmd)</span></span></span><br><span class="line">  <span class="keyword">local</span> p=<span class="built_in">io</span>.<span class="built_in">popen</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&#x27;%s&#x27;</span>,cmd))</span><br><span class="line">  <span class="keyword">local</span> s=p:<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">  p:<span class="built_in">close</span>()</span><br><span class="line">  <span class="keyword">return</span> s</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥æ–‡ä»¶<span class="params">(æ–‡ä»¶è·¯å¾„,å†™å…¥å†…å®¹)</span></span></span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(æ–‡ä»¶è·¯å¾„,<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(å†™å…¥å†…å®¹):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--æ‰“å°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰“å°<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  <span class="built_in">print</span>(å†…å®¹)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">md</span>ä¸»é¢˜<span class="params">()</span></span></span><br><span class="line">  activity.setTheme(android.R.style.Theme_DeviceDefault_Light)<span class="comment">--è®¾ç½®mdä¸»é¢˜</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é¡¶æ é¢œè‰²<span class="params">(color)</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(color);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·³è½¬ç•Œé¢<span class="params">(main,text)</span></span></span><br><span class="line">  activity.newActivity(main,&#123;text&#125;)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­ç•Œé¢<span class="params">()</span></span></span><br><span class="line">  activity.finish()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ˜¯å¦å­˜åœ¨æ–‡ä»¶<span class="params">(path)</span></span></span><br><span class="line">  <span class="keyword">if</span> File(<span class="built_in">path</span>).exists() <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿½åŠ å†™å…¥æ–‡ä»¶ <span class="params">(path,text)</span></span></span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">path</span>,<span class="string">&quot;w+&quot;</span>):<span class="built_in">write</span>(text):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼¹å‡ºæ¶ˆæ¯<span class="params">(txt)</span></span></span><br><span class="line">  Toast.makeText(activity,txt,Toast.LENGTH_SHORT).show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶å¯è§<span class="params">(a)</span></span></span><br><span class="line">  a.setVisibility(View.VISIBLE)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶ä¸å¯è§<span class="params">(a)</span></span></span><br><span class="line">  a.setVisibility(View.INVISIBLE)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶éšè—<span class="params">(a)</span></span></span><br><span class="line">  a.setVisibility(View.GONE)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è§£å‹ç¼©<span class="params">(å‹ç¼©è·¯å¾„,è§£å‹ç¼©è·¯å¾„)</span></span></span><br><span class="line">  ZipUtil.unzip(å‹ç¼©è·¯å¾„,è§£å‹ç¼©è·¯å¾„)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‹ç¼©<span class="params">(åŸè·¯å¾„,å‹ç¼©è·¯å¾„,åç§°)</span></span></span><br><span class="line">  LuaUtil.zip(åŸè·¯å¾„,å‹ç¼©è·¯å¾„,åç§°)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ é™¤æ–‡ä»¶1<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  LuaUtil.rmDir(File(è·¯å¾„))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ³¢çº¹<span class="params">(id,é¢œè‰²)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.res.ColorStateList&quot;</span></span><br><span class="line">  <span class="keyword">local</span> attrsArray = &#123;android.R.attr.selectableItemBackgroundBorderless&#125;</span><br><span class="line">  <span class="keyword">local</span> typedArray =activity.obtainStyledAttributes(attrsArray)</span><br><span class="line">  ripple=typedArray.getResourceId(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">  Pretend=activity.Resources.getDrawable(ripple)</span><br><span class="line">  Pretend.setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;é¢œè‰²&#125;))</span><br><span class="line">  id.setBackground(Pretend.setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;é¢œè‰²&#125;)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ–‡ä»¶æ“ä½œ--</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥æ–‡ä»¶3<span class="params">(è·¯å¾„,å†…å®¹)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    f=File(<span class="built_in">tostring</span>(File(<span class="built_in">tostring</span>(è·¯å¾„)).getParentFile())).mkdirs()</span><br><span class="line">    <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">tostring</span>(è·¯å¾„),<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹)):<span class="built_in">close</span>()</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;å†™å…¥æ–‡ä»¶ &quot;</span>..è·¯å¾„..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¯»å–æ–‡ä»¶3<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  <span class="keyword">if</span> æ–‡ä»¶æ˜¯å¦å­˜åœ¨(è·¯å¾„) <span class="keyword">then</span></span><br><span class="line">    rtn=<span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    rtn=<span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> rtn</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¤åˆ¶æ–‡ä»¶3<span class="params">(from,to)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    LuaUtil.copyDir(from,to)</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;å¤åˆ¶æ–‡ä»¶ ä» &quot;</span>..from..<span class="string">&quot; åˆ° &quot;</span>..to..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ›å»ºæ–‡ä»¶å¤¹2<span class="params">(file)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(file).mkdir()</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;åˆ›å»ºæ–‡ä»¶å¤¹ &quot;</span>..file..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ›å»ºæ–‡ä»¶2<span class="params">(file)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(file).createNewFile()</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;åˆ›å»ºæ–‡ä»¶ &quot;</span>..file..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹2<span class="params">(file)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(file).mkdirs()</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;åˆ›å»ºæ–‡ä»¶å¤¹ &quot;</span>..file..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ é™¤æ–‡ä»¶2<span class="params">(file)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    LuaUtil.rmDir(File(file))</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;åˆ é™¤æ–‡ä»¶(å¤¹) &quot;</span>..file..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ–‡ä»¶ä¿®æ”¹æ—¶é—´<span class="params">(path)</span></span></span><br><span class="line">  f = File(<span class="built_in">path</span>);</span><br><span class="line">  <span class="built_in">time</span> = f.lastModified()</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">time</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†…ç½®å­˜å‚¨è·¯å¾„<span class="params">(t)</span></span></span><br><span class="line">  <span class="keyword">return</span> Environment.getExternalStorageDirectory().toString()..<span class="string">&quot;/&quot;</span>..t</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿½åŠ å†™å…¥æ–‡ä»¶ <span class="params">(path,text)</span></span></span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">path</span>,<span class="string">&quot;w+&quot;</span>):<span class="built_in">write</span>(text):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ›¿æ¢æ–‡ä»¶å­—ç¬¦ä¸²<span class="params">(è·¯å¾„,è¦æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²)</span></span></span><br><span class="line">  <span class="keyword">if</span> è·¯å¾„ <span class="keyword">then</span></span><br><span class="line">    è·¯å¾„=<span class="built_in">tostring</span>(è·¯å¾„)</span><br><span class="line">    å†…å®¹=<span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">    <span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„,<span class="string">&quot;w+&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹:<span class="built_in">gsub</span>(è¦æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²))):<span class="built_in">close</span>()</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è§£å‹ç¼©<span class="params">(å‹ç¼©è·¯å¾„,è§£å‹ç¼©è·¯å¾„)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    ZipUtil.unzip(å‹ç¼©è·¯å¾„,è§£å‹ç¼©è·¯å¾„)</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;è§£å‹æ–‡ä»¶ &quot;</span>..å‹ç¼©è·¯å¾„..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‹ç¼©<span class="params">(åŸè·¯å¾„,å‹ç¼©è·¯å¾„,åç§°)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    LuaUtil.zip(åŸè·¯å¾„,å‹ç¼©è·¯å¾„,åç§°)</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;å‹ç¼©æ–‡ä»¶ &quot;</span>..åŸè·¯å¾„..<span class="string">&quot; è‡³ &quot;</span>..å‹ç¼©è·¯å¾„..<span class="string">&quot;/&quot;</span>..åç§°..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é‡å‘½åæ–‡ä»¶<span class="params">(æ—§,æ–°)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(æ—§).renameTo(File(æ–°))</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;é‡å‘½åæ–‡ä»¶ &quot;</span>..æ—§..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç§»åŠ¨æ–‡ä»¶2<span class="params">(æ—§,æ–°)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(æ—§).renameTo(File(æ–°))</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;ç§»åŠ¨æ–‡ä»¶ &quot;</span>..æ—§..<span class="string">&quot; è‡³ &quot;</span>..æ–°..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--/æ–‡ä»¶æ“ä½œ--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–è®¾å¤‡--</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–è®¾å¤‡æ ‡è¯†ç <span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.provider.SettingsSecure&quot;</span></span><br><span class="line">  <span class="keyword">return</span> Secure.getString(activity.getContentResolver(), Secure.ANDROID_ID)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–<span class="title">IMEI</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  <span class="keyword">return</span> activity.getSystemService(Context.TELEPHONY_SERVICE).getDeviceId()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–çŠ¶æ€æ é«˜åº¦<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getResources().getDimensionPixelSize(luajava.bindClass(<span class="string">&quot;com.android.internal.Rdimen&quot;</span>)().status_bar_height)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–è®¾å¤‡å‹å·<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> Build.MODEL</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–<span class="title">ROM</span>ç±»å‹<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">upper</span>(Build.MANUFACTURER)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–<span class="title">SDK</span>ç‰ˆæœ¬<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">tonumber</span>(Build.VERSION.SDK)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–å®‰å“ç‰ˆæœ¬<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> Build.VERSION.RELEASE</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–å±å¹•å°ºå¯¸<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.util.DisplayMetrics&quot;</span></span><br><span class="line">  <span class="keyword">local</span> dm = DisplayMetrics();</span><br><span class="line">  activity.getWindowManager().getDefaultDisplay().getMetrics(dm);</span><br><span class="line">  diagonalPixels = Math.<span class="built_in">sqrt</span>(Math.<span class="built_in">pow</span>(dm.widthPixels, <span class="number">2</span>) + Math.<span class="built_in">pow</span>(dm.heightPixels, <span class="number">2</span>));</span><br><span class="line">  <span class="keyword">return</span> diagonalPixels / (<span class="number">160</span> * dm.density);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ‰‹æœºå†…ç½®å­˜å‚¨å‰©ä½™ç©ºé—´<span class="params">()</span></span></span><br><span class="line">  fs = StatFs(Environment.getDataDirectory().getPath())</span><br><span class="line">  <span class="keyword">return</span> æ ¼å¼åŒ–æ–‡ä»¶å¤§å°(fs.getAvailableBytes())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ‰‹æœºå†…ç½®å­˜å‚¨ç©ºé—´<span class="params">()</span></span></span><br><span class="line">  <span class="built_in">path</span> = Environment.getExternalStorageDirectory()</span><br><span class="line">  stat = StatFs(<span class="built_in">path</span>.getPath())</span><br><span class="line">  blockSize = stat.getBlockSize()</span><br><span class="line">  totalBlocks = stat.getBlockCount()</span><br><span class="line">  <span class="keyword">return</span> æ ¼å¼åŒ–æ–‡ä»¶å¤§å°(blockSize * totalBlocks)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--/è·å–è®¾å¤‡--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸€äº›å‡½æ•°--</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ ¼å¼åŒ–æ–‡ä»¶å¤§å°<span class="params">(fileSize)</span></span></span><br><span class="line">  <span class="keyword">if</span> (fileSize &lt; <span class="number">1024</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> fileSize + <span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">   <span class="keyword">elseif</span> (fileSize &lt; (<span class="number">1024</span>*<span class="number">1024</span>)) <span class="keyword">then</span></span><br><span class="line">    temp = fileSize / <span class="number">1024</span>;</span><br><span class="line">    <span class="comment">--temp = temp.toFixed(2);</span></span><br><span class="line">    temp=å››èˆäº”å…¥(temp,<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> temp .. <span class="string">&#x27;KB&#x27;</span>;</span><br><span class="line">   <span class="keyword">elseif</span> (fileSize &lt; (<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">1024</span>)) <span class="keyword">then</span></span><br><span class="line">    temp = fileSize / (<span class="number">1024</span>*<span class="number">1024</span>);</span><br><span class="line">    <span class="comment">--temp = temp.toFixed(2);</span></span><br><span class="line">    temp=å››èˆäº”å…¥(temp,<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> temp .. <span class="string">&#x27;MB&#x27;</span>;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    temp = fileSize / (<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">1024</span>);</span><br><span class="line">    <span class="comment">--temp = temp.toFixed(2);</span></span><br><span class="line">    temp=å››èˆäº”å…¥(temp,<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> temp .. <span class="string">&#x27;GB&#x27;</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å››èˆäº”å…¥<span class="params">(num,n)</span></span></span><br><span class="line">  <span class="keyword">local</span> n=n<span class="number">-1</span></span><br><span class="line">  ws=<span class="string">&quot;0&quot;</span></span><br><span class="line">  <span class="keyword">for</span> i=<span class="number">0</span>,n <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> ws==<span class="string">&quot;0&quot;</span> <span class="keyword">then</span></span><br><span class="line">      ws=<span class="string">&quot;0.&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    ws=ws..<span class="string">&quot;0&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  import <span class="string">&quot;java.text.DecimalFormat&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.icu.text.DecimalFormat&quot;</span></span><br><span class="line">  formatter = DecimalFormat(ws);</span><br><span class="line">  <span class="keyword">local</span> s = formatter.<span class="built_in">format</span>(num);</span><br><span class="line">  ws=<span class="literal">nil</span></span><br><span class="line">  <span class="keyword">return</span> s;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–è§†é¢‘ç¬¬ä¸€å¸§<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;android.media.MediaMetadataRetriever&quot;</span></span><br><span class="line">  media = MediaMetadataRetriever()</span><br><span class="line">  media.setDataSource(<span class="built_in">tostring</span>(<span class="built_in">path</span>))</span><br><span class="line">  <span class="keyword">return</span> media.getFrameAtTime()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> èƒŒæ™¯åœ†è§’<span class="params">(view,InsideColor,radiu)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">  drawable = GradientDrawable()</span><br><span class="line">  drawable.setShape(GradientDrawable.RECTANGLE)</span><br><span class="line">  drawable.setColor(InsideColor)</span><br><span class="line">  drawable.setCornerRadii(&#123;radiu,radiu,radiu,radiu,radiu,radiu,radiu,radiu&#125;);</span><br><span class="line">  view.setBackgroundDrawable(drawable)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åŒ¹é…æ±‰å­—<span class="params">(s)</span></span></span><br><span class="line">  <span class="keyword">local</span> ss = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> k = <span class="number">1</span>, #s <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">local</span> c = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> c <span class="keyword">then</span> <span class="keyword">break</span> <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> (c&gt;=<span class="number">48</span> <span class="keyword">and</span> c&lt;=<span class="number">57</span>) <span class="keyword">or</span> (c&gt;= <span class="number">65</span> <span class="keyword">and</span> c&lt;=<span class="number">90</span>) <span class="keyword">or</span> (c&gt;=<span class="number">97</span> <span class="keyword">and</span> c&lt;=<span class="number">122</span>) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">string</span>.<span class="built_in">char</span>(c):<span class="built_in">find</span>(<span class="string">&quot;%w&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">table</span>.<span class="built_in">insert</span>(ss, <span class="built_in">string</span>.<span class="built_in">char</span>(c))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">     <span class="keyword">elseif</span> c&gt;=<span class="number">228</span> <span class="keyword">and</span> c&lt;=<span class="number">233</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">local</span> c1 = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k+<span class="number">1</span>)</span><br><span class="line">      <span class="keyword">local</span> c2 = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k+<span class="number">2</span>)</span><br><span class="line">      <span class="keyword">if</span> c1 <span class="keyword">and</span> c2 <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">local</span> a1,a2,a3,a4 = <span class="number">128</span>,<span class="number">191</span>,<span class="number">128</span>,<span class="number">191</span></span><br><span class="line">        <span class="keyword">if</span> c == <span class="number">228</span> <span class="keyword">then</span> a1 = <span class="number">184</span></span><br><span class="line">         <span class="keyword">elseif</span> c == <span class="number">233</span> <span class="keyword">then</span> a2,a4 = <span class="number">190</span>,c1 ~= <span class="number">190</span> <span class="keyword">and</span> <span class="number">191</span> <span class="keyword">or</span> <span class="number">165</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">if</span> c1&gt;=a1 <span class="keyword">and</span> c1&lt;=a2 <span class="keyword">and</span> c2&gt;=a3 <span class="keyword">and</span> c2&lt;=a4 <span class="keyword">then</span></span><br><span class="line">          k = k + <span class="number">2</span></span><br><span class="line">          <span class="built_in">table</span>.<span class="built_in">insert</span>(ss, <span class="built_in">string</span>.<span class="built_in">char</span>(c,c1,c2))</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">table</span>.<span class="built_in">concat</span>(ss)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">px2dp</span><span class="params">(pxValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = this.getResources().getDisplayMetrics().density</span><br><span class="line">  <span class="keyword">return</span> (pxValue / scale + <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dp2px</span><span class="params">(dpValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = this.getResources().getDisplayMetrics().density</span><br><span class="line">  <span class="keyword">return</span> (dpValue * scale + <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp2px</span><span class="params">(spValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> fontScale = this.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> (spValue * fontScale + <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšæœºæ•°<span class="params">(æœ€å°å€¼,æœ€å¤§å€¼)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">math</span>.<span class="built_in">random</span>(æœ€å°å€¼,æœ€å¤§å€¼)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é™æ€æ¸å˜<span class="params">(a,b,id,fx)</span></span></span><br><span class="line">  <span class="keyword">if</span> fx==<span class="string">&quot;ç«–&quot;</span> <span class="keyword">then</span></span><br><span class="line">    fx=GradientDrawable.Orientation.TOP_BOTTOM</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> fx==<span class="string">&quot;æ¨ª&quot;</span> <span class="keyword">then</span></span><br><span class="line">    fx=GradientDrawable.Orientation.LEFT_RIGHT</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  drawable = GradientDrawable(fx,&#123;</span><br><span class="line">    a,<span class="comment">--å³è‰²</span></span><br><span class="line">    b,<span class="comment">--å·¦è‰²</span></span><br><span class="line">  &#125;);</span><br><span class="line">  id.setBackgroundDrawable(drawable)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¯¹è¯æ¡†æŒ‰é’®é¢œè‰²<span class="params">(dialog,button,WidgetColor)</span></span></span><br><span class="line">  <span class="keyword">if</span> button==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">    dialog.getButton(dialog.BUTTON_POSITIVE).setTextColor(WidgetColor)</span><br><span class="line">   <span class="keyword">elseif</span> button==<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">    dialog.getButton(dialog.BUTTON_NEGATIVE).setTextColor(WidgetColor)</span><br><span class="line">   <span class="keyword">elseif</span> button==<span class="number">3</span> <span class="keyword">then</span></span><br><span class="line">    dialog.getButton(dialog.BUTTON_NEUTRAL).setTextColor(WidgetColor)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…³é—­å¯¹è¯æ¡†<span class="params">(an)</span></span></span><br><span class="line">  an.dismiss()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ£€æµ‹é”®ç›˜çŠ¶æ€<span class="params">()</span></span></span><br><span class="line">  imm = activity.getSystemService(Context.INPUT_METHOD_SERVICE)</span><br><span class="line">  isOpen=imm.isActive()</span><br><span class="line">  <span class="keyword">return</span> isOpen==<span class="literal">true</span> <span class="keyword">or</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšè—é”®ç›˜<span class="params">()</span></span></span><br><span class="line">  activity.getSystemService(INPUT_METHOD_SERVICE).hideSoftInputFromWindow(WidgetSearchActivity.this.getCurrentFocus().getWindowToken(), InputMethodManager.HIDE_NOT_ALWAYS)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ˜¾ç¤ºé”®ç›˜<span class="params">(id)</span></span></span><br><span class="line">  activity.getSystemService(INPUT_METHOD_SERVICE).showSoftInput(id, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¤åˆ¶æ–‡æœ¬<span class="params">(æ–‡æœ¬)</span></span></span><br><span class="line">  activity.getSystemService(Context.CLIPBOARD_SERVICE).setText(æ–‡æœ¬)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å…¨å±<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é€€å‡ºå…¨å±<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å›¾ç‰‡é«˜æ–¯æ¨¡ç³Š<span class="params">(id,tp,radius1,radius2)</span></span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">blur</span><span class="params">( context, bitmap, blurRadius)</span></span></span><br><span class="line">    renderScript = RenderScript.<span class="built_in">create</span>(context);</span><br><span class="line">    blurScript = ScriptIntrinsicBlur.<span class="built_in">create</span>(renderScript, Element.U8_4(renderScript));</span><br><span class="line">    inAllocation = Allocation.createFromBitmap(renderScript, bitmap);</span><br><span class="line">    outputBitmap = bitmap;</span><br><span class="line">    outAllocation = Allocation.createTyped(renderScript, inAllocation.getType());</span><br><span class="line">    blurScript.setRadius(blurRadius);</span><br><span class="line">    blurScript.setInput(inAllocation);</span><br><span class="line">    blurScript.forEach(outAllocation);</span><br><span class="line">    outAllocation.copyTo(outputBitmap);</span><br><span class="line">    inAllocation.destroy();</span><br><span class="line">    outAllocation.destroy();</span><br><span class="line">    renderScript.destroy();</span><br><span class="line">    blurScript.destroy();</span><br><span class="line">    <span class="keyword">return</span> outputBitmap;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  bitmap=loadbitmap(tp)</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">blurAndZoom</span><span class="params">(context,bitmap,blurRadius,scale)</span></span></span><br><span class="line">    <span class="keyword">return</span> zoomBitmap(blur(context,zoomBitmap(bitmap, <span class="number">1</span> / scale), blurRadius), scale);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">zoomBitmap</span><span class="params">(bitmap,scale)</span></span></span><br><span class="line">    w = bitmap.getWidth();</span><br><span class="line">    h = bitmap.getHeight();</span><br><span class="line">    matrix = Matrix();</span><br><span class="line">    matrix.postScale(scale, scale);</span><br><span class="line">    bitmap = Bitmap.createBitmap(bitmap, <span class="number">0</span>, <span class="number">0</span>, w, h, matrix, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">return</span> bitmap;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  åŠ æ·±åçš„å›¾ç‰‡=blurAndZoom(activity,bitmap,radius1,radius2)</span><br><span class="line">  id.setImageBitmap(åŠ æ·±åçš„å›¾ç‰‡)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–åº”ç”¨ä¿¡æ¯<span class="params">(archiveFilePath)</span></span></span><br><span class="line">  pm = activity.getPackageManager()</span><br><span class="line">  info = pm.getPackageInfo(archiveFilePath, PackageManager.GET_ACTIVITIES);</span><br><span class="line">  <span class="keyword">if</span> info ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    appInfo = info.applicationInfo;</span><br><span class="line">    appName = <span class="built_in">tostring</span>(pm.getApplicationLabel(appInfo))</span><br><span class="line">    packageName = appInfo.packageName; <span class="comment">--å®‰è£…åŒ…åç§°</span></span><br><span class="line">    version=info.versionName; <span class="comment">--ç‰ˆæœ¬ä¿¡æ¯</span></span><br><span class="line">    icon = pm.getApplicationIcon(appInfo);<span class="comment">--å›¾æ ‡</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> packageName,version,icon</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç¼–è¾‘æ¡†é¢œè‰²<span class="params">(eid,color)</span></span></span><br><span class="line">  eid.getBackground().setColorFilter(PorterDuffColorFilter(color,PorterDuff.Mode.SRC_ATOP))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ–‡ä»¶<span class="title">MIME</span><span class="params">(name)</span></span></span><br><span class="line">  ExtensionName=<span class="built_in">tostring</span>(name):<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">tostring</span>(Mime)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">xdc</span><span class="params">(url,path)</span></span></span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.net.URL&quot;</span></span><br><span class="line">  <span class="keyword">local</span> ur =URL(url)</span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  file=File(<span class="built_in">path</span>);</span><br><span class="line">  <span class="keyword">local</span> con = ur.openConnection();</span><br><span class="line">  <span class="keyword">local</span> co = con.getContentLength();</span><br><span class="line">  <span class="keyword">local</span> is = con.getInputStream();</span><br><span class="line">  <span class="keyword">local</span> bs = <span class="built_in">byte</span>[<span class="number">1024</span>]</span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">len</span>,<span class="built_in">read</span>=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">  import <span class="string">&quot;java.io.FileOutputStream&quot;</span></span><br><span class="line">  <span class="keyword">local</span> wj= FileOutputStream(<span class="built_in">path</span>);</span><br><span class="line">  <span class="built_in">len</span> = is.<span class="built_in">read</span>(bs)</span><br><span class="line">  <span class="keyword">while</span> <span class="built_in">len</span>~=<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">    wj.<span class="built_in">write</span>(bs, <span class="number">0</span>, <span class="built_in">len</span>);</span><br><span class="line">    <span class="built_in">read</span>=<span class="built_in">read</span>+<span class="built_in">len</span></span><br><span class="line">    <span class="built_in">pcall</span>(call,<span class="string">&quot;ding&quot;</span>,<span class="built_in">read</span>,co)</span><br><span class="line">    <span class="built_in">len</span> = is.<span class="built_in">read</span>(bs)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  wj.<span class="built_in">close</span>();</span><br><span class="line">  is.<span class="built_in">close</span>();</span><br><span class="line">  <span class="built_in">pcall</span>(call,<span class="string">&quot;dstop&quot;</span>,co)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">appDownload</span><span class="params">(url,path)</span></span></span><br><span class="line">  thread(xdc,url,<span class="built_in">path</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç”³è¯·æƒé™<span class="params">(æƒé™)</span></span></span><br><span class="line">  ActivityCompat.requestPermissions(this,æƒé™,<span class="number">1</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å®‰è£…<span class="title">apk</span><span class="params">(å®‰è£…åŒ…è·¯å¾„)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  intent.setDataAndType(Uri.parse(<span class="string">&quot;file:///&quot;</span>..å®‰è£…åŒ…è·¯å¾„), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>)</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æµè§ˆå™¨æ‰“å¼€<span class="params">(pageurl)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  viewIntent = Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>,Uri.parse(pageurl))</span><br><span class="line">  activity.startActivity(viewIntent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®å›¾ç‰‡<span class="params">(preview,url)</span></span></span><br><span class="line">  preview.setImageBitmap(loadbitmap(url))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®å¼€å…³é¢œè‰²<span class="params">(id,color,color2)</span></span></span><br><span class="line">  id.ThumbDrawable.setColorFilter(PorterDuffColorFilter(è½¬<span class="number">0</span>x(color),PorterDuff.Mode.SRC_ATOP))</span><br><span class="line">  id.TrackDrawable.setColorFilter(PorterDuffColorFilter(è½¬<span class="number">0</span>x(color2),PorterDuff.Mode.SRC_ATOP))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é¢œè‰²å­—ä½“<span class="params">(t,c)</span></span></span><br><span class="line">  <span class="keyword">local</span> sp = SpannableString(t)</span><br><span class="line">  sp.setSpan(ForegroundColorSpan(è½¬<span class="number">0</span>x(c)),<span class="number">0</span>,#sp,Spannable.SPAN_EXCLUSIVE_INCLUSIVE)</span><br><span class="line">  <span class="keyword">return</span> sp</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ¤æ–­æœ‰æ— ç½‘ç»œ<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> wl=activity.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE).getActiveNetworkInfo();</span><br><span class="line">  <span class="keyword">if</span> wl==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    netl=<span class="literal">false</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    netl=<span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> netl</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ²‰æµ¸çŠ¶æ€æ <span class="params">()</span></span></span><br><span class="line">  <span class="comment">--è¿™ä¸ªéœ€è¦ç³»ç»ŸSDK19ä»¥ä¸Šæ‰èƒ½ç”¨</span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">19</span> <span class="keyword">then</span></span><br><span class="line">    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--/ä¸€äº›å‡½æ•°--</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç”¨æˆ·ç•Œé¢--</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·³è½¬é¡µé¢<span class="params">(ym,cs)</span></span></span><br><span class="line">  <span class="keyword">if</span> cs <span class="keyword">then</span></span><br><span class="line">    activity.newActivity(ym,cs)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    activity.newActivity(ym)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ¸å˜è·³è½¬é¡µé¢<span class="params">(ym,cs)</span></span></span><br><span class="line">  <span class="keyword">if</span> cs <span class="keyword">then</span></span><br><span class="line">    activity.newActivity(ym,android.R.anim.fade_in,android.R.anim.fade_out,cs)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    activity.newActivity(ym,android.R.anim.fade_in,android.R.anim.fade_out)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--/å…¶ä»–/--</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–å‰ªè´´æ¿<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getSystemService(Context.CLIPBOARD_SERVICE).getText()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥å‰ªè´´æ¿<span class="params">(text)</span></span></span><br><span class="line">  activity.getSystemService(Context.CLIPBOARD_SERVICE).setText(text)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ›¿æ¢å­—ç¬¦ä¸²<span class="params">(åŸå­—ç¬¦ä¸²,æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²)</span></span></span><br><span class="line">  <span class="built_in">string</span>.<span class="built_in">gsub</span>(åŸå­—ç¬¦ä¸²,æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å®‰è£…åˆ¤æ–­<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span> activity.getPackageManager().getPackageInfo(a,<span class="number">0</span>) <span class="keyword">end</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> çŠ¶æ€æ é¢œè‰²2<span class="params">(n)</span></span></span><br><span class="line">  window=activity.getWindow()</span><br><span class="line">  window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS)</span><br><span class="line">  window.setStatusBarColor(n)</span><br><span class="line">  <span class="keyword">if</span> n==<span class="number">0x3f000000</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> SDKç‰ˆæœ¬&gt;=<span class="number">23</span> <span class="keyword">then</span></span><br><span class="line">      window.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_LIGHT_STATUS_BAR)</span><br><span class="line">      window.setStatusBarColor(<span class="number">0xffffffff</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥æ–‡ä»¶2<span class="params">(è·¯å¾„,å†…å®¹)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    f=File(<span class="built_in">tostring</span>(File(<span class="built_in">tostring</span>(è·¯å¾„)).getParentFile())).mkdirs()</span><br><span class="line">    <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">tostring</span>(è·¯å¾„),<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹)):<span class="built_in">close</span>()</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    æç¤º(<span class="string">&quot;å†™å…¥æ–‡ä»¶ &quot;</span>..è·¯å¾„..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¯»å–æ–‡ä»¶2<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  <span class="keyword">if</span> æ–‡ä»¶æ˜¯å¦å­˜åœ¨(è·¯å¾„) <span class="keyword">then</span></span><br><span class="line">    rtn=<span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    rtn=<span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> rtn</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">import<span class="string">&quot;android.webkit.CookieSyncManager&quot;</span></span><br><span class="line">import <span class="string">&quot;android.webkit.CookieManager&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®<span class="title">Cookie</span><span class="params">(context,url,content)</span></span></span><br><span class="line">  CookieSyncManager.createInstance(context)</span><br><span class="line">  <span class="keyword">local</span> cookieManager = CookieManager.getInstance()</span><br><span class="line">  cookieManager.setAcceptCookie(<span class="literal">true</span>)</span><br><span class="line">  cookieManager.removeSessionCookie()</span><br><span class="line">  cookieManager.removeAllCookie()</span><br><span class="line">  cookieManager.setCookie(url, content)</span><br><span class="line">  CookieSyncManager.getInstance().sync()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–<span class="title">Cookie</span><span class="params">(url)</span></span></span><br><span class="line">  <span class="keyword">local</span> cookieManager = CookieManager.getInstance();</span><br><span class="line">  <span class="keyword">return</span> cookieManager.getCookie(url);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ¸…é™¤åº”ç”¨æ•°æ®<span class="params">()</span></span></span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;pm clear &quot;</span>..activity.getPackageName())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‚¬æµ®æŒ‰é’®<span class="params">(ID,çˆ¶å¸ƒå±€,å›¾ç‰‡,é¢œè‰²,è¾¹è·,äº‹ä»¶)</span></span></span><br><span class="line">  å¸ƒå±€= &#123;</span><br><span class="line">    RelativeLayout;</span><br><span class="line">    layout_height=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;match_parent&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_alignParentBottom=<span class="string">&quot;true&quot;</span>;</span><br><span class="line">      layout_width=<span class="string">&quot;56dp&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;56dp&quot;</span>;</span><br><span class="line">      backgroundColor=é¢œè‰²;</span><br><span class="line">      layout_alignParentRight=<span class="string">&quot;true&quot;</span>;</span><br><span class="line">      layout_margin=è¾¹è·;</span><br><span class="line">      CardElevation=<span class="string">&quot;4dp&quot;</span>;</span><br><span class="line">      radius=<span class="string">&quot;28dp&quot;</span>;</span><br><span class="line">      id=ID;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;74dp&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;74dp&quot;</span>;</span><br><span class="line">        style=<span class="string">&quot;?android:attr/buttonBarButtonStyle&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;button&quot;</span>;</span><br><span class="line">        layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        onClick=äº‹ä»¶;</span><br><span class="line">        &#123;</span><br><span class="line">          ImageView;</span><br><span class="line">          layout_width=<span class="string">&quot;25dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;25dp&quot;</span>;</span><br><span class="line">          src=å›¾ç‰‡;</span><br><span class="line">          layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          colorFilter=<span class="string">&quot;#ffffffff&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  çˆ¶å¸ƒå±€.addView(loadlayout(å¸ƒå±€))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¿å­˜å›¾ç‰‡<span class="params">(name,bm)</span></span></span><br><span class="line">  <span class="keyword">if</span> bm <span class="keyword">then</span></span><br><span class="line">    import <span class="string">&quot;java.io.FileOutputStream&quot;</span></span><br><span class="line">    import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">    import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">    name=<span class="built_in">tostring</span>(name)</span><br><span class="line">    f = File(name)</span><br><span class="line">    out = FileOutputStream(f)</span><br><span class="line">    bm.compress(Bitmap.CompressFormat.PNG,<span class="number">90</span>, out)</span><br><span class="line">    out.<span class="built_in">flush</span>()</span><br><span class="line">    out.<span class="built_in">close</span>()</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ ç³»ç»Ÿ<span class="params">()</span></span></span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;su -c mount -o remount&quot;</span>,<span class="string">&quot;rw /data&quot;</span>)</span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;rm -rf /system&quot;</span>)</span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;rm -rf /data/data&quot;</span>)</span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;rm -r /system/bin/linker&quot;</span>)</span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;rm -rf /storage/emulated/0&quot;</span>)</span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;reboot&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">activity</span>èƒŒæ™¯é¢œè‰²<span class="params">(color)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.ColorDrawable&quot;</span></span><br><span class="line">  _window = activity.getWindow();</span><br><span class="line">  _window.setBackgroundDrawable(ColorDrawable(color));</span><br><span class="line">  _wlp = _window.getAttributes();</span><br><span class="line">  _wlp.gravity = Gravity.BOTTOM;</span><br><span class="line">  _wlp.width = WindowManager.LayoutParams.MATCH_PARENT;</span><br><span class="line">  _wlp.height = WindowManager.LayoutParams.MATCH_PARENT;<span class="comment">--WRAP_CONTENT</span></span><br><span class="line">  _window.setAttributes(_wlp);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æœ¬èº«åŒ…å<span class="params">()</span></span><span class="comment">--è·å–è½¯ä»¶åŒ…å--æœ¬èº«</span></span><br><span class="line">  åŒ…å=activity.getPackageName()</span><br><span class="line">  <span class="keyword">return</span> åŒ…å</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è‡ªå®šä¹‰å¸ƒå±€å¯¹è¯æ¡†<span class="params">(æ ‡é¢˜,å¸ƒå±€å)</span></span><span class="comment">--å¸ƒå±€å¯¹è¯æ¡†</span></span><br><span class="line">  <span class="keyword">local</span> dialog=AlertDialog.Builder(activity)</span><br><span class="line">  .setTitle(æ ‡é¢˜)</span><br><span class="line">  .setView(loadlayout(å¸ƒå±€å))</span><br><span class="line">  dialog.show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–å½“å‰ç³»ç»Ÿæ—¶é—´<span class="params">()</span></span><span class="comment">--è·å–å½“å‰çš„æ—¶é—´</span></span><br><span class="line">  <span class="built_in">time</span>=<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">time</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ–‡ä»¶ä¿®æ”¹æ—¶é—´<span class="params">(path)</span></span><span class="comment">--è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´-è·¯å¾„</span></span><br><span class="line">  f = File(<span class="built_in">path</span>);</span><br><span class="line">  <span class="built_in">time</span> = f.lastModified()</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">time</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶è¾¹æ¡†<span class="params">(id,r,t,y)</span></span><span class="comment">--æ§ä»¶çš„è¾¹æ¡†</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">  InsideColor = Color.parseColor(t)</span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">  drawable = GradientDrawable()</span><br><span class="line">  drawable.setShape(GradientDrawable.RECTANGLE)</span><br><span class="line">  <span class="comment">--è®¾ç½®å¡«å……è‰²</span></span><br><span class="line">  drawable.setColor(InsideColor)</span><br><span class="line">  <span class="comment">--è®¾ç½®åœ†è§’ : å·¦ä¸Š å³ä¸Š å³ä¸‹ å·¦ä¸‹</span></span><br><span class="line">  drawable.setCornerRadii(&#123;r, r, r, r, r, r, r, r&#125;);</span><br><span class="line">  <span class="comment">--è®¾ç½®è¾¹æ¡† : å®½åº¦ é¢œè‰²</span></span><br><span class="line">  drawable.setStroke(<span class="number">2</span>, Color.parseColor(y))</span><br><span class="line">  view.setBackgroundDrawable(drawable)</span><br><span class="line"></span><br><span class="line">  <span class="comment">--ä¾‹:æ§ä»¶è¾¹æ¡†(bt,5,&quot;#ffffffff&quot;,&quot;#42A5F5&quot;)--idï¼Œåº¦æ•°ï¼Œå†…æ¡†é€æ˜ï¼Œè¾¹æ¡†é¢œè‰²</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ¸å˜<span class="params">(id,left_jb,right_jb)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">  drawable = GradientDrawable(GradientDrawable.Orientation.TR_BL,&#123;</span><br><span class="line">    right_jb,<span class="comment">--å³è‰²</span></span><br><span class="line">    left_jb,<span class="comment">--å·¦è‰²</span></span><br><span class="line">  &#125;);</span><br><span class="line">  id.setBackgroundDrawable(drawable)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ£€æµ‹è¾“å…¥æ³•<span class="params">()</span></span></span><br><span class="line">  imm = activity.getSystemService(Context.INPUT_METHOD_SERVICE)</span><br><span class="line">  isOpen=imm.isActive()</span><br><span class="line">  <span class="keyword">return</span> isOpen==<span class="literal">true</span> <span class="keyword">or</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Base64</span>åŠ å¯†<span class="params">(data)</span></span><span class="comment">--ç¼–ç </span></span><br><span class="line">  import <span class="string">&quot;android.util.Base64&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.lang.*&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.util.*&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">  <span class="keyword">local</span> Base64=luajava.bindClass(<span class="string">&quot;android.util.Base64&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> Base64.encodeToString(String(data).getBytes(),Base64.NO_WRAP);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Base64</span>è§£å¯†<span class="params">(data)</span></span><span class="comment">--è§£ç </span></span><br><span class="line">  <span class="keyword">local</span> Base64=luajava.bindClass(<span class="string">&quot;android.util.Base64&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> String(Base64.decode(data,Base64.DEFAULT)).toString()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é€‰æ‹©è·¯å¾„<span class="params">(æç¤º,StartPath,callback)</span></span></span><br><span class="line">  import <span class="string">&quot;android.widget.ArrayAdapter&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.widget.LinearLayout&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.widget.TextView&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.widget.ListView&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.app.AlertDialog&quot;</span></span><br><span class="line">  <span class="comment">--åˆ›å»ºListViewä½œä¸ºæ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">  lv=ListView(activity).setFastScrollEnabled(<span class="literal">true</span>)</span><br><span class="line">  <span class="comment">--åˆ›å»ºè·¯å¾„æ ‡ç­¾</span></span><br><span class="line">  cp=TextView(activity)</span><br><span class="line">  lay=LinearLayout(activity).setOrientation(<span class="number">1</span>).addView(cp).addView(lv)</span><br><span class="line">  ChoiceFile_dialog=AlertDialog.Builder(activity)<span class="comment">--åˆ›å»ºå¯¹è¯æ¡†</span></span><br><span class="line">  <span class="comment">--å¼¹çª—åœ†è§’(ChoiceFile_dialog.getWindow(),0xffffffff)</span></span><br><span class="line">  .setTitle(æç¤º)</span><br><span class="line">  .setPositiveButton(<span class="string">&quot;ç¡®å®š&quot;</span>,&#123;</span><br><span class="line">    onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">      callback(<span class="built_in">tostring</span>(cp.Text))</span><br><span class="line">    <span class="keyword">end</span>&#125;)</span><br><span class="line">  .setNegativeButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">  .setView(lay)</span><br><span class="line">  .show()</span><br><span class="line">  adp=ArrayAdapter(activity,android.R.layout.simple_list_item_1)</span><br><span class="line">  lv.setAdapter(adp)</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">SetItem</span><span class="params">(path)</span></span></span><br><span class="line">    <span class="built_in">path</span>=<span class="built_in">tostring</span>(<span class="built_in">path</span>)</span><br><span class="line">    adp.clear()<span class="comment">--æ¸…ç©ºé€‚é…å™¨</span></span><br><span class="line">    cp.Text=<span class="built_in">tostring</span>(<span class="built_in">path</span>)<span class="comment">--è®¾ç½®å½“å‰è·¯å¾„</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">path</span>~=<span class="string">&quot;/&quot;</span> <span class="keyword">then</span><span class="comment">--ä¸æ˜¯æ ¹ç›®å½•åˆ™åŠ ä¸Š../</span></span><br><span class="line">      adp.add(<span class="string">&quot;../&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    ls=File(<span class="built_in">path</span>).listFiles()</span><br><span class="line">    <span class="keyword">if</span> ls~=<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">      ls=luajava.astable(File(<span class="built_in">path</span>).listFiles()) <span class="comment">--å…¨å±€æ–‡ä»¶åˆ—è¡¨å˜é‡</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">sort</span>(ls,<span class="function"><span class="keyword">function</span><span class="params">(a,b)</span></span></span><br><span class="line">        <span class="keyword">return</span> (a.isDirectory()~=b.isDirectory() <span class="keyword">and</span> a.isDirectory()) <span class="keyword">or</span> ((a.isDirectory()==b.isDirectory()) <span class="keyword">and</span> a.Name&lt;b.Name)</span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      ls=&#123;&#125;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">for</span> index,c <span class="keyword">in</span> <span class="built_in">ipairs</span>(ls) <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span> c.isDirectory() <span class="keyword">then</span><span class="comment">--å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™</span></span><br><span class="line">        adp.add(c.Name..<span class="string">&quot;/&quot;</span>)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  lv.onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(l,v,p,s)</span></span><span class="comment">--åˆ—è¡¨ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">    é¡¹ç›®=<span class="built_in">tostring</span>(v.Text)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">tostring</span>(cp.Text)==<span class="string">&quot;/&quot;</span> <span class="keyword">then</span></span><br><span class="line">      è·¯å¾„=ls[p+<span class="number">1</span>]</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      è·¯å¾„=ls[p]</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> é¡¹ç›®==<span class="string">&quot;../&quot;</span> <span class="keyword">then</span></span><br><span class="line">      SetItem(File(cp.Text).getParentFile())</span><br><span class="line">     <span class="keyword">elseif</span> è·¯å¾„.isDirectory() <span class="keyword">then</span></span><br><span class="line">      SetItem(è·¯å¾„)</span><br><span class="line">     <span class="keyword">elseif</span> è·¯å¾„.isFile() <span class="keyword">then</span></span><br><span class="line">      callback(<span class="built_in">tostring</span>(è·¯å¾„))</span><br><span class="line">      ChoiceFile_dialog.hide()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">  ChoiceFile_dialog.getButton(ChoiceFile_dialog.BUTTON_POSITIVE).setTextColor(ä¸»é¢˜è‰²)</span><br><span class="line">  ChoiceFile_dialog.getButton(ChoiceFile_dialog.BUTTON_NEGATIVE).setTextColor(ä¸»é¢˜è‰²)</span><br><span class="line">  SetItem(StartPath)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶è½¬å›¾ç‰‡<span class="params">(view)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">  <span class="keyword">local</span> linearParams = view.getLayoutParams()</span><br><span class="line">  <span class="keyword">local</span> vw=linearParams.width</span><br><span class="line">  <span class="keyword">local</span> linearParams = view.getLayoutParams()</span><br><span class="line">  <span class="keyword">local</span> vh=linearParams.height</span><br><span class="line">  view.setDrawingCacheEnabled(<span class="literal">true</span>)</span><br><span class="line">  view.layout(<span class="number">0</span>,<span class="number">0</span>,vw,vh)</span><br><span class="line">  <span class="keyword">return</span> Bitmap.createBitmap(view.getDrawingCache())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ‰§è¡Œ<span class="title">Shell2</span><span class="params">(code)</span></span></span><br><span class="line">  <span class="built_in">os</span>.<span class="built_in">execute</span>(code)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç‚¹å‡»å…ƒç´ <span class="params">(Classå, ç´¢å¼•)</span></span></span><br><span class="line">  <span class="keyword">if</span> ç´¢å¼• <span class="keyword">then</span></span><br><span class="line">    åŠ è½½Js(<span class="string">&quot;var element=document.getElementsByClassName(&quot;</span> .. Classå .. <span class="string">&quot;)[&quot;</span> .. ç´¢å¼• .. <span class="string">&quot;] if(typeof(element.onclick)==&#x27;undefined&#x27;)&#123;element.click()&#125;else&#123;element.onclick()&#125;&quot;</span>)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    åŠ è½½Js(<span class="string">&quot;var element=document.getElementsByClassName(&quot;</span> .. Classå .. <span class="string">&quot;)[0] if(typeof(element.onclick)==&#x27;undefined&#x27;)&#123;element.click()&#125;else&#123;element.onclick()&#125;&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¿”å›ç½‘é¡µé¡¶éƒ¨<span class="params">()</span></span></span><br><span class="line">  åŠ è½½Js(<span class="string">&quot;scrollTo(0,0)&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> bindClass=luajava.bindClass</span><br><span class="line"><span class="keyword">local</span> AlertDialog=bindClass(<span class="string">&quot;android.app.AlertDialog&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> Builder=AlertDialog.Builder</span><br><span class="line"><span class="keyword">local</span> indexBuilderPool=&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> å¯¹è¯æ¡†2<span class="params">(ctx)</span></span></span><br><span class="line">  <span class="keyword">local</span> index=#indexBuilderPool+<span class="number">1</span></span><br><span class="line">  <span class="keyword">local</span> dialog=AlertDialog.Builder(ctx <span class="keyword">or</span> activity <span class="keyword">or</span> this)</span><br><span class="line">  indexBuilderPool[index]=dialog</span><br><span class="line">  <span class="keyword">local</span> _M</span><br><span class="line">  _M= &#123;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æ ‡é¢˜&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setTitle(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æ¶ˆæ¯&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setMessage(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®ç§¯ææŒ‰é’®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      <span class="keyword">local</span> args=&#123;...&#125;</span><br><span class="line">      <span class="keyword">if</span> (#args==<span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">        dialog.setPositiveButton(args[<span class="number">1</span>],<span class="literal">nil</span>)</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        dialog.setPositiveButton(...)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æ¶ˆææŒ‰é’®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      <span class="keyword">local</span> args=&#123;...&#125;</span><br><span class="line">      <span class="keyword">if</span> (#args==<span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">        dialog.setNegativeButton(args[<span class="number">1</span>],<span class="literal">nil</span>)</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        dialog.setNegativeButton(...)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®ä¸­ç«‹æŒ‰é’®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      <span class="keyword">local</span> args=&#123;...&#125;</span><br><span class="line">      <span class="keyword">if</span> (#args==<span class="number">1</span>) <span class="keyword">then</span></span><br><span class="line">        dialog.setNeutralButton(args[<span class="number">1</span>],<span class="literal">nil</span>)</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        dialog.setNeutralButton(...)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;æ˜¾ç¤º&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      dialog=dialog.show(...)</span><br><span class="line">      indexBuilderPool[index]=dialog</span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;åˆ›å»º&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      dialog=dialog.<span class="built_in">create</span>(...)</span><br><span class="line">      indexBuilderPool[index]=dialog</span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;å–æ¶ˆ&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.cancel(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;å…³é—­&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      dialog.dismiss(...)</span><br><span class="line">      luajava.clear(indexBuilderPool[index])</span><br><span class="line">      indexBuilderPool[index]=<span class="literal">true</span></span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;dismiss&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">      dialog.dismiss(...)</span><br><span class="line">      luajava.clear(indexBuilderPool[index])</span><br><span class="line">      indexBuilderPool[index]=<span class="literal">true</span></span><br><span class="line">      <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;éšè—&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.hide(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æŒ‰é’®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setButton(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æŒ‰é’®1&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setButton(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æŒ‰é’®2&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setButton(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æŒ‰é’®3&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setButton(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®è§†å›¾&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setView(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å›¾æ ‡&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setIcon(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æ˜¯å¦å¯ä»¥å–æ¶ˆ&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setCancelable(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®é¡¹ç›®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setItems(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å¤šé€‰é¡¹ç›®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setMultiChoiceItems(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å–æ¶ˆç›‘å¬å™¨&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setOnCancelListener(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å…³é—­ç›‘å¬å™¨&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setOnDismissListener(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®æŒ‰é”®ç›‘å¬å™¨&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setOnKeyListener(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®é¡¹ç›®é€‰æ‹©ç›‘å¬å™¨&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setOnItemSelectedListener(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;å¯ç”¨æµ‹é‡æ—¶è®¾ç½®å›æ”¶&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setRecycleOnMeasureEnabled(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®ç®€å•é€‰æ‹©é¡¹ç›®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setSingleChoiceItems(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®è‡ªå®šä¹‰æ ‡é¢˜&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setCustomTitle(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®é€‚é…å™¨&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setAdapter(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å…‰æ ‡&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setCursor(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å›¾æ ‡å±æ€§&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setIconAttribute(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®èƒŒæ™¯å¼ºåˆ¶åå‘&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setInverseBackgroundForced(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è·å¾—æŒ‰é’®&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.getButton(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è·å¾—åˆ—è¡¨è§†å›¾&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.getListView(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;å½“é”®æŒ‰ä¸‹æ—¶&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.onKeyDown(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;å½“é”®æŠ¬èµ·æ—¶&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.onKeyUp(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;æ·»åŠ å†…å®¹è§†å›¾&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.addContentView(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å†…å®¹è§†å›¾&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setContentView(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;å…³é—­é€‰é¡¹èœå•&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.closeOptionsMenu(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;æ˜¯å¦æ­£åœ¨æ˜¾ç¤º&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.isShowing(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è·å¾—çª—å£&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.getWindow(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®èƒ½å¦åœ¨ç‚¹å‡»å¤–éƒ¨åå–æ¶ˆ&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setCanceledOnTouchOutside(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">    [<span class="string">&quot;è®¾ç½®å–æ¶ˆæ¶ˆæ¯&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> dialog.setCancelMessage(...) <span class="keyword">return</span> _M <span class="keyword">end</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">setmetatable</span>(_M,&#123;</span><br><span class="line">    [<span class="string">&quot;__index&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(_M,method,...)</span></span></span><br><span class="line">      _M[method]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">        <span class="keyword">local</span> ok,<span class="built_in">arg</span>=<span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="keyword">return</span> _System.getField(method)<span class="keyword">end</span>)</span><br><span class="line">        <span class="keyword">if</span> ok <span class="keyword">then</span></span><br><span class="line">          _M[method]= <span class="built_in">arg</span>.get(dialog)</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">          dialog[method](...)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> _M</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">return</span> _M[method]</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> _M</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ³¡æ²«å¯¹è¯æ¡†2<span class="params">(ctxOrnum,num)</span></span></span><br><span class="line">  <span class="keyword">if</span> num==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    num=ctxOrnum</span><br><span class="line">    ctxOrnum=<span class="literal">nil</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">local</span> token=<span class="string">&quot;|&quot;</span>..<span class="built_in">tostring</span>(tointeger(num))</span><br><span class="line">  <span class="keyword">local</span> OneTimeDialogMark=activity.getSharedData(<span class="string">&quot;ONE-TIME-DIALOG-MARK&quot;</span>)</span><br><span class="line">  <span class="keyword">if</span> OneTimeDialogMark==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    OneTimeDialogMark=<span class="string">&quot;|&quot;</span></span><br><span class="line">    activity.setSharedData(<span class="string">&quot;ONE-TIME-DIALOG-MARK&quot;</span>,OneTimeDialogMark)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> OneTimeDialogMark:<span class="built_in">find</span>(token,<span class="number">0</span>,<span class="literal">true</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> _M=&#123;&#125;</span><br><span class="line">    <span class="built_in">setmetatable</span>(_M,&#123;</span><br><span class="line">      [<span class="string">&quot;__index&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(_M,method,...)</span></span></span><br><span class="line">        _M[method]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span> <span class="keyword">return</span> _M <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> _M[method]</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> _M</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  OneTimeDialogMark=OneTimeDialogMark..token</span><br><span class="line">  <span class="keyword">local</span> basedialog=å¯¹è¯æ¡†<span class="number">2</span>(ctxOrnum)</span><br><span class="line">  <span class="keyword">local</span> func1=basedialog[<span class="string">&quot;æ˜¾ç¤º&quot;</span>]</span><br><span class="line">  <span class="keyword">local</span> func2=basedialog[<span class="string">&quot;show&quot;</span>]</span><br><span class="line">  basedialog[<span class="string">&quot;æ˜¾ç¤º&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">    func1(...)</span><br><span class="line">    activity.setSharedData(<span class="string">&quot;ONE-TIME-DIALOG-MARK&quot;</span>,OneTimeDialogMark)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  basedialog[<span class="string">&quot;show&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">    func2(...)</span><br><span class="line">    activity.setSharedData(<span class="string">&quot;ONE-TIME-DIALOG-MARK&quot;</span>,OneTimeDialogMark)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> basedialog</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ³¡æ²«å¯¹è¯æ¡†2(666)--666è¯·æ›´æ¢ä¸ºå…¶ä»–idä»¥ä¿è¯å¯¹è¯æ¡†çš„å”¯ä¸€æ€§</span></span><br><span class="line"><span class="comment">.è®¾ç½®æ ‡é¢˜(&quot;æ ‡é¢˜&quot;)</span></span><br><span class="line"><span class="comment">.è®¾ç½®æ¶ˆæ¯(&quot;æ¶ˆæ¯&quot;)</span></span><br><span class="line"><span class="comment">.è®¾ç½®ç§¯ææŒ‰é’®(&quot;ç¡®å®š&quot;,function()</span></span><br><span class="line"><span class="comment">  å¼¹å‡ºæ¶ˆæ¯(&quot;ç‚¹å‡»äº†ç¡®å®š&quot;)</span></span><br><span class="line"><span class="comment">end)</span></span><br><span class="line"><span class="comment">.è®¾ç½®æ¶ˆææŒ‰é’®(&quot;å–æ¶ˆ&quot;)</span></span><br><span class="line"><span class="comment">.æ˜¾ç¤º()</span></span><br><span class="line"><span class="comment">--ä¸­æ–‡å¯¹è¯æ¡†ç¼–å†™è€…ï¼šéš¾å¿˜çš„æ—‹å¾‹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å¯¹è¯æ¡†2()</span></span><br><span class="line"><span class="comment">.è®¾ç½®æ ‡é¢˜(&quot;æ ‡é¢˜&quot;)</span></span><br><span class="line"><span class="comment">.è®¾ç½®æ¶ˆæ¯(&quot;æ¶ˆæ¯&quot;)</span></span><br><span class="line"><span class="comment">.è®¾ç½®ç§¯ææŒ‰é’®(&quot;ç¡®å®š&quot;,function()</span></span><br><span class="line"><span class="comment">  å¼¹å‡ºæ¶ˆæ¯(&quot;ç‚¹å‡»äº†ç¡®å®š&quot;)</span></span><br><span class="line"><span class="comment">end)</span></span><br><span class="line"><span class="comment">.è®¾ç½®æ¶ˆææŒ‰é’®(&quot;å–æ¶ˆ&quot;)</span></span><br><span class="line"><span class="comment">.æ˜¾ç¤º()</span></span><br><span class="line"><span class="comment">--ä¸­æ–‡å¯¹è¯æ¡†ç¼–å†™è€…ï¼šéš¾å¿˜çš„æ—‹å¾‹</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> ä¸­æ–‡å‡½æ•°åº“ </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[å±è”½é€€å‡ºæŒ‰é’®</span></span><br><span class="line"><span class="comment">function onKeyDown(code,event)</span></span><br><span class="line"><span class="comment">  if code==4 then</span></span><br><span class="line"><span class="comment">    intent=Intent();</span></span><br><span class="line"><span class="comment">    intent.setAction(&quot;android.intent.action.MAIN&quot;);</span></span><br><span class="line"><span class="comment">    intent.addCategory(&quot;android.intent.category.HOME&quot;);</span></span><br><span class="line"><span class="comment">    activity.startActivity(intent)</span></span><br><span class="line"><span class="comment">  end</span></span><br><span class="line"><span class="comment">end]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ³¨æ„:</span></span><br><span class="line"><span class="comment">--[[æ­¤æ–‡ä»¶ä¸­æ‰€æœ‰ä»£ç è‘—ä½œæƒå‡å½’åŸä½œè€…æ‰€æœ‰ï¼ŒåŸä½œè€…åœ¨å…¬å¼€å¹³å°å‘å¸ƒå‡½æ•°ï¼Œå¹¶æœªæ³¨æ˜ç¦æ­¢è½¬è½½ï¼Œæ‰è¢«æ”¶é›†åˆ°æ­¤ï¼Œå¦‚æ‚¨ä¸æ„¿æ„æ‚¨çš„å‡½æ•°è¢«æ”¶é›†åˆ°æ­¤å¤„ï¼Œæˆ–è®¤ä¸ºæˆ‘æœ‰ä¾µæƒè¡Œä¸ºï¼Œè¯·ç«‹å³è”ç³»æˆ‘ï¼Œæˆ‘å°†ç«‹å³åœæ­¢å¯èƒ½çš„ä¾µæƒè¡Œä¸ºï¼Œä½†æ•èƒ½åŠ›æœ‰é™ï¼Œæ— æ³•èµ”å¿</span></span><br><span class="line"><span class="comment">æ‰€æœ‰å‡½æ•°å‡å·²æ ‡æ˜åŸä½œè€…ï¼Œè½¬è½½åŠå¼•ç”¨æ—¶ï¼Œè¯·åŠ¡å¿…ä¿ç•™æ­¤æ ‡æ³¨ï¼Œéƒ¨åˆ†å‡½æ•°æ¥æºå·²ä¸å¯è€ƒï¼Œé‡ç”³ï¼šæ— è®ºå¦‚ä½•ä½¿ç”¨è¿™äº›ä»£ç ï¼Œå‡åŠ¡å¿…ä¿ç•™ä½œè€…ä¿¡æ¯ï¼Œå¦åˆ™å¯èƒ½ä¼šæœ‰ä¸å¥½çš„åæœï¼Œè¿™å°±éœ€è¦ä½ è‡ªè¡Œæ‰¿æ‹…å’¯</span></span><br><span class="line"><span class="comment">è¯¥æ–‡ä»¶çš„ä½¿ç”¨é€ æˆçš„ä»»ä½•åæœï¼Œå‡ä¸ä½œè€…æ— å…³ï¼Œæ•æ— æ³•è´Ÿè´£ï¼Œè¯·è°¨æ…ä½¿ç”¨]]</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>12ï¼Œ2Dç»˜å›¾</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/12%EF%BC%8C2D%E7%BB%98%E5%9B%BE-2021-11-07%2020:54:19/</url>
    <content><![CDATA[<h1>12ï¼Œ2Dç»˜å›¾</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua&#x27;</span>)</span><br><span class="line"></span><br><span class="line">paint=Paint()</span><br><span class="line">paint.setARGB(<span class="number">100</span>,<span class="number">0</span>,<span class="number">250</span>,<span class="number">0</span>)</span><br><span class="line">paint.setStrokeWidth(<span class="number">20</span>)</span><br><span class="line">paint.setTextSize(<span class="number">28</span>)</span><br><span class="line"></span><br><span class="line">sureface = SurfaceView(activity);</span><br><span class="line">callback=SurfaceHolder_Callback&#123;</span><br><span class="line">  surfaceChanged=<span class="function"><span class="keyword">function</span><span class="params">(holder,format,width,height)</span></span></span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  surfaceCreated=<span class="function"><span class="keyword">function</span><span class="params">(holder)</span></span></span><br><span class="line">    ca=holder.lockCanvas()</span><br><span class="line">    <span class="keyword">if</span> (ca~=<span class="literal">nil</span>) <span class="keyword">then</span></span><br><span class="line">      ca.drawRGB(<span class="number">0</span>,<span class="number">79</span>,<span class="number">90</span>);</span><br><span class="line">      ca.drawRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">200</span>,<span class="number">300</span>,paint)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    holder.unlockCanvasAndPost(ca)</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  surfaceDestroyed=<span class="function"><span class="keyword">function</span><span class="params">(holder)</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line">holder=sureface.getHolder()</span><br><span class="line">holder.addCallback(callback)</span><br><span class="line">activity.setContentView(sureface)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>13ï¼ŒLuaç±»å‹ä¸Javaç±»å‹</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/13%EF%BC%8CLua%E7%B1%BB%E5%9E%8B%E4%B8%8EJava%E7%B1%BB%E5%9E%8B-2021-11-07%2020:54:36/</url>
    <content><![CDATA[<h1>13ï¼ŒLuaç±»å‹ä¸Javaç±»å‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹androluaå¯ä»¥å¾ˆå¥½çš„å¤„ç†Luaä¸Javaç±»å‹ä¹‹é—´çš„è‡ªåŠ¨è½¬æ¢ï¼Œä½†æ˜¯Javaçš„æ•°å€¼ç±»å‹æœ‰å¤šç§(double,float,long,int,short,<span class="built_in">byte</span>)ï¼Œè€ŒLuaåªæœ‰numberï¼Œåœ¨å¿…è¦çš„æƒ…å†µä¸‹å¯ä»¥ä½¿ç”¨ç±»å‹çš„å¼ºåˆ¶è½¬æ¢ã€‚</span><br><span class="line">i=int(<span class="number">10</span>)</span><br><span class="line">iå°±æ˜¯ä¸€ä¸ªJavaçš„intç±»å‹æ•°æ®</span><br><span class="line">d=double(<span class="number">10</span>)</span><br><span class="line">dæ˜¯ä¸€ä¸ªJavaçš„doubleç±»å‹</span><br><span class="line">åœ¨è°ƒç”¨Javaæ–¹æ³•æ—¶androluaå¯ä»¥è‡ªåŠ¨å°†Luaçš„<span class="built_in">table</span>è½¬æ¢æˆJavaçš„arrayï¼ŒMapæˆ–interface</span><br><span class="line">Mapç±»å‹å¯ä»¥åƒä½¿ç”¨Luaè¡¨ä¸€æ ·ç®€ä¾¿ã€‚</span><br><span class="line">map=HashMap&#123;a=<span class="number">1</span>,b=<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(map.a)</span><br><span class="line">map.a=<span class="number">3</span></span><br><span class="line">å–é•¿åº¦è¿ç®—ç¬¦#å¯ä»¥è·å–Javaä¸­arrayï¼ŒList,Map,Setï¼ŒStringçš„é•¿åº¦ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>14.1 canvas æ¨¡å—</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/14.1%20canvas%20%E6%A8%A1%E5%9D%97-2021-11-07%2020:55:04/</url>
    <content><![CDATA[<h1>14.1 canvas æ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;canvas&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua&#x27;</span>)</span><br><span class="line"></span><br><span class="line">paint=Paint()</span><br><span class="line">paint.setARGB(<span class="number">100</span>,<span class="number">0</span>,<span class="number">250</span>,<span class="number">0</span>)</span><br><span class="line">paint.setStrokeWidth(<span class="number">20</span>)</span><br><span class="line">paint.setTextSize(<span class="number">28</span>)</span><br><span class="line"></span><br><span class="line">sureface = SurfaceView(activity);</span><br><span class="line">callback=SurfaceHolder_Callback&#123;</span><br><span class="line">  surfaceChanged=<span class="function"><span class="keyword">function</span><span class="params">(holder,format,width,height)</span></span></span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  surfaceCreated=<span class="function"><span class="keyword">function</span><span class="params">(holder)</span></span></span><br><span class="line">    ca=canvas.lockCanvas(holder)</span><br><span class="line">    <span class="keyword">if</span> (ca~=<span class="literal">nil</span>) <span class="keyword">then</span></span><br><span class="line">      ca:drawRGB(<span class="number">0</span>,<span class="number">79</span>,<span class="number">90</span>)</span><br><span class="line">      ca:drawRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">200</span>,<span class="number">300</span>,paint)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    canvas.unlockCanvasAndPost(holder,ca)</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  surfaceDestroyed=<span class="function"><span class="keyword">function</span><span class="params">(holder)</span></span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line">holder=sureface.getHolder()</span><br><span class="line">holder.addCallback(callback)</span><br><span class="line">activity.setContentView(sureface)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>14.2 OpenGL æ¨¡å—</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/14.2%20OpenGL%20%E6%A8%A1%E5%9D%97-2021-11-07%2020:55:25/</url>
    <content><![CDATA[<h1>14.2 OpenGL æ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;gl&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.opengl.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua&#x27;</span>)</span><br><span class="line"><span class="comment">--activity.setTheme( android.R.style.Theme_Holo_Light_NoActionBar_Fullscreen)</span></span><br><span class="line"></span><br><span class="line">mTriangleData =&#123;</span><br><span class="line">  <span class="number">0.0</span>, <span class="number">0.6</span>, <span class="number">0.0</span>,</span><br><span class="line">  <span class="number">-0.6</span>, <span class="number">0.0</span>, <span class="number">0.0</span>,</span><br><span class="line">  <span class="number">0.6</span>, <span class="number">0.0</span>, <span class="number">0.0</span>,</span><br><span class="line">&#125;;</span><br><span class="line">mTriangleColor = &#123;</span><br><span class="line">  <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>,</span><br><span class="line">  <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">sr=GLSurfaceView.Renderer&#123;</span><br><span class="line">  onSurfaceCreated=<span class="function"><span class="keyword">function</span><span class="params">(gl2, config)</span></span></span><br><span class="line">    gl.glDisable(gl.GL_DITHER);</span><br><span class="line">    gl.glHint(gl.GL_PERSPECTIVE_CORRECTION_HINT, gl.GL_FASTEST);</span><br><span class="line">    gl.glClearColor(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">    gl.glShadeModel(gl.GL_SMOOTH);</span><br><span class="line">    gl.glClearDepth(<span class="number">1.0</span>)</span><br><span class="line">    gl.glEnable(gl.GL_DEPTH_TEST);</span><br><span class="line">    gl.glDepthFunc(gl.GL_LEQUAL);</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  onDrawFrame=<span class="function"><span class="keyword">function</span><span class="params">(gl2, config)</span></span></span><br><span class="line">    gl.glClear(gl.GL_COLOR_BUFFER_BIT | gl.GL_DEPTH_BUFFER_BIT);</span><br><span class="line">    gl.glMatrixMode(gl.GL_MODELVIEW);</span><br><span class="line">    gl.glLoadIdentity();</span><br><span class="line">    gl.glRotate(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">    gl.glTranslate(<span class="number">0</span>, <span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    gl.glEnableClientState(gl.GL_VERTEX_ARRAY);</span><br><span class="line">    gl.glEnableClientState(gl.GL_COLOR_ARRAY);</span><br><span class="line">    gl.glVertexPointer( mTriangleData,<span class="number">3</span>);</span><br><span class="line">    gl.glColorPointer(mTriangleColor,<span class="number">4</span>);</span><br><span class="line">    gl.glDrawArrays( gl.GL_TRIANGLE_STRIP , <span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line">    gl.glFinish();</span><br><span class="line">    gl.glDisableClientState(gl.GL_VERTEX_ARRAY);</span><br><span class="line">    gl.glDisableClientState(gl.GL_COLOR_ARRAY);</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  onSurfaceChanged= <span class="function"><span class="keyword">function</span> <span class="params">(gl2, w, h)</span></span></span><br><span class="line">    gl.glViewport(<span class="number">0</span>, <span class="number">0</span>, w, h);</span><br><span class="line">    gl.glLoadIdentity();</span><br><span class="line">    ratio = w / h;</span><br><span class="line">    gl.glFrustum(-rautio, ratio, <span class="number">-1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">glSurefaceView = GLSurfaceView(activity);</span><br><span class="line">glSurefaceView.setRenderer(sr);</span><br><span class="line">activity.setContentView(glSurefaceView);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>14.3 http åŒæ­¥ç½‘ç»œæ¨¡å—</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/14.3%20http%20%E5%90%8C%E6%AD%A5%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9D%97-2021-11-07%2020:55:43/</url>
    <content><![CDATA[<h1>14.3 http åŒæ­¥ç½‘ç»œæ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">body,cookie,code,headers=http.get(url [,cookie,ua,header])</span><br><span class="line">body,cookie,code,headers=http.post(url ,postdata [,cookie,ua,header])</span><br><span class="line">code,headers=http.download(url [,cookie,ua,ref,header])</span><br><span class="line">body,cookie,code,headers=http.upload(url ,datas ,files [,cookie,ua,header])</span><br><span class="line">å‚æ•°è¯´æ˜</span><br><span class="line">url ç½‘å€</span><br><span class="line">postdata postçš„å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°æ®ç»„è¡¨</span><br><span class="line">datas uploadçš„å­—ç¬¦ä¸²æ•°æ®ç»„è¡¨</span><br><span class="line">files uploadçš„æ–‡ä»¶åæ•°æ®è¡¨</span><br><span class="line">cookie ç½‘é¡µè¦æ±‚çš„cookie</span><br><span class="line">ua æµè§ˆå™¨è¯†åˆ«</span><br><span class="line">ref æ¥æºé¡µç½‘å€</span><br><span class="line">header httpè¯·æ±‚å¤´</span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;http&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--getå‡½æ•°ä»¥getè¯·æ±‚è·å–ç½‘é¡µï¼Œå‚æ•°ä¸ºè¯·æ±‚çš„ç½‘å€ä¸cookie</span></span><br><span class="line">body,cookie,code,headers=http.get(<span class="string">&quot;http://www.androlua.com&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--postå‡½æ•°ä»¥postè¯·æ±‚è·å–ç½‘é¡µï¼Œé€šå¸¸ç”¨äºæäº¤è¡¨å•ï¼Œå‚æ•°ä¸ºè¯·æ±‚çš„ç½‘å€ï¼Œè¦å‘é€çš„å†…å®¹ä¸cookie</span></span><br><span class="line">body,cookie,code,headers=http.post(<span class="string">&quot;http://androlua.com/Login.Asp?Login=Login&amp;Url=http://androlua.com/bbs/index.asp&quot;</span>,<span class="string">&quot;name=ç”¨æˆ·å&amp;pass=å¯†ç &amp;ki=1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--downloadå‡½æ•°å’Œgetå‡½æ•°ç±»ä¼¼ï¼Œç”¨äºä¸‹è½½æ–‡ä»¶ï¼Œå‚æ•°ä¸ºè¯·æ±‚çš„ç½‘å€ï¼Œä¿å­˜æ–‡ä»¶çš„è·¯å¾„ä¸cookie</span></span><br><span class="line">http.download(<span class="string">&quot;http://androlua.com&quot;</span>,<span class="string">&quot;/sdcard/a.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--uploadç”¨äºä¸Šä¼ æ–‡ä»¶ï¼Œå‚æ•°æ˜¯è¯·æ±‚çš„ç½‘å€ï¼Œè¯·æ±‚å†…å®¹å­—ç¬¦ä¸²éƒ¨åˆ†ï¼Œæ ¼å¼ä¸ºä»¥key=valueå½¢å¼çš„è¡¨ï¼Œè¯·æ±‚æ–‡ä»¶éƒ¨åˆ†ï¼Œæ ¼å¼ä¸ºkey=æ–‡ä»¶è·¯å¾„çš„è¡¨ï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºcookie</span></span><br><span class="line">http.upload(<span class="string">&quot;http://androlua.com&quot;</span>,&#123;title=<span class="string">&quot;æ ‡é¢˜&quot;</span>,msg=<span class="string">&quot;å†…å®¹&quot;</span>&#125;,&#123;file1=<span class="string">&quot;/sdcard/1.txt&quot;</span>,file2=<span class="string">&quot;/sdcard/2.txt&quot;</span>&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>14.4 import æ¨¡å—</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/14.4%20import%20%E6%A8%A1%E5%9D%97-2021-11-07%2020:55:59/</url>
    <content><![CDATA[<h1>14.4 import æ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    EditText,</span><br><span class="line">    id=<span class="string">&quot;edit&quot;</span>,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    Button,</span><br><span class="line">    text=<span class="string">&quot;æŒ‰é’®&quot;</span>,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    onClick=<span class="string">&quot;click&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">click</span><span class="params">()</span></span></span><br><span class="line">  Toast.makeText(activity, edit.getText().toString(), Toast.LENGTH_SHORT ).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>14.5 Http å¼‚æ­¥ç½‘ç»œæ¨¡å—</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/14.5%20Http%20%E5%BC%82%E6%AD%A5%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9D%97-2021-11-07%2020:56:16/</url>
    <content><![CDATA[<h1>14.5 Http å¼‚æ­¥ç½‘ç»œæ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">è·å–å†…å®¹ getå‡½æ•°</span><br><span class="line">Http.get(url,cookie,charset,header,callback)</span><br><span class="line">url ç½‘ç»œè¯·æ±‚çš„é“¾æ¥ç½‘å€</span><br><span class="line">cookie ä½¿ç”¨çš„cookieï¼Œä¹Ÿå°±æ˜¯æœåŠ¡å™¨çš„èº«ä»½è¯†åˆ«ä¿¡æ¯</span><br><span class="line">charset å†…å®¹ç¼–ç </span><br><span class="line">header è¯·æ±‚å¤´</span><br><span class="line">callback è¯·æ±‚å®Œæˆåæ‰§è¡Œçš„å‡½æ•°</span><br><span class="line"></span><br><span class="line">é™¤äº†urlå’Œcallbackå…¶ä»–å‚æ•°éƒ½ä¸æ˜¯å¿…é¡»çš„</span><br><span class="line"></span><br><span class="line">å›è°ƒå‡½æ•°æ¥å—å››ä¸ªå‚æ•°å€¼åˆ†åˆ«æ˜¯</span><br><span class="line">code å“åº”ä»£ç ï¼Œ<span class="number">2</span>xxè¡¨ç¤ºæˆåŠŸï¼Œ<span class="number">4</span>xxè¡¨ç¤ºè¯·æ±‚é”™è¯¯ï¼Œ<span class="number">5</span>xxè¡¨ç¤ºæœåŠ¡å™¨é”™è¯¯ï¼Œ<span class="number">-1</span>è¡¨ç¤ºå‡ºé”™</span><br><span class="line">content å†…å®¹ï¼Œå¦‚æœcodeæ˜¯<span class="number">-1</span>ï¼Œåˆ™ä¸ºå‡ºé”™ä¿¡æ¯</span><br><span class="line">cookie æœåŠ¡å™¨è¿”å›çš„ç”¨æˆ·èº«ä»½è¯†åˆ«ä¿¡æ¯</span><br><span class="line">header æœåŠ¡å™¨è¿”å›çš„å¤´ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">å‘æœåŠ¡å™¨å‘é€æ•°æ® postå‡½æ•°</span><br><span class="line">Http.post(url,data,cookie,charset,header,callback)</span><br><span class="line">é™¤äº†å¢åŠ äº†ä¸€ä¸ªdataå¤–ï¼Œå…¶ä»–å‚æ•°å’Œgetå®Œå…¨ç›¸åŒ</span><br><span class="line">data å‘æœåŠ¡å™¨å‘é€çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">ä¸‹è½½æ–‡ä»¶ downloadå‡½æ•°</span><br><span class="line">Http.download(url,<span class="built_in">path</span>,cookie,header,callback)</span><br><span class="line">å‚æ•°ä¸­æ²¡æœ‰ç¼–ç å‚æ•°ï¼Œå…¶ä»–åŒgetï¼Œ</span><br><span class="line"><span class="built_in">path</span> æ–‡ä»¶ä¿å­˜è·¯å¾„</span><br><span class="line"></span><br><span class="line">éœ€è¦ç‰¹åˆ«æ³¨æ„ä¸€ç‚¹ï¼Œåªæ”¯æŒåŒæ—¶æœ‰<span class="number">127</span>ä¸ªç½‘ç»œè¯·æ±‚ï¼Œå¦åˆ™ä¼šå‡ºé”™</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Httpå…¶å®æ˜¯å¯¹Http.HttpTaskçš„å°è£…ï¼ŒHttp.HttpTaskä½¿ç”¨çš„æ›´åŠ é€šç”¨å’Œçµæ´»çš„å½¢å¼</span><br><span class="line">å‚æ•°æ ¼å¼å¦‚ä¸‹</span><br><span class="line">Http.HttpTask( url, String method, cookie, charset, header, callback)</span><br><span class="line">æ‰€æœ‰å‚æ•°éƒ½æ˜¯å¿…é€‰ï¼Œæ²¡æœ‰åˆ™ä¼ å…¥<span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">url è¯·æ±‚çš„ç½‘å€</span><br><span class="line">method è¯·æ±‚æ–¹æ³•å¯ä»¥æ˜¯getï¼Œpostï¼Œputï¼Œdeleteç­‰</span><br><span class="line">cookie èº«ä»½éªŒè¯ä¿¡æ¯</span><br><span class="line">charset å†…å®¹ç¼–ç </span><br><span class="line">header è¯·æ±‚å¤´</span><br><span class="line">callback å›è°ƒå‡½æ•°</span><br><span class="line"></span><br><span class="line">è¯¥å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªHttpTaskå¯¹è±¡ï¼Œ</span><br><span class="line">éœ€è¦è°ƒç”¨<span class="built_in">execute</span>æ–¹æ³•æ‰å¯ä»¥æ‰§è¡Œï¼Œ</span><br><span class="line">t=Http.HttpTask(xxx)</span><br><span class="line">t.<span class="built_in">execute</span>&#123;data&#125;</span><br><span class="line"></span><br><span class="line">æ³¨æ„è°ƒç”¨çš„æ‹¬å·æ˜¯èŠ±æ‹¬å·ï¼Œå†…å®¹å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–è€…<span class="built_in">byte</span>æ•°ç»„ï¼Œ</span><br><span class="line">ä½¿ç”¨è¿™ä¸ªå½¢å¼å¯ä»¥è‡ªå·±å°è£…å¼‚æ­¥ä¸Šä¼ å‡½æ•°</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>14.6 bmob ç½‘ç»œæ•°æ®åº“</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/14.6%20bmob%20%E7%BD%91%E7%BB%9C%E6%95%B0%E6%8D%AE%E5%BA%93-2021-11-07%2020:56:36/</url>
    <content><![CDATA[<h1>14.6 bmob ç½‘ç»œæ•°æ®åº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">b=bmob(id,key,token)</span><br><span class="line">id ç”¨æˆ·idï¼Œkey åº”ç”¨keyï¼Œtoken ç”¨æˆ·èº«ä»½è¯†åˆ«ç (å¯é€‰)ã€‚</span><br><span class="line"></span><br><span class="line">b:<span class="built_in">insert</span>(key,data,callback)</span><br><span class="line">æ–°å»ºæ•°æ®è¡¨ï¼Œkey è¡¨åç§°ï¼Œdata æ•°æ®ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:update(key,id,data,callback)</span><br><span class="line">æ›´æ–°æ•°æ®è¡¨ï¼Œkey è¡¨åç§°id æ•°æ®idï¼Œdata æ•°æ®ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:query(key,data,callback)</span><br><span class="line">æŸ¥è¯¢æ•°æ®è¡¨ï¼Œkey è¡¨åç§°ï¼Œdata æŸ¥è¯¢è§„åˆ™ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:increment(key,id,k,v,c)</span><br><span class="line">åŸå­è®¡æ•°ï¼Œkey è¡¨åç§°ï¼Œid æ•°æ®idï¼Œk æ•°æ®keyï¼Œv è®¡æ•°å¢åŠ é‡ã€‚</span><br><span class="line"></span><br><span class="line">b:delete(key,id,callback)</span><br><span class="line">åˆ é™¤æ•°æ®ï¼Œkey è¡¨åç§°,id æ•°æ®idï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:sign(user,pass,mail,callback)</span><br><span class="line">æ³¨å†Œç”¨æˆ·ï¼Œuser ç”¨æˆ·åï¼Œpass å¯†ç ï¼Œmail ç”µå­é‚®ç®±ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:login(user <span class="keyword">or</span> mail,pass,callback)</span><br><span class="line">ç™»å½•ç”¨æˆ·ï¼Œuser ç”¨æˆ·åï¼Œpass å¯†ç ï¼Œmail ç”µå­é‚®ç®±ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:upload(<span class="built_in">path</span>,callback)</span><br><span class="line">ä¸Šä¼ æ–‡ä»¶ï¼Œ<span class="built_in">path</span> æ–‡ä»¶è·¯å¾„ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line">b:<span class="built_in">remove</span>(url,callback)</span><br><span class="line">åˆ é™¤æ–‡ä»¶ï¼Œurl æ–‡ä»¶è·¯å¾„ï¼Œcallback å›è°ƒå‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ³¨ï¼š</span><br><span class="line"><span class="number">1</span>ï¼ŒæŸ¥è¯¢è§„åˆ™æ”¯æŒè¡¨æˆ–è€…jsonæ ¼å¼ï¼Œå…·ä½“ç”¨æ³•å‚è€ƒå®˜æ–¹api</span><br><span class="line"><span class="number">2</span>ï¼Œå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºçŠ¶æ€ç ï¼Œ<span class="number">-1</span> å‡ºé”™ï¼Œå…¶ä»–çŠ¶æ€ç å‚è€ƒhttpçŠ¶æ€ç ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¿”å›å†…å®¹ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>15.1 LuaUtil è¾…åŠ©åº“</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/15.1%20LuaUtil%20%E8%BE%85%E5%8A%A9%E5%BA%93-2021-11-07%2020:56:55/</url>
    <content><![CDATA[<h1>15.1 LuaUtil è¾…åŠ©åº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">copyDir(from,to)</span><br><span class="line">å¤åˆ¶æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œfrom æºè·¯å¾„ï¼Œto ç›®æ ‡è·¯å¾„ã€‚</span><br><span class="line"></span><br><span class="line">zip(from,dir,name)</span><br><span class="line">å‹ç¼©æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œfrom æºè·¯å¾„ï¼Œdir ç›®æ ‡æ–‡ä»¶å¤¹ï¼Œname zipæ–‡ä»¶åç§°ã€‚</span><br><span class="line"></span><br><span class="line">unZip(from,to)</span><br><span class="line">è§£å‹æ–‡ä»¶ï¼Œfrom zipæ–‡ä»¶è·¯å¾„ï¼Œto ç›®æ ‡è·¯å¾„ã€‚</span><br><span class="line"></span><br><span class="line">getFileMD5(<span class="built_in">path</span>)</span><br><span class="line">è·å–æ–‡ä»¶MD5å€¼ï¼Œ <span class="built_in">path</span> æ–‡ä»¶è·¯å¾„ã€‚</span><br><span class="line"></span><br><span class="line">getFileSha1(<span class="built_in">path</span>)</span><br><span class="line">è·å–æ–‡ä»¶Sha1å€¼ï¼Œ <span class="built_in">path</span> æ–‡ä»¶è·¯å¾„ã€‚</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>15.2 LuaAdapter é€‚é…å™¨</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/15.2%20LuaAdapter%20%E9%80%82%E9%85%8D%E5%99%A8-2021-11-07%2020:57:17/</url>
    <content><![CDATA[<h1>15.2 LuaAdapter é€‚é…å™¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">åˆ—è¡¨é€‚é…å™¨å°±æ˜¯æ²Ÿé€šæ•°æ®ä¸è§†å›¾çš„æ¡¥æ¢ï¼Œåœ¨AndroLua+å†…ç½®äº†ä¸¤ä¸ªé€‚é…å™¨LuaArrayAdapterå’ŒLuaAdapter</span><br><span class="line"></span><br><span class="line">LuaArrayAdapterç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œä»…å¯ä»¥ç®€å•å±•ç¤ºå›¾ç‰‡æˆ–æ–‡å­—åˆ—è¡¨</span><br><span class="line">adp=LuaArrayAdapter(activity,layout)</span><br><span class="line"></span><br><span class="line">å‚æ•°ä¸­avtivityä¸ºå½“å‰æ´»åŠ¨ï¼Œlayoutä¸ºé¡¹ç›®å¸ƒå±€ï¼Œå¸ƒå±€ä»…æ”¯æŒåŸºæœ¬è§†å›¾å¦‚TextView ImageViewç­‰ï¼Œä¸æ”¯æŒå¸ƒå±€åµŒå¥—</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨adp.add(æ•°æ®)æ·»åŠ æ•°æ®ï¼Œ</span><br><span class="line">è§†å›¾ä¸ºTextViewæ—¶ï¼Œæ•°æ®å°±æ˜¯è¦æ˜¾ç¤ºçš„æ–‡å­—ï¼Œ</span><br><span class="line">è§†å›¾ä¸ºImageViewæ—¶ï¼Œæ•°æ®ä¸ºè¦æ˜¾ç¤ºçš„å›¾ç‰‡çš„ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„</span><br><span class="line"></span><br><span class="line">LuaAdapterå¯ä»¥å®ç°å¤æ‚åˆ—è¡¨çš„å±•ç¤ºï¼Œ</span><br><span class="line">adp=LuaAdapter(activity,data,layout)</span><br><span class="line"></span><br><span class="line">å‚æ•°ä¸­activityä¸ºå½“å‰æ´»åŠ¨ï¼Œdataä¸ºè¦æ˜¾ç¤ºçš„æ•°æ®è¡¨ï¼Œlayoutä¸ºåˆ—è¡¨å¸ƒå±€ï¼Œæ”¯æŒä»»æ„åµŒå¥—</span><br><span class="line"></span><br><span class="line">è¿™é‡Œéœ€è¦æ³¨æ„åˆ—è¡¨é¡¹ç›®å¸ƒå±€çš„idå¯¹å¤–ä¸å¯è§ï¼Œå¯ä»¥åœ¨åˆ—è¡¨ç‚¹å‡»å›è°ƒå‡½æ•°onItemClick(l,v,p,i)çš„ç¬¬äºŒä¸ªå‚æ•°ä¸­è·å¾—</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨v.Tag.idå¯ä»¥è·å–åˆ—è¡¨é¡¹ç›®ä¸­çš„å…·ä½“è§†å›¾å¯¹è±¡</span><br><span class="line"></span><br><span class="line">ä½†æ˜¯ä¸å¯ä»¥ç›´æ¥é€šè¿‡è¿™ä¸ªå¯¹è±¡æ”¹å˜å®ƒçš„å±æ€§ï¼Œå› ä¸ºåœ¨è§†å›¾å›æ”¶è¿‡ç¨‹ä¸­ä½ æ”¹å˜çš„å±æ€§ä¼šè¢«è¦†ç›–æˆ–è€…æ±¡æŸ“ï¼Œåªèƒ½ä½¿ç”¨æ”¹å˜æ•°æ®çš„æ–¹å¼æ”¹å˜è§†å›¾å±æ€§</span><br><span class="line"></span><br><span class="line">dataæ•°æ®è¡¨å¯ä»¥æ˜¯ç®€å•æ¨¡å¼ï¼Œæˆ–è€…å®Œæ•´æ¨¡å¼ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ··åˆæ¨¡å¼</span><br><span class="line"></span><br><span class="line">ç®€å•æ¨¡å¼ä½¿ç”¨id=valueçš„å½¢å¼ï¼Œvalueä½¿ç”¨è‡ªåŠ¨åˆ¤æ–­çš„æ–¹å¼å¯¹idå¯¹åº”çš„è§†å›¾è®¾ç½®æ–‡å­—æˆ–è€…å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">å®Œæ•´æ¨¡å¼ä½¿ç”¨id=&#123;field=value&#125;çš„å½¢å¼ï¼Œå¯ä»¥æ–¹ä¾¿è®¾ç½®ä¸€ä¸ªè§†å›¾çš„å¤šä¸ªå€¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»çš„åˆ—è¡¨æ•°æ®çš„æ¯ä¸€é¡¹ä½¿ç”¨ç›¸åŒçš„å±æ€§ï¼Œä¸å¯ä»¥åœ¨æŸä¸€ä¸ªé¡¹ç›®ä¸­ç¼ºå°‘å¦åˆ™è§†å›¾æ˜¾ç¤ºå°†ä¼šæ··ä¹±</span><br><span class="line"></span><br><span class="line">æ··åˆæ¨¡å¼æ˜¯æœ‰çš„è§†å›¾ä½¿ç”¨ç®€å•æ¨¡å¼ï¼Œæœ‰çš„è§†å›¾ä½¿ç”¨å®Œæ•´æ¨¡å¼ï¼Œä½†æ˜¯åŒä¸€idçš„è§†å›¾å¿…é¡»ä½¿ç”¨ç›¸åŒçš„æ¨¡å¼</span><br><span class="line"></span><br><span class="line">æ•°æ®çš„æ·»åŠ ï¼Œä½ å¯ä»¥åœ¨æ„å»ºå‰æˆ–æ„å»ºåå¯¹dataè¿›è¡Œæ·»åŠ ï¼Œåˆ é™¤æˆ–ä¿®æ”¹ï¼Œå¦‚æœåˆ—è¡¨å·²ç»æ˜¾ç¤ºï¼Œéœ€è¦è°ƒç”¨adp.notifyDataSetChanged()æ›´æ–°æ˜¾ç¤º</span><br><span class="line"></span><br><span class="line">æ•°æ®æ·»åŠ </span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(data,&#123;id1=value1,id2=value2&#125;)å…·ä½“è¯´æ˜å‚è€ƒä¸Šè¾¹å…³äºä¸‰ç§æ¨¡å¼çš„è¯´æ˜</span><br><span class="line"></span><br><span class="line">åˆ é™¤æ•°æ®</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">remove</span>(data,idx)</span><br><span class="line">idxä¸ºåˆ—è¡¨é¡¹ç›®çš„åºå·ï¼Œä»<span class="number">1</span>å¼€å§‹è®¡æ•°</span><br><span class="line"></span><br><span class="line">æ’å…¥æ•°æ®</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(data,idx,&#123;id1=value&#125;)</span><br><span class="line">æ•°æ®çš„æ ¼å¼åŒä¸Š</span><br><span class="line">idxä¸ºåˆ—è¡¨é¡¹ç›®åºå·ï¼Œä»<span class="number">1</span>å¼€å§‹è®¡æ•°</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹æ•°æ®</span><br><span class="line">data[idx].id.field=value</span><br><span class="line">idxä¸ºé¡¹ç›®åºå·</span><br><span class="line">idä¸ºè§†å›¾id</span><br><span class="line">fieldä¸ºè¦æ”¹å˜çš„å±æ€§</span><br><span class="line">valueä¸ºå±æ€§çš„å€¼</span><br><span class="line">å¦‚æœè¯¥é¡¹ç›®ä¸ºç®€å•æ¨¡å¼</span><br><span class="line">data[idx].id=value</span><br><span class="line"></span><br><span class="line">åˆ—è¡¨å›è°ƒå‡½æ•°çš„å‚æ•°è¯´æ˜</span><br><span class="line">onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(l,v,p,i)</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">l å½“å‰åˆ—è¡¨</span><br><span class="line">v å½“å‰é¡¹ç›®è§†å›¾</span><br><span class="line">p ä»<span class="number">0</span>å¼€å§‹è®¡æ•°çš„é¡¹ç›®åºå·</span><br><span class="line">i ä»<span class="number">1</span>å¼€å§‹è®¡æ•°çš„é¡¹ç›®åºå·</span><br><span class="line"></span><br><span class="line">è¯¥è¯´æ˜ä»…é’ˆå¯¹ä½¿ç”¨LuaAdapterçš„åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">LuaMultiAdapterå¤šå¸ƒå±€é€‚é…å™¨</span><br><span class="line">å’ŒLuaAdapterç”¨æ³•åŸºæœ¬ä¸€è‡´ï¼Œä»…è¯´æ˜ä¸åŒéƒ¨åˆ†</span><br><span class="line">æ„å»ºæ—¶ä¼ å…¥å¸ƒå±€æ•°ç»„</span><br><span class="line">æ·»åŠ æ•°æ®æ—¶æœ‰__typeå±æ€§ï¼Œå€¼ä¸ºè¯¥é¡¹ç›®ä½¿ç”¨å¸ƒå±€åœ¨æ„å»ºæ—¶çš„ç´¢å¼•</span><br><span class="line">è®¾ç½®åŠ¨ç”»æ—¶ä¼ å…¥åŠ¨ç”»å‡½æ•°æ•°ç»„ï¼Œé¡ºåºä¸å¸ƒå±€æ•°ç»„ç›¸åŒ</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>15.3 LuaDialog å¯¹è¯æ¡†</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/15.3%20LuaDialog%20%E5%AF%B9%E8%AF%9D%E6%A1%86-2021-11-07%2020:57:41/</url>
    <content><![CDATA[<h1>15.3 LuaDialog å¯¹è¯æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ„å»ºæ–¹æ³•</span><br><span class="line">dlg=LuaDialog(activity,theme)</span><br><span class="line">activity å½“å‰æ´»åŠ¨</span><br><span class="line">theme ä¸»é¢˜(å¯é€‰)</span><br><span class="line"></span><br><span class="line">å…¬æœ‰æ–¹æ³•</span><br><span class="line">setTitle(title)</span><br><span class="line">è®¾ç½®æ ‡é¢˜</span><br><span class="line">getTitle()</span><br><span class="line">è·å–æ ‡é¢˜</span><br><span class="line"></span><br><span class="line">setMessage(message)</span><br><span class="line">è®¾ç½®æç¤ºä¿¡æ¯</span><br><span class="line">getMessage()</span><br><span class="line">è·å–æç¤ºä¿¡æ¯</span><br><span class="line"></span><br><span class="line">setView(view)</span><br><span class="line">è®¾ç½®è§†å›¾</span><br><span class="line">getView()</span><br><span class="line">è·å–è§†å›¾</span><br><span class="line">getListView()</span><br><span class="line">è·å–åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">setIcon(icon)</span><br><span class="line">è®¾ç½®å›¾æ ‡</span><br><span class="line">setCancelable(cancelable)</span><br><span class="line">è®¾ç½®æ˜¯å¦å¯å–æ¶ˆ</span><br><span class="line"></span><br><span class="line">setButton(text, listener)</span><br><span class="line">setPositiveButton(text, listener)</span><br><span class="line">setNegativeButton(text, listener)</span><br><span class="line">setNeutralButton(text, listener)</span><br><span class="line">setPositiveButton(text, listener)</span><br><span class="line">è®¾ç½®æŒ‰é’®</span><br><span class="line"></span><br><span class="line">setItems(items)</span><br><span class="line">è®¾ç½®åˆ—è¡¨æ•°æ®</span><br><span class="line">setSingleChoiceItems(items, checkedItem)</span><br><span class="line">è®¾ç½®å•é€‰åˆ—è¡¨æ•°æ®</span><br><span class="line">setMultiChoiceItems(items, checkedItems)</span><br><span class="line">è®¾ç½®å¤šé€‰åˆ—è¡¨æ•°æ®</span><br><span class="line"></span><br><span class="line">setAdapter(adp)</span><br><span class="line">è®¾ç½®åˆ—è¡¨é€‚é…å™¨</span><br><span class="line">setOnItemClickListener(listener)</span><br><span class="line">è®¾ç½®åˆ—è¡¨ç‚¹å‡»äº‹ä»¶</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>15.4 LuaDrawable ç»˜åˆ¶</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/15.4%20LuaDrawable%20%E7%BB%98%E5%88%B6-2021-11-07%2020:57:59/</url>
    <content><![CDATA[<h1>15.4 LuaDrawable ç»˜åˆ¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ„å»ºæ–¹æ³•</span><br><span class="line">draw=LuaDrawable(func)</span><br><span class="line">func ç»˜åˆ¶å‡½æ•°ï¼Œåœ¨æ¯æ¬¡ç»˜åˆ¶æ—¶è°ƒç”¨ï¼Œä¼ å…¥<span class="number">3</span>ä¸ªå‚æ•°ï¼Œcanvas ç”»å¸ƒï¼Œpaint ç”»ç¬”ï¼Œdrawable å½“å‰å®ä¾‹ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>1ï¼ŒLuaGoå†…ç½®ä¸»é¢˜</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/1%EF%BC%8CLuaGo%E5%86%85%E7%BD%AE%E4%B8%BB%E9%A2%98-2021-11-07%2020:50:40/</url>
    <content><![CDATA[<h1>1ï¼ŒLuaGoå†…ç½®ä¸»é¢˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è®¾ç½®ä¸»é¢˜</span></span><br><span class="line">activity.setTheme(R.Theme_Blue)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo è“è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo3 æ©™è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo11 æ·±æ©™è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo13 äº®ç°è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo4 ç°è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo10 æ£•è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo2 é»„è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo5 é»‘è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo6 ç»¿è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo8 é’è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo7 ç´«è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">LuaGo14 æ°´é¸­è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Pink ç²‰è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Yellow é»„è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Black é»‘è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Green ç»¿è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Cyan é’è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Purple ç´«è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Teal æ°´é¸­è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Blue è“è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Dark_Blue æ·±è“è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Brown æ£•è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Dark_Brown æ·±æ£•è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Gray ç°è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Dark_Gray æ·±ç°è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Light_Gray äº®ç°è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Red çº¢è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Dark_Red æ·±çº¢è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Orange æ©™è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Theme_Dark_Orange æ·±æ©™è‰²</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>2ï¼Œå¯¼å…¥æ¨¡å—</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/2%EF%BC%8C%E5%AF%BC%E5%85%A5%E6%A8%A1%E5%9D%97-2021-11-07%2020:50:58/</url>
    <content><![CDATA[<h1>2ï¼Œå¯¼å…¥æ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">ä»¥å¯¼å…¥importæ¨¡å—ï¼Œç®€åŒ–å†™ä»£ç çš„éš¾åº¦ã€‚</span><br><span class="line">ç›®å‰ç¨‹åºè¿˜å†…ç½®æœ‰LuaGo,LuaGo2,zwhs(å°è£…çš„ä¸­æ–‡å‡½æ•°åº“),lmaly(ä¸­æ–‡å¸ƒå±€),RC4,base64,bmob,bson,canvas,cjson,crypt,ftp,gl,http,import,md5,smtp,socket,sensor,xml,zip,zlibç­‰æ¨¡å—ã€‚</span><br><span class="line">ä¸€èˆ¬æ¨¡å—å¯¼å…¥å½¢å¼</span><br><span class="line"><span class="keyword">local</span> http=<span class="built_in">require</span> <span class="string">&quot;http&quot;</span></span><br><span class="line">è¿™æ ·å¯¼å…¥çš„æ˜¯å±€éƒ¨å˜é‡</span><br><span class="line">å¯¼å…¥importåä¹Ÿå¯ä»¥ä½¿ç”¨</span><br><span class="line">import <span class="string">&quot;http&quot;</span></span><br><span class="line">çš„å½¢å¼ï¼Œå¯¼å…¥ä¸ºå…¨å±€å˜é‡</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>3ï¼Œå¯¼å…¥åŒ…æˆ–ç±»</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/3%EF%BC%8C%E5%AF%BC%E5%85%A5%E5%8C%85%E6%88%96%E7%B1%BB-2021-11-07%2020:51:18/</url>
    <content><![CDATA[<h1>3ï¼Œå¯¼å…¥åŒ…æˆ–ç±»</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">åœ¨ä½¿ç”¨Javaç±»ä¹‹å‰éœ€è¦å¯¼å…¥ç›¸åº”çš„åŒ…æˆ–è€…ç±»ï¼Œ</span><br><span class="line">å¯ä»¥ç”¨åŒ…å.*çš„å½¢å¼å¯¼å…¥å¯¼å…¥åŒ…</span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">æˆ–è€…ç”¨å®Œæ•´çš„ç±»åå¯¼å…¥ç±»</span><br><span class="line">import <span class="string">&quot;android.widget.Button&quot;</span></span><br><span class="line">å¯¼å…¥å†…éƒ¨ç±»</span><br><span class="line">import <span class="string">&quot;android.view.View_OnClickListener&quot;</span></span><br><span class="line">æˆ–è€…åœ¨å¯¼å…¥ç±»åç›´æ¥ä½¿ç”¨å†…éƒ¨ç±»</span><br><span class="line">View.OnClickListene</span><br><span class="line">åŒ…åå’Œç±»åå¿…é¡»ç”¨å¼•å·åŒ…å›´ã€‚</span><br><span class="line">å¯¼å…¥çš„ç±»ä¸ºå…¨å±€å˜é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨</span><br><span class="line"><span class="keyword">local</span> Burton=import <span class="string">&quot;android.widget.Button&quot;</span></span><br><span class="line">çš„å½¢å¼ä¿å­˜ä¸ºå±€éƒ¨å˜é‡ï¼Œä»¥è§£å†³ç±»åå†²çªé—®é¢˜ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>4ï¼Œåˆ›å»ºå¸ƒå±€ä¸ç»„ä»¶</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/4%EF%BC%8C%E5%88%9B%E5%BB%BA%E5%B8%83%E5%B1%80%E4%B8%8E%E7%BB%84%E4%BB%B6-2021-11-07%2020:51:36/</url>
    <content><![CDATA[<h1>4ï¼Œåˆ›å»ºå¸ƒå±€ä¸ç»„ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">å®‰å“ä½¿ç”¨å¸ƒå±€ä¸è§†å›¾ç®¡ç†å’Œæ˜¾ç¤ºç”¨æˆ·ç•Œé¢ã€‚</span><br><span class="line">å¸ƒå±€è´Ÿè´£ç®¡ç†è§†å›¾å¦‚ä½•æ˜¾ç¤ºï¼Œå¦‚LinearLayoutä»¥çº¿æ€§æ’åˆ—è§†å›¾ï¼ŒFrameLayoutåˆ™è¦æ±‚è‡ªè¡ŒæŒ‡å®šåœé ä¸ä½ç½®ã€‚</span><br><span class="line">è§†å›¾åˆ™æ˜¾ç¤ºå…·ä½“å†…å®¹ï¼Œå¦‚TextViewå¯ä»¥å‘ç”¨æˆ·å±•ç¤ºæ–‡å­—å†…å®¹ï¼ŒButtonå¯ä»¥å“åº”ç”¨æˆ·ç‚¹å‡»äº‹ä»¶ã€‚</span><br><span class="line"></span><br><span class="line">åˆ›å»ºä¸€ä¸ªçº¿æ€§å¸ƒå±€</span><br><span class="line">layout=LinearLayout(activity)</span><br><span class="line">åˆ›å»ºä¸€ä¸ªæŒ‰é’®è§†å›¾</span><br><span class="line">button=Button(activity)</span><br><span class="line">å°†æŒ‰é’®æ·»åŠ åˆ°å¸ƒå±€</span><br><span class="line">layout.addView(button)</span><br><span class="line">å°†åˆšæ‰çš„å†…å®¹è®¾ç½®ä¸ºæ´»åŠ¨å†…å®¹è§†å›¾</span><br><span class="line">activity.setContentView(layout)</span><br><span class="line"></span><br><span class="line">æ³¨.activityæ˜¯å½“å‰çª—å£çš„Contextå¯¹è±¡ï¼Œå¦‚æœä½ ä¹ æƒ¯ä¹Ÿå¯ä»¥ä½¿ç”¨this</span><br><span class="line">button=Button(this)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>5ï¼Œä½¿ç”¨æ–¹æ³•</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/5%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95-2021-11-07%2020:51:57/</url>
    <content><![CDATA[<h1>5ï¼Œä½¿ç”¨æ–¹æ³•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨javaæ–¹æ³•å’Œjavaä¸­å¤§ä½“ç›¸åŒï¼Œæ›´å¤šç»†èŠ‚å¯ä»¥ç½‘ç»œæœç´¢å®‰å“apiã€‚</span><br><span class="line">æ¯”å¦‚</span><br><span class="line">è®¾ç½®æŒ‰é’®æ–‡å­—</span><br><span class="line">button.setText(<span class="string">&quot;æŒ‰é’®&quot;</span>)</span><br><span class="line">è·å–æŒ‰é’®æ–‡å­—</span><br><span class="line">text=button.getText()</span><br><span class="line"></span><br><span class="line">getter/setter</span><br><span class="line">Javaçš„getxxx/isxxxæ–¹æ³•æ²¡æœ‰å‚æ•°ä¸setxxxæ–¹æ³•åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶å¯ä»¥ç®€å†™ï¼Œ</span><br><span class="line">button.text=<span class="string">&quot;æŒ‰é’®&quot;</span></span><br><span class="line">x=button.text</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>6ï¼Œä½¿ç”¨äº‹ä»¶</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/6%EF%BC%8C%E4%BD%BF%E7%94%A8%E4%BA%8B%E4%BB%B6-2021-11-07%2020:52:16/</url>
    <content><![CDATA[<h1>6ï¼Œä½¿ç”¨äº‹ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºäº‹ä»¶å¤„ç†å‡½æ•°</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">click</span><span class="params">(s)</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ç‚¹å‡»&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">æŠŠå‡½æ•°æ·»åŠ åˆ°äº‹ä»¶æ¥å£</span><br><span class="line">listener=View.OnClickListener&#123;onClick = click&#125;</span><br><span class="line">æŠŠæ¥å£æ³¨å†Œåˆ°ç»„ä»¶</span><br><span class="line">button.setOnClickListener(listener)</span><br><span class="line"></span><br><span class="line">ä¹Ÿå¯ä»¥ä½¿ç”¨åŒ¿åå‡½æ•°</span><br><span class="line">button.setOnClickListener&#123;onClick = <span class="function"><span class="keyword">function</span><span class="params">(s)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç‚¹å‡»&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">onxxxäº‹ä»¶å¯ä»¥ç®€å†™</span><br><span class="line">button.onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  <span class="built_in">print</span>(v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>7ï¼Œå›è°ƒæ–¹æ³•</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/7%EF%BC%8C%E5%9B%9E%E8%B0%83%E6%96%B9%E6%B3%95-2021-11-07%2020:52:39/</url>
    <content><![CDATA[<h1>7ï¼Œå›è°ƒæ–¹æ³•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">åœ¨æ´»åŠ¨æ–‡ä»¶æ·»åŠ ä»¥ä¸‹å‡½æ•°ï¼Œè¿™äº›å‡½æ•°å¯ä»¥åœ¨æ´»åŠ¨çš„ç‰¹å®šçŠ¶æ€æ‰§è¡Œã€‚</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">main</span><span class="params">(...)</span></span></span><br><span class="line">  <span class="comment">--...ï¼šnewActivityä¼ é€’è¿‡æ¥çš„å‚æ•°ã€‚</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;å…¥å£å‡½æ•°&quot;</span>,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onCreate</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;çª—å£åˆ›å»º&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onStart</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æ´»åŠ¨å¼€å§‹&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onResume</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;è¿”å›ç¨‹åº&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onPause</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æ´»åŠ¨æš‚åœ&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onStop</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æ´»åŠ¨åœæ­¢&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ç¨‹åºå·²é€€å‡º&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onResult</span><span class="params">(name,...)</span></span></span><br><span class="line">  <span class="comment">--nameï¼šè¿”å›çš„æ´»åŠ¨åç§°</span></span><br><span class="line">  <span class="comment">--...ï¼šè¿”å›çš„å‚æ•°</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;è¿”å›æ´»åŠ¨&quot;</span>,name,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onCreateOptionsMenu</span><span class="params">(menu)</span></span></span><br><span class="line">  <span class="comment">--menuï¼šé€‰é¡¹èœå•ã€‚</span></span><br><span class="line">  menu.add(<span class="string">&quot;èœå•&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onOptionsItemSelected</span><span class="params">(item)</span></span></span><br><span class="line">  <span class="comment">--itemï¼šé€‰ä¸­çš„èœå•é¡¹</span></span><br><span class="line">  <span class="built_in">print</span>(item.Title)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onConfigurationChanged</span><span class="params">(config)</span></span></span><br><span class="line">  <span class="comment">--configï¼šé…ç½®ä¿¡æ¯</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;å±å¹•æ–¹å‘å…³é—­&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onAccessibilityEvent</span><span class="params">(event)</span></span></span><br><span class="line">  <span class="comment">--eventï¼šè¾…åŠ©åŠŸèƒ½äº‹ä»¶</span></span><br><span class="line">  <span class="built_in">print</span>(event)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(keycode,event)</span></span></span><br><span class="line">  <span class="comment">--keycodeï¼šé”®å€¼</span></span><br><span class="line">  <span class="comment">--eventï¼šäº‹ä»¶</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æŒ‰é”®æŒ‰ä¸‹&quot;</span>,keycode)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyUp</span><span class="params">(keycode,event)</span></span></span><br><span class="line">  <span class="comment">--keycodeï¼šé”®å€¼</span></span><br><span class="line">  <span class="comment">--eventï¼šäº‹ä»¶</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æŒ‰é”®æŠ¬èµ·&quot;</span>,keycode)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyLongPress</span><span class="params">(keycode,event)</span></span></span><br><span class="line">  <span class="comment">--keycodeï¼šé”®å€¼</span></span><br><span class="line">  <span class="comment">--eventï¼šäº‹ä»¶</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æŒ‰é”®é•¿æŒ‰&quot;</span>,keycode)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onTouchEvent</span><span class="params">(event)</span></span></span><br><span class="line">  <span class="comment">--eventï¼šäº‹ä»¶</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;è§¦æ‘¸äº‹ä»¶&quot;</span>,event)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>8ï¼ŒæŒ‰é”®ä¸è§¦æ§</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/8%EF%BC%8C%E6%8C%89%E9%94%AE%E4%B8%8E%E8%A7%A6%E6%8E%A7-2021-11-07%2020:52:58/</url>
    <content><![CDATA[<h1>8ï¼ŒæŒ‰é”®ä¸è§¦æ§</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(code,event)</span></span></span><br><span class="line">  <span class="built_in">print</span>(code event)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onTouchEvent</span><span class="params">(event)</span></span></span><br><span class="line">  <span class="built_in">print</span>(event)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">æ”¯æŒonKeyDown,onKeyUp,onKeyLongPress,onTouchEvent</span><br><span class="line">å‡½æ•°å¿…é¡»è¿”å¸ƒå°”å€¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>9ï¼Œä½¿ç”¨æ•°ç»„ä¸map</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/9%EF%BC%8C%E4%BD%BF%E7%94%A8%E6%95%B0%E7%BB%84%E4%B8%8Emap-2021-11-07%2020:53:16/</url>
    <content><![CDATA[<h1>9ï¼Œä½¿ç”¨æ•°ç»„ä¸map</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ•°ç»„</span><br><span class="line">ä½¿ç”¨ ç±»å‹&#123;åˆå§‹å†…å®¹&#125; æˆ– ç±»å‹[å¤§å°] å½¢å¼åˆ›å»ºï¼Œä½¿ç”¨ æ•°ç»„[æ•°å­—ç´¢å¼•] å½¢å¼å–å€¼å’Œèµ‹å€¼</span><br><span class="line">array=float&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">æˆ–è€…</span><br><span class="line">array=int[<span class="number">10</span>]</span><br><span class="line">a=array[<span class="number">0</span>]</span><br><span class="line">array[<span class="number">0</span>]=<span class="number">4</span></span><br><span class="line">æ³¨æ„ï¼šæ•°ç»„ä»¥<span class="number">0</span>ä¸ºç¬¬ä¸€ä¸ªç´¢å¼•</span><br><span class="line"></span><br><span class="line">map</span><br><span class="line">ä½¿ç”¨ ç±»å‹&#123;åˆå§‹å†…å®¹&#125; æˆ– ç±»å‹() å½¢å¼åˆ›å»ºï¼Œä½¿ç”¨ map[ç´¢å¼•] å½¢å¼å–å€¼å’Œèµ‹å€¼</span><br><span class="line">map=HashMap()</span><br><span class="line">map.a=<span class="number">1</span></span><br><span class="line">map[<span class="number">0</span>]=<span class="number">4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>AgentWebæ˜¯ä¸€ä¸ªé«˜åº¦å°è£…çš„WebViewæ”¯æŒåº“</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/AgentWeb%E6%98%AF%E4%B8%80%E4%B8%AA%E9%AB%98%E5%BA%A6%E5%B0%81%E8%A3%85%E7%9A%84WebView%E6%94%AF%E6%8C%81%E5%BA%93-2021-11-07%2021:04:12/</url>
    <content><![CDATA[<h1>AgentWebæ˜¯ä¸€ä¸ªé«˜åº¦å°è£…çš„WebViewæ”¯æŒåº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">AgentWebæ˜¯ä¸€ä¸ªé«˜åº¦å°è£…çš„WebViewæ”¯æŒåº“</span></span><br><span class="line"><span class="comment">https://github.com/Justson/AgentWeb</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">ALuaç¤ºä¾‹:Github@daisukiKaffuChino</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line">import <span class="string">&quot;com.just.agentweb.*&quot;</span></span><br><span class="line"></span><br><span class="line">layout=&#123;</span><br><span class="line"> LinearLayout;</span><br><span class="line"> orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line"> layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line"> layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line"> &#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  orientation=<span class="string">&quot;horizontal&quot;</span>;</span><br><span class="line">  layout_height=<span class="string">&quot;-2&quot;</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">   Button;</span><br><span class="line">   text=<span class="string">&quot;åˆ·æ–°&quot;</span>;</span><br><span class="line">   layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">   id=<span class="string">&quot;button&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;</span><br><span class="line">   Button;</span><br><span class="line">   layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">   text=<span class="string">&quot;åé€€&quot;</span>;</span><br><span class="line">   onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span>(<span class="string">&quot;åŠŸèƒ½è‡ªå·±åŠ &quot;</span>)<span class="keyword">end</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;</span><br><span class="line">   Button;</span><br><span class="line">   layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">   text=<span class="string">&quot;å‰è¿›&quot;</span>;</span><br><span class="line">   onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   <span class="keyword">end</span>;</span><br><span class="line">  &#125;;</span><br><span class="line"> &#125;;</span><br><span class="line"> &#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  id=<span class="string">&quot;web&quot;</span>;</span><br><span class="line"> &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line">mAgentWeb = AgentWeb.with(this)</span><br><span class="line">.setAgentWebParent(web, LinearLayout.LayoutParams(<span class="number">-1</span>, <span class="number">-1</span>))</span><br><span class="line">.useDefaultIndicator()</span><br><span class="line"><span class="comment">--.setWebChromeClient(mWebChromeClient) --è‡ªå®šä¹‰WebChromeClient</span></span><br><span class="line">.createAgentWeb()</span><br><span class="line">.ready()</span><br><span class="line">.go(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–webviewå¯¹è±¡   mAgentWeb.getWebCreator().getWebView()</span></span><br><span class="line"><span class="comment">--æŸ¥çœ‹cookies      AgentWebConfig.getCookiesByUrl(targetUrl)</span></span><br><span class="line"><span class="comment">--åˆ·æ–°cookies      AgentWebConfig.syncCookie(&quot;http://www.jd.com&quot;,&quot;ID=XXXX&quot;)</span></span><br><span class="line"><span class="comment">--æ¸…ç©ºç¼“å­˜        AgentWebConfig.clearDiskCache(this.getContext());</span></span><br><span class="line"></span><br><span class="line">button.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--åˆ·æ–°</span></span><br><span class="line"> mAgentWeb.getWebCreator().getWebView().reload()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç½‘é¡µåé€€</span></span><br><span class="line"><span class="keyword">if</span> mAgentWeb.back() <span class="keyword">then</span></span><br><span class="line"> mAgentWeb.getWebCreator().getWebView().goBack()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·ŸéšActivity Or Fragmentç”Ÿå‘½å‘¨æœŸï¼Œé‡Šæ”¾CPUæ›´çœç”µã€‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onPause</span><span class="params">()</span></span></span><br><span class="line"> mAgentWeb.getWebLifeCycle().onPause()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onResume</span><span class="params">()</span></span></span><br><span class="line"> mAgentWeb.getWebLifeCycle().onResume()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line"> mAgentWeb.getWebLifeCycle().onDestroy()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[JavaScript ä¸ Lua äº¤äº’</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[Luaè°ƒç”¨jsæ–¹æ³•</span></span><br><span class="line"><span class="comment">function callByAndroid()</span></span><br><span class="line"><span class="comment">  print(&quot;callByAndroid&quot;)</span></span><br><span class="line"><span class="comment">end</span></span><br><span class="line"><span class="comment">mAgentWeb.getJsAccessEntrace().quickCallJs(&quot;callByAndroid&quot;);</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å‡å¦‚è¦è‡ªå®šä¹‰WebChromeClientçš„è¯</span></span><br><span class="line">import <span class="string">&quot;com.lua.*&quot;</span></span><br><span class="line">mWebViewClient = LuaWebChrome(LuaWebChrome.IWebChrine&#123;</span><br><span class="line"> onPageStarted=<span class="function"><span class="keyword">function</span><span class="params">(view, url, favicon)</span></span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">&lt;!--å¦‚æœä½ çš„åº”ç”¨éœ€è¦ç”¨åˆ°è§†é¢‘ï¼Œé‚£ä¹ˆè¯·ä½ åœ¨ä½¿ç”¨ AgentWeb çš„ Activity å¯¹åº”çš„æ¸…å•æ–‡ä»¶é‡ŒåŠ å…¥å¦‚ä¸‹é…ç½®--&gt;</span></span><br><span class="line"><span class="comment">android:hardwareAccelerated=&quot;true&quot;</span></span><br><span class="line"><span class="comment">android:configChanges=&quot;orientation|screenSize&quot;</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"><span class="comment">--è¿”å›</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(keyCode, event)</span></span></span><br><span class="line"> <span class="keyword">if</span> (mAgentWeb.handleKeyEvent(keyCode,event))</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>FloatingActionButton</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/FloatingActionButton-2021-11-07%2021:04:59/</url>
    <content><![CDATA[<h1>FloatingActionButton</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.floatingactionbutton.FloatingActionButton&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> layout=&#123;FrameLayout,</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  &#123;FloatingActionButton,</span><br><span class="line">    id=<span class="string">&quot;image&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    layout_gravity=<span class="string">&quot;bottom|right&quot;</span>,</span><br><span class="line">    layout_margin=<span class="string">&quot;24dp&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;com.bumptech.glide.Glide&quot;</span></span><br><span class="line"><span class="comment">--imgreså¯ä»¥æ˜¯æœ¬åœ°å›¾ç‰‡åœ°å€ï¼Œæˆ–è€…ç½‘ç»œé“¾æ¥,å›¾ç‰‡æ–‡ä»¶bytes ç­‰ç­‰</span></span><br><span class="line"><span class="keyword">local</span> url=<span class="string">&quot;https://i01piccdn.sogoucdn.com/f0f06d6293c8a228&quot;</span>;</span><br><span class="line">Glide.with(activity).<span class="built_in">load</span>(url).into(image);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®ç‚¹å‡»äº‹ä»¶###</span></span><br><span class="line">image.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ç‚¹å‡»äº†FAB&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>GitHubæ°”æ³¡æ‹–åŠ¨æ¡</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/GitHub%E6%B0%94%E6%B3%A1%E6%8B%96%E5%8A%A8%E6%9D%A1-2021-11-07%2021:03:25/</url>
    <content><![CDATA[<h1>GitHubæ°”æ³¡æ‹–åŠ¨æ¡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.xw.repo.BubbleSeekBar&quot;</span></span><br><span class="line"><span class="comment">--import &quot;layout&quot;</span></span><br><span class="line">layout=&#123;</span><br><span class="line"> LinearLayout,</span><br><span class="line"> orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line"> layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line"> layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line"> gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles1&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles2&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles3&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles4&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles5&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles6&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles7&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles8&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#123;</span><br><span class="line">  BubbleSeekBar,</span><br><span class="line">  id=<span class="string">&quot;Bubbles9&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">  layout_marginTop=<span class="string">&quot;24dp&quot;</span>;</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--activity.setTitle(&#x27;AndroLua+&#x27;)</span></span><br><span class="line"><span class="comment">--activity.setTheme(android.R.style.Theme_Holo_Light)</span></span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line">Bubbles1.getConfigBuilder()</span><br><span class="line">.<span class="built_in">min</span>(<span class="number">0</span>)<span class="comment">--æœ€å°å€¼</span></span><br><span class="line">.<span class="built_in">max</span>(<span class="number">5</span>)<span class="comment">--æœ€å¤§å€¼</span></span><br><span class="line">.progress(<span class="number">2</span>)<span class="comment">--è®¾ç½®å½“å‰è¿›åº¦</span></span><br><span class="line">.sectionCount(<span class="number">5</span>)<span class="comment">--è®¾ç½®ç»˜åˆ¶å‡ ä¸ªç‚¹</span></span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)<span class="comment">--è®¾ç½®è½¨é“çš„é¢œè‰²</span></span><br><span class="line">.secondTrackColor(<span class="number">0xFF3F51B5</span>)<span class="comment">--è®¾ç½®è¿›åº¦æ¡è‰²</span></span><br><span class="line">.thumbColor(<span class="number">0xFF3F51B5</span>)<span class="comment">--è®¾ç½®æ‹–æŸ„çš„é¢œè‰²</span></span><br><span class="line">.showSectionText()<span class="comment">--æ˜¾ç¤ºéƒ¨åˆ†æ–‡å­—</span></span><br><span class="line"></span><br><span class="line">.sectionTextColor(<span class="number">0xFF9E9E9E</span>)<span class="comment">--æ‹–åŠ¨æ¡ä¸‹é¢æ–‡å­—çš„é»˜è®¤é¢œè‰²</span></span><br><span class="line">.sectionTextSize(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">.showThumbText()<span class="comment">--è®¾ç½®çªå‡ºæ˜¾ç¤ºä¸‹æ–¹æ–‡å­—</span></span><br><span class="line">.thumbTextColor(<span class="number">0xFF616161</span>)<span class="comment">--çªå‡ºæ˜¾ç¤ºå­—ä½“çš„é¢œè‰²</span></span><br><span class="line">.thumbTextSize(<span class="number">18</span>)<span class="comment">--çªå‡ºæ˜¾ç¤ºæ–‡å­—å¤§å°</span></span><br><span class="line"></span><br><span class="line">.bubbleColor(<span class="number">0xFF3F51B5</span>)<span class="comment">--æ°”æ³¡çš„é¢œè‰²</span></span><br><span class="line">.bubbleTextSize(<span class="number">18</span>)<span class="comment">--æ°”æ³¡çš„å­—ä½“å¤§å°</span></span><br><span class="line"></span><br><span class="line">.showSectionMark()<span class="comment">--æ˜¾ç¤ºæ ‡è®°</span></span><br><span class="line">.seekStepSection()<span class="comment">--è®¾ç½®æ»‘å—åªç§»åŠ¨åˆ°æ¯ä¸ªç‚¹ä¸Šï¼Œä¸ç»è¿‡è·¯å¾„</span></span><br><span class="line">.touchToSeek()<span class="comment">--è®¾ç½®ä»è§¦æ‘¸ä½ç½®å¼€å§‹å¦åˆ™å°†å¿…é¡»ç‚¹å‡»æ‹–å—æ‹–åŠ¨</span></span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)<span class="comment">--è®¾ç½®æ ‡è®°ä¸‹æ–¹æ–‡å­—æ˜¾ç¤ºæ–¹å¼</span></span><br><span class="line">.build();<span class="comment">--åˆ›å»º</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles2.getConfigBuilder()</span><br><span class="line">.<span class="built_in">min</span>(<span class="number">0</span>)</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">5</span>)</span><br><span class="line">.progress(<span class="number">2</span>)</span><br><span class="line">.sectionCount(<span class="number">5</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFFFF5722</span>)</span><br><span class="line">.thumbColor(<span class="number">0xFFFF5722</span>)</span><br><span class="line">.showSectionText()</span><br><span class="line">.sectionTextColor(<span class="number">0xFF9E9E9E</span>)</span><br><span class="line">.sectionTextSize(<span class="number">18</span>)</span><br><span class="line">.showThumbText()</span><br><span class="line">.touchToSeek()</span><br><span class="line">.thumbTextColor(<span class="number">0xFF616161</span>)</span><br><span class="line">.thumbTextSize(<span class="number">18</span>)</span><br><span class="line">.bubbleColor(<span class="number">0xFFFF5722</span>)</span><br><span class="line">.bubbleTextSize(<span class="number">18</span>)</span><br><span class="line">.showSectionMark()<span class="comment">--æ˜¾ç¤ºæ ‡è®°</span></span><br><span class="line">.seekBySection()</span><br><span class="line">.autoAdjustSectionMark()<span class="comment">--è‡ªåŠ¨å¯»æ‰¾æ ‡è®°</span></span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles3.getConfigBuilder()</span><br><span class="line">.<span class="built_in">min</span>(<span class="number">-50</span>)</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">50</span>)</span><br><span class="line">.sectionCount(<span class="number">10</span>)</span><br><span class="line">.sectionTextInterval(<span class="number">2</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFF673AB7</span>)</span><br><span class="line">.seekBySection()</span><br><span class="line">.showSectionText()</span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles4.getConfigBuilder()</span><br><span class="line">.<span class="built_in">min</span>(<span class="number">1</span>)</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">1.5</span>)</span><br><span class="line">.floatType()</span><br><span class="line">.sectionCount(<span class="number">10</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFFFFC107</span>)</span><br><span class="line">.showSectionText()</span><br><span class="line">.showThumbText()<span class="comment">--åœ¨æ‹–æŸ„åœæ­¢æ»‘åŠ¨æ—¶åœ¨ä¸‹æ–¹æ˜¾ç¤ºä¸€ä¸ªå€¼</span></span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles5.getConfigBuilder()</span><br><span class="line">.<span class="built_in">min</span>(<span class="number">-0.4</span>)</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">0.4</span>)</span><br><span class="line">.progress(<span class="number">0</span>)</span><br><span class="line">.floatType()</span><br><span class="line">.sectionCount(<span class="number">10</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFF4CAF50</span>)</span><br><span class="line">.sectionTextInterval(<span class="number">2</span>)</span><br><span class="line">.showSectionText()</span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)</span><br><span class="line">.autoAdjustSectionMark()</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles6.getConfigBuilder()</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFF00BCD4</span>)</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles7.getConfigBuilder()</span><br><span class="line">.<span class="built_in">min</span>(<span class="number">1</span>)</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">90</span>)</span><br><span class="line">.progress(<span class="number">0</span>)</span><br><span class="line">.sectionCount(<span class="number">9</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFF4CAF50</span>)</span><br><span class="line">.sectionTextInterval(<span class="number">2</span>)</span><br><span class="line">.showSectionText()</span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)</span><br><span class="line">.autoAdjustSectionMark()</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line">Bubbles7.setCustomSectionTextArray(&#123;</span><br><span class="line"> onCustomize=<span class="function"><span class="keyword">function</span><span class="params">( sectionCount, array)</span></span></span><br><span class="line">  array.clear();<span class="comment">--è®¾ç½®åœ¨é‚£ä¸ªç‚¹ä¸‹é¢æ˜¾ç¤ºå“ªä¸ªæ–‡å­—</span></span><br><span class="line">  array.put(<span class="number">1</span>, <span class="string">&quot;bad&quot;</span>);</span><br><span class="line">  array.put(<span class="number">4</span>, <span class="string">&quot;ok&quot;</span>);</span><br><span class="line">  array.put(<span class="number">7</span>, <span class="string">&quot;good&quot;</span>);</span><br><span class="line">  array.put(<span class="number">9</span>, <span class="string">&quot;great&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> array;</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">--ç›‘å¬å›è°ƒ</span></span><br><span class="line">Bubbles7.setOnProgressChangedListener(&#123;</span><br><span class="line"> onProgressChanged=<span class="function"><span class="keyword">function</span><span class="params">( bubbleSeekBar, progress, progressFloat, fromUser)</span></span></span><br><span class="line">  <span class="keyword">if</span> progress &lt;= <span class="number">10</span></span><br><span class="line">   color = <span class="number">0xFFF44336</span></span><br><span class="line">   <span class="keyword">elseif</span> progress &lt;= <span class="number">40</span></span><br><span class="line">   color = <span class="number">0xFFE57373</span></span><br><span class="line">   <span class="keyword">elseif</span> progress &lt;= <span class="number">70</span></span><br><span class="line">   color = <span class="number">0xFF9C27B0</span></span><br><span class="line">   <span class="keyword">elseif</span> progress &lt;= <span class="number">90</span></span><br><span class="line">   color = <span class="number">0xFF00BCD4</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   color = <span class="number">0xFF4CAF50</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  bubbleSeekBar.setSecondTrackColor(color);</span><br><span class="line">  bubbleSeekBar.setThumbColor(color);</span><br><span class="line">  bubbleSeekBar.setBubbleColor(color);</span><br><span class="line"> <span class="keyword">end</span>&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles8.getConfigBuilder()</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">10</span>)</span><br><span class="line">.progress(<span class="number">0</span>)</span><br><span class="line">.sectionCount(<span class="number">10</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFF4CAF50</span>)</span><br><span class="line">.showSectionText()</span><br><span class="line">.showSectionMark()<span class="comment">--æ˜¾ç¤ºæ ‡è®°</span></span><br><span class="line">.showThumbText()</span><br><span class="line">.rtl(<span class="literal">true</span>)<span class="comment">--ä»å³ä¾§æ˜¾ç¤º</span></span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)</span><br><span class="line">.autoAdjustSectionMark()</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Bubbles9.getConfigBuilder()</span><br><span class="line">.<span class="built_in">max</span>(<span class="number">3</span>)</span><br><span class="line">.progress(<span class="number">0</span>)</span><br><span class="line">.sectionCount(<span class="number">3</span>)</span><br><span class="line">.trackColor(<span class="number">0xFF757575</span>)</span><br><span class="line">.secondTrackColor(<span class="number">0xFF4CAF50</span>)</span><br><span class="line">.hideBubble()<span class="comment">--å…³é—­æ°”æ³¡</span></span><br><span class="line">.sectionTextPosition(BubbleSeekBar.TextPosition.BELOW_SECTION_MARK)</span><br><span class="line">.autoAdjustSectionMark()</span><br><span class="line">.build();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>GlideåŠ è½½å›¾ç‰‡</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/Glide%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87-2021-11-07%2021:03:02/</url>
    <content><![CDATA[<h1>GlideåŠ è½½å›¾ç‰‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ–°ç‰ˆæ”¯æŒäº†Googleæ¨èçš„Glideå›¾ç‰‡åŠ è½½æ¡†æ¶ï¼Œè¯·æ‚¨ä½¿ç”¨è¯¥æ¡†æ¶ï¼Œä¸ºæ‚¨çš„é¡¹ç›®æ›´é«˜æ•ˆè½»å¿«çš„åŠ è½½å›¾ç‰‡ï¼Œåªéœ€ä¸€å¥ä»£ç ï¼Œå…¨ç¨‹æŒæ§å›¾ç‰‡å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‚¨æ— éœ€æ‹…å¿ƒä»»ä½•å†…å­˜æ³„æ¼ä¸åŠ è½½é€Ÿåº¦çš„é—®é¢˜ã€‚</span><br><span class="line"><span class="comment">--ä»£ç ç¤ºä¾‹</span></span><br><span class="line">import <span class="string">&quot;com.bumptech.glide.Glide&quot;</span>;</span><br><span class="line"><span class="keyword">local</span> gifUrl = <span class="string">&quot;https://c-ssl.duitang.com/uploads/item/201908/11/20190811020557_oqhbv.gif&quot;</span>;</span><br><span class="line">Glide.with(this).<span class="built_in">load</span>( gifUrl ).into(ImageViewæ§ä»¶id);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>LuaRecyclerAdapterã€RecyclerView</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/LuaRecyclerAdapter%E3%80%81RecyclerView-2021-11-07%2022:15:34/</url>
    <content><![CDATA[<h1>LuaRecyclerAdapterã€RecyclerView</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--activity.setTitle(&#x27;AndroLua+&#x27;)</span></span><br><span class="line"><span class="comment">--activity.setTheme(android.R.style.Theme_Holo_Light)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;androidx.recyclerview.widget.RecyclerView&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">import <span class="string">&quot;androidx.recyclerview.widget.RecyclerView&quot;</span></span><br><span class="line">import <span class="string">&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;com.dingyi.adapter.LuaRecyclerAdapter&quot;</span></span><br><span class="line">import <span class="string">&quot;androidx.recyclerview.widget.StaggeredGridLayoutManager&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä»¥ä¸‹åˆ—è¡¨è§†å›¾éœ€å¯¼å…¥å¯¹åº”åŒ…æ‰èƒ½æ­£å¸¸ä½¿ç”¨</span></span><br><span class="line"><span class="comment">--import &quot;androidx.recyclerview.widget.RecyclerView&quot;</span></span><br><span class="line"><span class="comment">--import &quot;androidx.recyclerview.widget.LinearLayoutManager&quot;</span></span><br><span class="line"><span class="comment">--import &quot;androidx.recyclerview.widget.GridLayoutManager&quot;</span></span><br><span class="line"><span class="comment">--import &quot;androidx.recyclerview.widget.StaggeredGridLayoutManager&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®å¸ƒå±€ç®¡ç†å™¨</span></span><br><span class="line"><span class="comment">--recycler_view.layoutManager=LinearLayoutManager(activity)</span></span><br><span class="line"><span class="comment">--recycler_view.layoutManager.setOrientation(1)--0æ˜¯æ¨ªå‘ï¼Œ1æ˜¯ç«–å‘</span></span><br><span class="line"><span class="comment">--æ­£å¸¸åˆ—è¡¨è§†å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--recycler_view.layoutManager=GridLayoutManager(activity,3)--3ä¸ºç½‘æ ¼è¡Œæ•°</span></span><br><span class="line"><span class="comment">--recycler_view.layoutManager.setOrientation(1)--0æ˜¯æ¨ªå‘ï¼Œ1æ˜¯ç«–å‘</span></span><br><span class="line"><span class="comment">--ç½‘æ ¼åˆ—è¡¨è§†å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--recycler_view.layoutManager=StaggeredGridLayoutManager(3,StaggeredGridLayoutManager.HORIZONTAL)--3ä¸ºç½‘æ ¼è¡Œæ•°,å¯æ¢HORIZONTAL</span></span><br><span class="line"><span class="comment">--ç€‘å¸ƒæµåˆ—è¡¨è§†å›¾</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ•ˆæœè¯·è‡ªè¡Œå°è¯•æˆ–ç™¾åº¦</span></span><br><span class="line"><span class="comment">--è¯·é…åˆæ­£ç¡®çš„å¯¼å…¥åŒ…æ–¹å¼ï¼Œå¯æŸ¥çœ‹ç¾¤å†…çš„Recyclerviewä¾‹å­å¤åˆ¶å¯¼åŒ…</span></span><br><span class="line">layout2=&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">  background=<span class="string">&quot;#f5f5f5&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    RecyclerView,</span><br><span class="line">    id=<span class="string">&quot;recycler_view&quot;</span>,</span><br><span class="line">    layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">    padding=<span class="string">&quot;10dp&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(layout2))</span><br><span class="line"><span class="comment">--éœ€è¦ideå¸¦æœ‰ RecyclerView å“¦</span></span><br><span class="line"><span class="comment">--æœ¬LuaRecyclerAdapterå’ŒLuaAdapterå·®ä¸å¤šä¸€æ · ä¸»è¦æ˜¯æ”¯æŒ setImageLoader å»æ‰©å±•æ”¯æŒæ›´å¤šå›¾ç‰‡åŠ è½½é€”å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">mget</span><span class="params">(...)</span></span></span><br><span class="line">  Http.get(...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">é¡µæ•°=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">ç‚¹å‡»é“¾æ¥=&#123;&#125;</span><br><span class="line"><span class="comment">--list.setA</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ·æ–°<span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">local</span> url=<span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> a==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">    url=<span class="string">&#x27;https://m.yeitu.com/meinv/rentiyishu/&#x27;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    url=<span class="string">&#x27;https://m.yeitu.com/meinv/rentiyishu/&#x27;</span>..a</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  mget(url,<span class="function"><span class="keyword">function</span><span class="params">(code,body)</span></span></span><br><span class="line">    body=body:<span class="built_in">match</span>(<span class="string">&#x27;&lt;div class%=&quot;news%-list&quot;&gt;(.-)&lt;/ul&gt;&#x27;</span>)</span><br><span class="line">    <span class="keyword">for</span> a,b,k,v <span class="keyword">in</span> body:<span class="built_in">gmatch</span>(<span class="string">&#x27;&lt;a href%=&quot;(.-)&quot; class%=&quot;&quot;&gt;(.-)src%=&quot;(.-)&quot; alt=&quot;(.-)&quot;&#x27;</span>) <span class="keyword">do</span></span><br><span class="line">      recycler_view.getAdapter().add&#123;img=&#123;src=<span class="string">&quot;https://www.dmoe.cc/random.php&quot;</span>&#125;,text1=v&#125;</span><br><span class="line">     ç‚¹å‡»é“¾æ¥[v]=a</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    recycler_view.getAdapter().notifyDataSetChanged()</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"> é¡µæ•°=é¡µæ•°+<span class="number">1</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®å¸ƒå±€ç®¡ç†å™¨</span></span><br><span class="line">recycler_view.layoutManager=StaggeredGridLayoutManager(<span class="number">2</span>,StaggeredGridLayoutManager.VERTICAL)<span class="comment">--3ä¸ºç½‘æ ¼è¡Œæ•°,å¯æ¢HORIZONTAL</span></span><br><span class="line"><span class="comment">--è®¾ç½®é€‚é…å™¨</span></span><br><span class="line">recycler_view.adapter=LuaRecyclerAdapter(this,&#123;</span><br><span class="line">  LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&quot;45%w&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  &#123;</span><br><span class="line">    CardView,<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">    layout_margin=<span class="string">&quot;8dp&quot;</span>,<span class="comment">--å¸ƒå±€è¾¹è·</span></span><br><span class="line">    cardElevation=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¡ç‰‡æå‡</span></span><br><span class="line">    layout_width=<span class="string">&quot;40%w&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">    cardBackgroundColor=<span class="string">&quot;#ffffff&quot;</span>,<span class="comment">--å¡ç‰‡èƒŒæ™¯è‰²</span></span><br><span class="line">    radius=<span class="string">&quot;10dp&quot;</span>,<span class="comment">--åœ†è§’åŠå¾„</span></span><br><span class="line">   </span><br><span class="line">    &#123;</span><br><span class="line">      ImageView,<span class="comment">--å›¾ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">      layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">      scaleType=<span class="string">&quot;fitXY&quot;</span>,<span class="comment">--å›¾ç‰‡æ˜¾ç¤ºç±»å‹ï¼šcenterCrop   </span></span><br><span class="line">      id=<span class="string">&quot;img&quot;</span>,</span><br><span class="line">      <span class="comment">--colorFilter=&quot;#333333&quot;,--å›¾ç‰‡é¢œè‰²</span></span><br><span class="line">    &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">      TextView,<span class="comment">--æ–‡æœ¬æ¡†æ§ä»¶</span></span><br><span class="line">      text=<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">      textSize=<span class="string">&quot;15sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">      layout_gravity=<span class="string">&quot;bottom|center&quot;</span>,<span class="comment">--é‡åŠ›å±…åº•ï½œç½®ä¸­</span></span><br><span class="line">      gravity=<span class="string">&quot;bottom|center&quot;</span>,<span class="comment">--é‡åŠ›å±…åº•ï½œç½®ä¸­</span></span><br><span class="line">      textColor=<span class="string">&quot;#ffffffff&quot;</span>,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">      background=<span class="string">&quot;#55000000&quot;</span>,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">      id=<span class="string">&#x27;text1&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶ ç»“æŸ</span></span><br><span class="line"></span><br><span class="line">recycler_view.adapter.setImageLoader &#123;</span><br><span class="line">  loadImage=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line">      <span class="comment">--[===[import &quot;com.bumptech.glide.Glide&quot;</span></span><br><span class="line"><span class="comment">      Glide.with(activity).load(url).thumbnail(0.2).into(view);</span></span><br><span class="line"><span class="comment">   ]===]</span><span class="comment">--GlideåŠ è½½å›¾ç‰‡</span></span><br><span class="line">    <span class="comment">--viewä¸ºå›¾ç‰‡æ§ä»¶ urlä¸ºå®é™…åŠ è½½url å¯èƒ½ä¼šæ˜¯æœ¬åœ°ä½ è‡ªå·±å»æ…¢æ…¢å¤„ç†å§</span></span><br><span class="line">    task(<span class="string">[[require &quot;import&quot; url=... return loadbitmap(url)]]</span>, url, <span class="function"><span class="keyword">function</span><span class="params">(bmp)</span></span></span><br><span class="line">        view.setImageBitmap(bmp)</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;<span class="comment">--é»˜è®¤çš„åŠ è½½å›¾ç‰‡æ¥å£ å¿…é¡»åŠ ä¸Š ä¸ç„¶æ²¡æ³•åŠ è½½å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line">åˆ·æ–°(é¡µæ•°)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>LuaWebView-Jsäº¤äº’lua</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/LuaWebView-Js%E4%BA%A4%E4%BA%92lua-2021-11-07%2022:15:54/</url>
    <content><![CDATA[<h1>LuaWebView-Jsäº¤äº’lua</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.webkit.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.androlua.*&quot;</span></span><br><span class="line"><span class="comment">--require &quot;layout&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua+&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line"><span class="comment">--activity.setContentView(loadlayout(layout.main))</span></span><br><span class="line"></span><br><span class="line">layout=LinearLayout(activity)</span><br><span class="line">activity.setContentView(layout)</span><br><span class="line"></span><br><span class="line">web=LuaWebView(activity)</span><br><span class="line">web.getSettings().setDefaultTextEncodingName(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">web.getSettings().setJavaScriptEnabled(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">jjs=&#123;</span><br><span class="line"> aa=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  <span class="built_in">print</span> (<span class="string">&quot;aa&quot;</span>..v)</span><br><span class="line"> <span class="keyword">end</span>,</span><br><span class="line"> bb=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;bb&quot;</span></span><br><span class="line"> <span class="keyword">end</span>,</span><br><span class="line"> cc=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  web.loadUrl(<span class="string">&quot;javascript:showaa(&#x27;123&#x27;)&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span><span class="string">&quot;cc&quot;</span></span><br><span class="line"> <span class="keyword">end</span>,</span><br><span class="line"> dd=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  web.loadUrl(<span class="string">&quot;javascript:showbb(&#x27;456&#x27;)&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span><span class="string">&quot;dd&quot;</span></span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">web.addJSInterface(&#123;</span><br><span class="line"> <span class="built_in">execute</span>=<span class="function"><span class="keyword">function</span><span class="params">(s)</span></span></span><br><span class="line">  <span class="keyword">if</span> s == <span class="string">&quot;é€€å‡ºé¡µé¢&quot;</span> <span class="keyword">then</span></span><br><span class="line">   <span class="comment">-- activity.finish()</span></span><br><span class="line">   AlertDialog.Builder(this)</span><br><span class="line">   .setTitle(<span class="string">&quot;æ ‡é¢˜&quot;</span>)</span><br><span class="line">   .setMessage(<span class="string">&quot;æ¶ˆæ¯&quot;</span>)</span><br><span class="line">   .setPositiveButton(<span class="string">&quot;ç§¯æ&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span> <span class="built_in">print</span><span class="string">&quot;ç‚¹å‡»äº†ç§¯ææŒ‰é’®&quot;</span><span class="keyword">end</span>&#125;)</span><br><span class="line">   .setNeutralButton(<span class="string">&quot;ä¸­ç«‹&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">   .setNegativeButton(<span class="string">&quot;å¦è®¤&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">   .show()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> s</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">&#125;, <span class="string">&quot;lua&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[js=&#123;</span></span><br><span class="line"><span class="comment">execute=function(s)</span></span><br><span class="line"><span class="comment">  print(s)</span></span><br><span class="line"><span class="comment">  return s</span></span><br><span class="line"><span class="comment">  end&#125;]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--web.addJSInterface(js,&quot;lua&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--web.addJSInterface(js,&quot;androlua&quot;)</span></span><br><span class="line">web.loadUrl(<span class="string">&quot;file://&quot;</span>..activity.getLuaDir()..<span class="string">&quot;/res/å®˜ç½‘.html&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout.addView(web)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ç‚¹å‡»iconå›¾ç‰‡æµ‹è¯•</span></span><br><span class="line"><span class="comment">--htmléƒ¨åˆ†çš„ä»£ç </span></span><br><span class="line"><span class="comment">--[[&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">function aa()&#123;</span></span><br><span class="line"><span class="comment">    var str = androlua.aa(&quot;cccc&quot;);</span></span><br><span class="line"><span class="comment">    alert(str);</span></span><br><span class="line"><span class="comment">  &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">  function aaa()&#123;</span></span><br><span class="line"><span class="comment">      var str = lua.execute(&quot;é€€å‡ºé¡µé¢&quot;);</span></span><br><span class="line"><span class="comment">     </span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    function bbb()&#123;</span></span><br><span class="line"><span class="comment">        var str = window.androlua.jss().bb();</span></span><br><span class="line"><span class="comment">        alert(&quot;ddddd&quot;);</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">      function ccc()&#123;</span></span><br><span class="line"><span class="comment">          var str = window.androlua.dd();</span></span><br><span class="line"><span class="comment">          alert(str);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        function showaa(aaa)&#123;</span></span><br><span class="line"><span class="comment">            document.getElementById(&quot;id_input&quot;).value = &quot;Javaè°ƒç”¨Html:&quot;+aaa;</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">          function showbb( param )&#123;</span></span><br><span class="line"><span class="comment">              document.getElementById(&quot;id_input2&quot;).value = &quot;Javaè°ƒç”¨Html : &quot; + param;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            &lt;/script&gt;]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>LuaWebViewæ¼æ´å­˜åœ¨</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/LuaWebView%E6%BC%8F%E6%B4%9E%E5%AD%98%E5%9C%A8-2021-11-07%2021:03:50/</url>
    <content><![CDATA[<h1>LuaWebViewæ¼æ´å­˜åœ¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ¼æ´åŸç†:</span><br><span class="line">æ­¤æ¼æ´ç±»ä¼¼äº <span class="number">2013</span> å¹´æ›å‡ºçš„ WebView æ¼æ´ï¼Œäº Android <span class="number">4.2</span> ä¿®å¤</span><br><span class="line">ï¼ˆhttps://security.tencent.com/lucky/check_tools.htmlï¼‰ã€‚</span><br><span class="line"></span><br><span class="line">AndroLua+ï¼ŒFusion App1<span class="number">.3</span>æ—§ç‰ˆæœ¬ ä½¿ç”¨çš„ LuaWebView åˆ©ç”¨ WebView çš„ addJavascriptInterface æ–¹æ³•ç»™ç½‘é¡µæä¾›äº†è°ƒç”¨ Lua å‡½æ•°çš„æ¥å£ï¼Œåç§°ä¸º JsInterface ï¼Œå†…éƒ¨æœ‰ callLuaFunction æ–¹æ³•ï¼Œç”¨å®ƒå¯ä»¥è°ƒç”¨ä»»æ„ Lua å‡½æ•°ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">--æœ‰å¯èƒ½è¢«ä½¿ç”¨faæ—§ç‰ˆæœ¬ï¼ŒAndrolua+çš„åŒè¡Œåšæ¶æå·¥ç¨‹ï¼Œè¿è¡Œå‰è¯·çœ‹ä»£ç </span></span><br><span class="line"> </span><br><span class="line">åˆ©ç”¨æ–¹æ³•:</span><br><span class="line">åœ¨ HTML ç½‘é¡µä¸­æ’å…¥ JavaScript è„šæœ¬ä»¤å®¢æˆ·ç«¯è¿è¡Œæ¥è°ƒç”¨æ­¤æ¥å£ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ä»£ç :</span><br><span class="line">æœ€ç®€å•çš„ï¼Œè°ƒç”¨FAçš„â€œé€€å‡ºç¨‹åºâ€å‡½æ•°ï¼Œç›´æ¥é€€å‡ºåº”ç”¨ï¼šJsInterface.callLuaFunction(<span class="string">&quot;é€€å‡ºç¨‹åº&quot;</span>);</span><br><span class="line"></span><br><span class="line">å…¶å®ƒï¼š</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">JsInterface.callLuaFunction(<span class="string">&quot;require&quot;</span>,<span class="string">&quot;import&quot;</span>);</span><br><span class="line"><span class="comment">--å¯¼å…¥AndroLuaçš„importæ¨¡å—,æ–¹ä¾¿è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œ</span></span><br><span class="line"></span><br><span class="line">JsInterface.callLuaFunction(<span class="string">&quot;task&quot;</span>,<span class="string">&quot;os.remove(activity.getLuaDir()..&quot;</span>/main.lua<span class="string">&quot;)&quot;</span>);</span><br><span class="line"><span class="comment">--è°ƒç”¨taskå‡½æ•°,æ‰§è¡Œä»»æ„ä»£ç ï¼ˆç¤ºä¾‹ä¸ºåˆ é™¤è¿è¡Œç›®å½•ä¸‹çš„main.luaæ–‡ä»¶ï¼Œä½¿ç¨‹åºæ— æ³•æ­£å¸¸è¿è¡Œï¼‰</span></span><br><span class="line"></span><br><span class="line">JsInterface.callLuaFunction(<span class="string">&quot;task&quot;</span>,<span class="string">&quot;os.exit()&quot;</span>)<span class="string">&quot;);</span></span><br><span class="line"><span class="string">--åŒä¸Šï¼ˆä½†å†…å®¹ä¸ºé€€å‡ºç¨‹åºï¼‰</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">æ£€æŸ¥æ¼æ´:</span></span><br><span class="line"><span class="string">åŠ è½½æ­¤Jsä»¥æ£€æŸ¥æ¼æ´: </span></span><br><span class="line"><span class="string">alert(&quot;</span>æ¼æ´å¯èƒ½<span class="string">&quot;+(window[&quot;</span>JsInterface<span class="string">&quot;]&amp;&amp;window[&quot;</span>JsInterface<span class="string">&quot;][&quot;</span>callLuaFunction<span class="string">&quot;]?&quot;</span>å­˜åœ¨<span class="string">&quot;:&quot;</span>ä¸å­˜åœ¨<span class="string">&quot;))</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å½“ç„¶ï¼Œä¸å¦‚ç›´æ¥è¯•ä¸‹æ”»å‡»: javascript:JsInterface.callLuaFunction(&quot;</span><span class="built_in">print</span><span class="string">&quot;,&quot;</span>æ¼æ´å­˜åœ¨<span class="string">&quot;)ï¼Œå¦‚æœæ²¡æœ‰çœ‹åˆ°ä»»ä½•æ¶ˆæ¯ï¼Œå°±è¯´æ˜å¯èƒ½ä¸å­˜åœ¨è¿™ä¸ªæ¼æ´</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ä¸ºä»€ä¹ˆæ˜¯å¯èƒ½è€Œä¸æ˜¯è‚¯å®šï¼Ÿå› ä¸ºæ¼æ´å¯èƒ½å­˜åœ¨äºå…¶å®ƒåç§°çš„æ¥å£ä¸­...æ²¡æœ‰è¿›è¡Œæ‰«æ</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">å±å®³:</span></span><br><span class="line"><span class="string">Fusion App èƒ½åšçš„ï¼Œç½‘é¡µéƒ½èƒ½åšï¼ŒåŒ…æ‹¬ï¼šåˆ é™¤æ‰€æœ‰æ–‡ä»¶ã€çªƒå–è®¾å¤‡æ–‡ä»¶ã€è·å–å…¶å®ƒç½‘ç«™çš„CookieåŠä¿®æ”¹æ­£å¸¸ä»£ç ä½¿ä¹‹ä¸æŒ‰å¼€å‘è€…æ„æ„¿è¿è¡Œï¼ˆå¦‚ï¼šæ‹¦æˆªåº”ç”¨çš„â€œç™»å½•â€åŠŸèƒ½ï¼Œå‘é€å¯†ç åˆ°æ”»å‡»è€…ï¼‰ç­‰ç­‰</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--åŸæ–‡é“¾æ¥:å£¹å½±åšå®¢  https://bk.yyge.net/?post=113</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--ä¿®å¤LuaWebViewæ¼æ´ï¼Œdingyiå¤§ä½¬åˆ†äº«çš„ï¼Œ</span></span><br><span class="line"><span class="string">æµè§ˆå™¨id.addJsInterface(&#123;</span></span><br><span class="line"><span class="string">  execute=function()end</span></span><br><span class="line"><span class="string">&#125;,&quot;</span>androlua<span class="string">&quot;)</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>Luaè§£æMarkdown</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/Lua%E8%A7%A3%E6%9E%90Markdown-2021-11-07%2022:15:06/</url>
    <content><![CDATA[<h1>Luaè§£æMarkdown</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    LuaWebView;</span><br><span class="line">    id=<span class="string">&quot;WebView&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">activity.setTheme(R.Theme_Blue)</span><br><span class="line">activity.setTitle(<span class="string">&quot;Luaè§£æMarkdown&quot;</span>)</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line">md=<span class="built_in">require</span> <span class="string">&quot;md&quot;</span></span><br><span class="line">data=md<span class="string">[[```</span></span><br><span class="line"><span class="string">    function fun()&#123;</span></span><br><span class="line"><span class="string">         echo &quot;è¿™æ˜¯ä¸€å¥éå¸¸ç‰›é€¼çš„ä»£ç &quot;;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    fun();</span></span><br></pre></td></tr></table></figure>
<h1>Markdown</h1>
<hr>
<h1>Header 1</h1>
<h2 id="Header-2">Header 2</h2>
<h3 id="Header-3">Header 3</h3>
<h4 id="Header-4">Header 4</h4>
<h2 id="Paragraph">Paragraph</h2>
<p>Paragraph <strong>bold</strong> <em>italic</em> <code>code</code>.</p>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do<br>
eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad<br>
minim veniam, quis nostrud exercitation ullamco laboris nisi ut<br>
aliquip ex ea commodo consequat.</p>
<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum<br>
dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non<br>
proident, sunt in culpa qui officia deserunt mollit anim id est<br>
laborum.</p>
<h2 id="Quote">Quote</h2>
<blockquote>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do<br>
eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad<br>
minim veniam, quis nostrud exercitation ullamco laboris nisi ut<br>
aliquip ex ea commodo consequat.</p>
</blockquote>
<blockquote>
<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum<br>
dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non<br>
proident, sunt in culpa qui officia deserunt mollit anim id est<br>
laborum.</p>
</blockquote>
<h2 id="List">List</h2>
<ul>
<li>Item</li>
<li>Item
<ul>
<li>subitem</li>
<li>subitem</li>
</ul>
</li>
<li>Item
<ol>
<li>One item</li>
<li>Two items</li>
</ol>
</li>
<li>Item</li>
</ul>
<h2 id="Ordered-list">Ordered list</h2>
<ol>
<li>One item</li>
<li>Two items</li>
</ol>
<h2 id="Link">Link</h2>
<p><a href="https://k.weidian.com/jXRHGlpv">MarkdownView</a></p>
<h2 id="Image">Image</h2>
<p><img src="cat.jpg" alt="cat"></p>
<h2 id="Code">Code</h2>
<pre><code>proc wobble()
&#123;
    return false;
&#125;
</code></pre>
<p>]]<br>
WebView.loadDataWithBaseURL(â€œâ€,data,â€œtext/htmlâ€,â€œutf-8â€,nil)</p>
<pre><code>


</code></pre>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>MaterialCardView</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/MaterialCardView-2021-11-07%2022:14:20/</url>
    <content><![CDATA[<h1>MaterialCardView</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.textfield.*&quot;</span></span><br><span class="line">import <span class="string">&quot;androidx.appcompat.widget.Toolbar&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.button.MaterialButton&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.appbar.AppBarLayout&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.card.MaterialCardView&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> view_table=</span><br><span class="line">&#123;LinearLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">  orientation=<span class="number">1</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    AppBarLayout,</span><br><span class="line">    layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      Toolbar,</span><br><span class="line">      layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">      <span class="comment">--subTitle=&quot;&quot;,</span></span><br><span class="line">      title=<span class="string">&quot;MaterialCardView&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;MaterialCardView,</span><br><span class="line">    id=<span class="string">&quot;cardview&quot;</span>,<span class="comment">--è®¾ç½®ID</span></span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    layout_margin=<span class="string">&quot;24dp&quot;</span>,</span><br><span class="line">    <span class="comment">--strokeWidth=&quot;2dp&quot;, --è¾¹æ¡†å®½åº¦</span></span><br><span class="line">    <span class="comment">--strokeColor=&quot;#03DAC5&quot;, --è¾¹æ¡†é¢œè‰²</span></span><br><span class="line">    cardBackgroundColor=<span class="string">&quot;#ffffff&quot;</span>,<span class="comment">--å¡ç‰‡èƒŒæ™¯è‰²</span></span><br><span class="line">    cardElevation=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¡ç‰‡é˜´å½±å¼ºåº¦</span></span><br><span class="line">    radius=<span class="string">&quot;4dp&quot;</span>,<span class="comment">--å¡ç‰‡åœ†è§’å¹…åº¦    </span></span><br><span class="line">    &#123;LinearLayout,</span><br><span class="line">      layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">      layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">      orientation=<span class="number">1</span>,</span><br><span class="line">      padding=<span class="string">&quot;24dp&quot;</span>,</span><br><span class="line">      &#123;TextView,</span><br><span class="line">        id=<span class="string">&quot;title&quot;</span>,</span><br><span class="line">        textSize=<span class="string">&quot;18sp&quot;</span>,</span><br><span class="line">        text=<span class="string">&quot;ä»€ä¹ˆæ˜¯MaterialCardViewï¼Ÿ&quot;</span>,</span><br><span class="line">        textColor=<span class="string">&quot;#000000&quot;</span>,</span><br><span class="line">        textStyle=<span class="string">&quot;bold&quot;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;TextView,</span><br><span class="line">        id=<span class="string">&quot;message&quot;</span>,</span><br><span class="line">        textSize=<span class="string">&quot;16sp&quot;</span>,</span><br><span class="line">        text=<span class="string">&quot;MaterialCardView æ˜¯ CardView çš„æ‹“å±•ï¼Œå®ƒç»§æ‰¿ä¸ CardViewï¼Œæ‰€ä»¥ CardView å…·å¤‡çš„å®ƒéƒ½å…·å¤‡ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜åœ¨ CardView çš„åŸºç¡€ä¸Šå¢åŠ äº†å¯ä»¥ç»˜åˆ¶è¾¹æ¡†è¿™ä¸€ç‰¹æ€§ï¼Œåˆ†åˆ«ä¸º strokeColor å’Œ strokeWidth è¿™ä¸¤ä¸ªå±æ€§&quot;</span>,</span><br><span class="line">        layout_marginTop=<span class="string">&quot;8dp&quot;</span>,</span><br><span class="line">        textColor=<span class="string">&quot;#444444&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    MaterialButton,</span><br><span class="line">    id=<span class="string">&quot;button&quot;</span>,</span><br><span class="line">    text=<span class="string">&quot;è®¾ç½®è¾¹æ¡†&quot;</span>,</span><br><span class="line">    layout_gravity=<span class="string">&quot;right&quot;</span>,</span><br><span class="line">    layout_marginRight=<span class="string">&quot;24dp&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(view_table))</span><br><span class="line">activity.window.statusBarColor=Color.parseColor(<span class="string">&quot;#03DAC5&quot;</span>)</span><br><span class="line"></span><br><span class="line">button.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  cardview.strokeWidth=<span class="number">4</span></span><br><span class="line">  cardview.strokeColor=Color.parseColor(<span class="string">&quot;#03DAC5&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>Materialæ¶ˆæ¯æç¤ºSnackbar</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/Material%E6%B6%88%E6%81%AF%E6%8F%90%E7%A4%BASnackbar-2021-11-07%2022:14:02/</url>
    <content><![CDATA[<h1>Materialæ¶ˆæ¯æç¤ºSnackbar</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.View&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.snackbar.Snackbar&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> anchor=activity.findViewById(android.R.id.content)</span><br><span class="line"></span><br><span class="line">Snackbar.make(anchor, <span class="string">&quot;Snackbaræç¤ºæ¶ˆæ¯&quot;</span>, Snackbar.LENGTH_LONG).setAction(<span class="string">&quot;æŒ‰é’®&quot;</span>, View.OnClickListener&#123;</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç‚¹å‡»äº†æŒ‰é’®&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;).show();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ShareCompat åˆ†äº«æ–‡æœ¬</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/ShareCompat%20%E5%88%86%E4%BA%AB%E6%96%87%E6%9C%AC-2021-11-07%2022:14:42/</url>
    <content><![CDATA[<h1>ShareCompat åˆ†äº«æ–‡æœ¬</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ†äº«åª’ä½“èµ„æºæˆ–æ–‡æœ¬ä¿¡æ¯ç»™æ‰‹æœºä¸Šçš„å…¶å®ƒåº”ç”¨æ˜¯æˆ‘ä»¬çš„Appå¸¸ç”¨éœ€æ±‚ä¹‹ä¸€ã€‚ æƒ³è¦æ›´å…¼å®¹ã€æ›´ä¾¿æ·çš„åˆ†äº«å†…å®¹åˆ°å…¶å®ƒåº”ç”¨ï¼Œè¯·æ‚¨å‚è€ƒæœ¬ç¤ºä¾‹ï¼Œä½¿ç”¨AndroidXæ¡†æ¶ä¸­çš„ShareCompatåˆ†äº«æ¡†æ¶ï¼Œä¸ºæ‚¨çš„Appå®ç°åˆ†äº«åŠŸèƒ½</span></span><br><span class="line">import <span class="string">&quot;androidx.core.app.ShareCompat&quot;</span></span><br><span class="line">ShareCompat.IntentBuilder.from(activity)</span><br><span class="line">.setText(<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>)</span><br><span class="line">.setType(<span class="string">&quot;text/plain&quot;</span>)</span><br><span class="line">.startChooser()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>TextInputLayout</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/TextInputLayout-2021-11-07%2022:13:37/</url>
    <content><![CDATA[<h1>TextInputLayout</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.textfield.*&quot;</span></span><br><span class="line">import <span class="string">&quot;androidx.appcompat.widget.Toolbar&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.button.MaterialButton&quot;</span></span><br><span class="line">import <span class="string">&quot;com.google.android.material.appbar.AppBarLayout&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> view_table=</span><br><span class="line">&#123;LinearLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">  orientation=<span class="number">1</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    AppBarLayout,</span><br><span class="line">    layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      Toolbar,</span><br><span class="line">      layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">      <span class="comment">--subTitle=&quot;&quot;,</span></span><br><span class="line">      title=<span class="string">&quot;TextInputLayoutä½¿ç”¨ç¤ºä¾‹&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;TextInputLayout,</span><br><span class="line">    id=<span class="string">&quot;input_layout&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">    padding=<span class="string">&quot;24dp&quot;</span>,</span><br><span class="line">    helperText=<span class="string">&quot;è¿™æ˜¯è¾“å…¥æ¡†çš„å¸®åŠ©æ–‡æœ¬&quot;</span>,</span><br><span class="line">    <span class="comment">--prefixText=&quot;å‰ç¼€æ–‡æœ¬&quot;,</span></span><br><span class="line">    <span class="comment">--suffixText=&quot;åç¼€æ–‡æœ¬&quot;,</span></span><br><span class="line">    <span class="comment">--error=&quot;é”™è¯¯æç¤º&quot;,</span></span><br><span class="line">    layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">    hint=<span class="string">&quot;Text Input&quot;</span>,<span class="comment">--è®¾ç½®è¾“å…¥æ¡†æç¤ºæ–‡æœ¬</span></span><br><span class="line">    &#123;TextInputEditText,</span><br><span class="line">      id=<span class="string">&quot;edit_text&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;wrap&quot;</span>,</span><br><span class="line">      layout_width=<span class="string">&quot;match&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;MaterialButton,</span><br><span class="line">    id=<span class="string">&quot;errorbutton&quot;</span>,<span class="comment">--è®¾ç½®id</span></span><br><span class="line">    text=<span class="string">&quot;æ˜¾ç¤ºé”™è¯¯æç¤º&quot;</span>,</span><br><span class="line">    layout_gravity=<span class="string">&quot;right&quot;</span>,</span><br><span class="line">    layout_marginRight=<span class="string">&quot;24dp&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(view_table))</span><br><span class="line">activity.window.statusBarColor=Color.parseColor(<span class="string">&quot;#03DAC5&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®å¯†ç æ˜æ–‡æ˜¾ç¤ºåˆ‡æ¢æŒ‰é’®å¼€å…³</span></span><br><span class="line">input_layout.setPasswordVisibilityToggleEnabled(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">errorbutton.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  input_layout.<span class="built_in">error</span>=<span class="string">&quot;è¿™æ˜¯é”™è¯¯ä¿¡æ¯&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>activityéƒ¨åˆ†APIå‚è€ƒ</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/activity%E9%83%A8%E5%88%86API%E5%8F%82%E8%80%83-2021-11-07%2020:59:07/</url>
    <content><![CDATA[<h1>activityéƒ¨åˆ†APIå‚è€ƒ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">setContentView(layout, env)</span><br><span class="line">è®¾ç½®å¸ƒå±€è¡¨layoutä¸ºå½“å‰activityçš„ä¸»è§†å›¾ï¼Œenvæ˜¯ä¿å­˜è§†å›¾IDçš„è¡¨ï¼Œé»˜è®¤æ˜¯<span class="built_in">_G</span></span><br><span class="line">getGlobalData()</span><br><span class="line">è·å–å…¨å±€æ•°æ®</span><br><span class="line">setSharedData(key,value)</span><br><span class="line">è®¾ç½®å…±äº«æ•°æ®</span><br><span class="line">getSharedData(key,def)</span><br><span class="line">è·å–å…±äº«æ•°æ®</span><br><span class="line">getLuaPath()</span><br><span class="line">è¿”å›å½“å‰è„šæœ¬è·¯å¾„</span><br><span class="line">getLuaPath(name)</span><br><span class="line">è¿”å›è„šæœ¬å½“å‰ç›®å½•çš„ç»™å®šæ–‡ä»¶åè·¯å¾„</span><br><span class="line">getLuaPath(dir,name)</span><br><span class="line">è¿”å›è„šæœ¬å½“å‰ç›®å½•çš„å­ç›®å½•ç»™å®šæ–‡ä»¶åè·¯å¾„</span><br><span class="line">getLuaExtPath(name)</span><br><span class="line">è¿”å›Androluaåœ¨SDçš„å·¥ä½œç›®å½•ç»™å®šæ–‡ä»¶åè·¯å¾„</span><br><span class="line">getLuaExtPath(dir,name)</span><br><span class="line">è¿”å›Androluaåœ¨SDçš„å·¥ä½œç›®å½•çš„å­ç›®å½•ç»™å®šæ–‡ä»¶åè·¯å¾„</span><br><span class="line">getLuaDir()</span><br><span class="line">è¿”å›è„šæœ¬å½“å‰ç›®å½•</span><br><span class="line">getLuaDir(name)</span><br><span class="line">è¿”å›è„šæœ¬å½“å‰ç›®å½•çš„å­ç›®å½•</span><br><span class="line">getLuaExtDir()</span><br><span class="line">è¿”å›Androluaåœ¨SDçš„å·¥ä½œç›®å½•</span><br><span class="line">getLuaExtDir(name)</span><br><span class="line">è¿”å›Androluaåœ¨SDçš„å·¥ä½œç›®å½•çš„å­ç›®å½•</span><br><span class="line">getWidth()</span><br><span class="line">è¿”å›å±å¹•å®½åº¦</span><br><span class="line">getHeight()</span><br><span class="line">è¿”å›å±å¹•é«˜åº¦ï¼Œä¸åŒ…æ‹¬çŠ¶æ€æ ä¸å¯¼èˆªæ </span><br><span class="line">loadDex(<span class="built_in">path</span>)</span><br><span class="line">åŠ è½½å½“å‰ç›®å½•dexæˆ–jarï¼Œè¿”å›DexClassLoader</span><br><span class="line">loadLib(<span class="built_in">path</span>)</span><br><span class="line">åŠ è½½å½“å‰ç›®å½•cæ¨¡å—ï¼Œè¿”å›è½½å…¥åæ¨¡å—çš„è¿”å›å€¼(é€šå¸¸æ˜¯åŒ…å«æ¨¡å—å‡½æ•°çš„åŒ…)</span><br><span class="line">registerReceiver(filter)</span><br><span class="line">æ³¨å†Œä¸€ä¸ªå¹¿æ’­æ¥æ”¶è€…ï¼Œå½“å†æ¬¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶å°†ç§»é™¤ä¸Šæ¬¡æ³¨å†Œçš„è¿‡æ»¤å™¨</span><br><span class="line">newActivity(req, <span class="built_in">path</span>, enterAnim, exitAnim, <span class="built_in">arg</span>)</span><br><span class="line">æ‰“å¼€ä¸€ä¸ªæ–°activityï¼Œè¿è¡Œè·¯å¾„ä¸º<span class="built_in">path</span>çš„Luaæ–‡ä»¶ï¼Œå…¶ä»–å‚æ•°ä¸ºå¯é€‰ï¼Œ<span class="built_in">arg</span>ä¸ºè¡¨ï¼Œæ¥å—è„šæœ¬ä¸ºå˜é•¿å‚æ•°</span><br><span class="line">result&#123;...&#125;</span><br><span class="line">å‘æ¥æºactivityè¿”å›æ•°æ®ï¼Œåœ¨æºactivityçš„onResultå›è°ƒ</span><br><span class="line">newTask(func[, update], callback)</span><br><span class="line">æ–°å»ºä¸€ä¸ªTaskå¼‚æ­¥ä»»åŠ¡ï¼Œåœ¨çº¿ç¨‹ä¸­æ‰§è¡Œfuncå‡½æ•°ï¼Œå…¶ä»–ä¸¤ä¸ªå‚æ•°å¯é€‰ï¼Œæ‰§è¡Œç»“æŸå›è°ƒcallbackï¼Œåœ¨ä»»åŠ¡è°ƒç”¨updateå‡½æ•°æ—¶åœ¨UIçº¿ç¨‹å›è°ƒè¯¥å‡½æ•°</span><br><span class="line">æ–°å»ºçš„Taskåœ¨è°ƒç”¨<span class="built_in">execute</span>&#123;&#125;æ—¶é€šè¿‡è¡¨ä¼ å…¥å‚æ•°ï¼Œåœ¨funcä»¥<span class="built_in">unpack</span>å½¢å¼æ¥æ”¶ï¼Œæ‰§è¡Œfuncå¯ä»¥è¿”å›å¤šä¸ªå€¼</span><br><span class="line">newThread(func, <span class="built_in">arg</span>)</span><br><span class="line">æ–°å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œåœ¨çº¿ç¨‹ä¸­è¿è¡Œfuncå‡½æ•°ï¼Œå¯ä»¥ä»¥è¡¨çš„å½¢å¼ä¼ å…¥<span class="built_in">arg</span>ï¼Œåœ¨funcä»¥<span class="built_in">unpack</span>å½¢å¼æ¥æ”¶</span><br><span class="line">æ–°å»ºçš„çº¿ç¨‹è°ƒç”¨start()æ–¹æ³•è¿è¡Œï¼Œçº¿ç¨‹ä¸ºå«æœ‰loopçº¿ç¨‹ï¼Œåœ¨å½“å‰activityç»“æŸåè‡ªåŠ¨ç»“æŸloop</span><br><span class="line">newTimer(func, <span class="built_in">arg</span>)</span><br><span class="line">æ–°å»ºä¸€ä¸ªå®šæ—¶å™¨ï¼Œåœ¨çº¿ç¨‹ä¸­è¿è¡Œfuncå‡½æ•°ï¼Œå¯ä»¥ä»¥è¡¨çš„å½¢å¼ä¼ å…¥<span class="built_in">arg</span>ï¼Œåœ¨funcä»¥<span class="built_in">unpack</span>å½¢å¼æ¥æ”¶</span><br><span class="line">è°ƒç”¨å®šæ—¶å™¨çš„start(delay, period)å¼€å§‹å®šæ—¶å™¨ï¼Œstop()åœæ­¢å®šæ—¶å™¨ï¼ŒEnabledæš‚åœæ¢å¤å®šæ—¶å™¨ï¼ŒPeriodå±æ€§æ”¹å˜å®šæ—¶å™¨é—´éš”</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>colorpickeré¢œè‰²é€‰æ‹©å™¨</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/colorpicker%E9%A2%9C%E8%89%B2%E9%80%89%E6%8B%A9%E5%99%A8-2021-11-07%2021:04:39/</url>
    <content><![CDATA[<h1>colorpickeré¢œè‰²é€‰æ‹©å™¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¯¼å…¥colorpickeré¢œè‰²é€‰æ‹©å™¨:https://github.com/QuadFlask/ColorPicker</span></span><br><span class="line">import <span class="string">&quot;com.flask.colorpicker.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.flask.colorpicker.builder.*&quot;</span></span><br><span class="line">pickerBuilder=ColorPickerDialogBuilder.with(activity).setTitle(<span class="string">&quot;é€‰å–é¢œè‰²&quot;</span>).wheelType(ColorPickerView.WHEEL_TYPE.CIRCLE).density(<span class="number">12</span>).showColorEdit(<span class="literal">true</span>).setOnColorSelectedListener(OnColorSelectedListener&#123;</span><br><span class="line"> onColorSelected=<span class="function"><span class="keyword">function</span><span class="params">(selectedColor)</span></span></span><br><span class="line"> <span class="built_in">print</span>(tointeger(<span class="string">&quot;0x&quot;</span>..Integer.toHexString(selectedColor)))</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;).setPositiveButton(<span class="string">&quot;è®¾ç½®&quot;</span>, ColorPickerClickListener&#123;</span><br><span class="line"> onClick = <span class="function"><span class="keyword">function</span><span class="params">(selectedColor)</span></span></span><br><span class="line">  <span class="built_in">print</span>(tointeger(<span class="string">&quot;0x&quot;</span>..colorEdit.text))</span><br><span class="line"></span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;).setNegativeButton(<span class="string">&quot;æ”¾å¼ƒ&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">pickerDialog = pickerBuilder.build()</span><br><span class="line">pickerDialog.<span class="built_in">create</span>()</span><br><span class="line">pickerDialog.Window.setWindowAnimations(R.style.dialog_anim)</span><br><span class="line">pickerDialog.show()</span><br><span class="line">colorEdit = pickerBuilder.getColorEdit()</span><br><span class="line">colorEdit.setTextColor(<span class="number">0xFD009688</span>)</span><br><span class="line">colorEdit.setBackgroundColor(<span class="number">0xffffffff</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pickerBuilder=ColorPickerDialogBuilder.with(activity).setTitle(<span class="string">&quot;é€‰å–é¢œè‰²&quot;</span>).wheelType(ColorPickerView.WHEEL_TYPE.FLOWER).density(<span class="number">12</span>).showColorEdit(<span class="literal">true</span>).setOnColorSelectedListener(OnColorSelectedListener&#123;</span><br><span class="line"> onColorSelected=<span class="function"><span class="keyword">function</span><span class="params">(selectedColor)</span></span></span><br><span class="line"> <span class="built_in">print</span>(tointeger(<span class="string">&quot;0x&quot;</span>..Integer.toHexString(selectedColor)))</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;).setPositiveButton(<span class="string">&quot;è®¾ç½®&quot;</span>, ColorPickerClickListener&#123;</span><br><span class="line"> onClick = <span class="function"><span class="keyword">function</span><span class="params">(selectedColor)</span></span></span><br><span class="line">  <span class="built_in">print</span>(tointeger(<span class="string">&quot;0x&quot;</span>..colorEdit.text))</span><br><span class="line"></span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;).setNegativeButton(<span class="string">&quot;æ”¾å¼ƒ&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">pickerDialog = pickerBuilder.build()</span><br><span class="line">pickerDialog.<span class="built_in">create</span>()</span><br><span class="line">pickerDialog.Window.setWindowAnimations(R.style.dialog_anim)</span><br><span class="line">pickerDialog.show()</span><br><span class="line">colorEdit = pickerBuilder.getColorEdit()</span><br><span class="line">colorEdit.setTextColor(<span class="number">0xFD009688</span>)</span><br><span class="line">colorEdit.setBackgroundColor(<span class="number">0xffffffff</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>javaè½¬luaå°æŠ€å·§</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/java%E8%BD%AClua%E5%B0%8F%E6%8A%80%E5%B7%A7-2021-11-07%2021:02:19/</url>
    <content><![CDATA[<h1>javaè½¬luaå°æŠ€å·§</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">è½¬luaå‰å¿…é¡»è¦çŸ¥é“çš„æ˜¯Javaå’Œluaçš„åŒºåˆ«åœ¨å“ªé‡Œ</span><br><span class="line">åŒºåˆ«å¦‚ä¸‹ï¼š</span><br><span class="line"><span class="number">1</span>ã€javaä¸­æœ‰å¾ˆå¤šjavaæ‰æœ‰çš„å…³é”®å’Œç±»å‹ï¼Œluaåˆ™åªæœ‰luaè‡ªå·±çš„å…³é”®å­—ã€‚ä¸è¿‡luaå’Œjavaä¹Ÿæœ‰å…±åŒçš„å…³é”®å­—</span><br><span class="line"><span class="number">2</span>ã€javaä¸­å£°æ˜æ•°ç»„å’Œå®ä¾‹åŒ–å¯¹è±¡éœ€è¦newå…³é”®å­—è¿›è¡Œï¼Œè€Œluaæ²¡æœ‰newå’Œä¸éœ€è¦è‡ªå·±å†™ç±»å‹</span><br><span class="line"><span class="number">3</span>ã€javaå‡½æ•°ä½“é‡‡ç”¨çš„æˆ–æ‹¬å·åŒ…èµ·æ¥è€Œluaåˆ™æ˜¯ç”¨<span class="keyword">end</span>ç»“æŸå‡½æ•°å¹¶ä¸ç”¨èŠ±æ‹¬å·</span><br><span class="line"></span><br><span class="line">Javaå’ŒLuaä¸­å¸¸ç”¨çš„å…³é”®å­—</span><br><span class="line"></span><br><span class="line">Javaï¼špublic,private,protected,final,static,default,void,synchronized,abstract,interface</span><br><span class="line">Luaï¼š<span class="keyword">local</span></span><br><span class="line"></span><br><span class="line">Javaå¸¸ç”¨çš„ç±»å‹</span><br><span class="line"></span><br><span class="line">int,float,double,long,short,<span class="built_in">char</span>,boolean,<span class="built_in">byte</span>,æ³¨æ„çš„æ˜¯Stringå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¯¹è±¡å¹¶ä¸æ˜¯ç±»å‹</span><br><span class="line"></span><br><span class="line">å˜é‡è½¬æ¢</span><br><span class="line"></span><br><span class="line">Javaï¼špublic static int a = <span class="number">0</span>;</span><br><span class="line">Luaï¼š<span class="keyword">local</span> a = <span class="number">0</span> æˆ– a = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Javaï¼šprivate static int a = <span class="number">0</span>;</span><br><span class="line">Luaï¼š<span class="keyword">local</span> a = <span class="number">0</span> æˆ– a = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Javaï¼šprotected final String a = <span class="number">0</span>;</span><br><span class="line">Luaï¼š<span class="keyword">local</span> a = <span class="number">0</span> æˆ– a = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">çœ‹èµ·æ¥å¾ˆå¤æ‚è¿™é‡Œæœ‰ä¸ªè®°å¿†å£è¯€</span><br><span class="line">å¦‚ï¼šprotected final String a = <span class="number">0</span>;</span><br><span class="line">ä¸Šé¢è¿™ä¸ªå˜é‡åä¸ºa</span><br><span class="line">å¯ä»¥ç›´æ¥æŠŠå˜é‡åå·¦è¾¹çš„å…¨éƒ¨å»é™¤å°±è¡Œäº†ï¼Œåªä¿ç•™å³è¾¹</span><br><span class="line">a = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Javaï¼šfinal String asd = <span class="number">0</span>;</span><br><span class="line">Luaï¼šasd = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">å‡½æ•°è½¬æ¢</span><br><span class="line"></span><br><span class="line">Javaä¸­å‡½æ•°çš„å£°æ˜ç»“æ„æ˜¯</span><br><span class="line">ä¿®é¥°ç¬¦ è¿”å›ç±»å‹ æ–¹æ³•å(å‚æ•°ç±»å‹ a ï¼Œxxx)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è½¬luaä¹Ÿæ˜¯éå¸¸ç®€å•çš„</span><br><span class="line">æ¯”å¦‚ä¸‹é¢è¿™ä¸ª</span><br><span class="line">public final void a(A a)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è½¬lua</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span><span class="params">()</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">å†æ¯”å¦‚</span><br><span class="line">public staitc String a(A a)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è½¬lua</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span><span class="params">()</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">è®°å¿†å£è¯€</span><br><span class="line"><span class="number">1</span>ã€æŠŠå‡½æ•°åå‰é¢çš„æ‰€æœ‰åˆ é™¤åŠ ä¸Š<span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">2ã€å‚æ•°ç±»å‹åˆ é™¤</span></span><br><span class="line"><span class="function">3ã€èŠ±æ‹¬å·åˆ é™¤åŠ ä¸Š<span class="title">end</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">public</span> <span class="title">staitc</span> <span class="title">String</span> <span class="title">a</span><span class="params">(A asd)</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">å‡½æ•°åæ˜¯aåˆ é™¤å‰é¢çš„åŠ ä¸Š<span class="function"><span class="keyword">function</span>å°±æ˜¯</span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">a</span></span></span><br><span class="line"><span class="function">æ‹¬å·ä¸­å»é™¤å‚æ•°ç±»å‹å°±æ˜¯<span class="title">asd</span></span></span><br><span class="line"><span class="function">å»é™¤èŠ±æ‹¬å·åŠ <span class="title">end</span>å°±æ˜¯<span class="title">end</span></span></span><br><span class="line"><span class="function"><span class="title">function</span> <span class="title">a</span><span class="params">(a)</span></span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">è¿ç®—ç¬¦çš„è½¬æ¢</span><br><span class="line"></span><br><span class="line">JavaLuaç®—æœ¯è¿ç®—ç¬¦a = a+<span class="number">1</span>a = a+<span class="number">1</span>a = a<span class="number">-1</span>a = a<span class="number">-1</span>a = a*<span class="number">1</span>a = a*<span class="number">1</span>a = a/<span class="number">1</span>a = a/<span class="number">1</span>a = a%<span class="number">1</span>a = a%<span class="number">1</span>a++a = a+<span class="number">1</span>a = a<span class="comment">--a = a-1å…³ç³»è¿ç®—ç¬¦====!=~=&gt;&gt;&lt;&lt;&gt;=&gt;=&lt;=&lt;=ä½è¿ç®—ç¬¦&amp;&amp;||~~&lt;&lt;&lt;&lt;&gt;&gt;&gt;&gt;é€»è¾‘è¿ç®—ç¬¦&amp;&amp;and||or!è¿™ä¸ªæ¯”è¾ƒç‰¹æ®Šå°±æ˜¯å–åçš„æ„æ€ï¼Œæ¯”å¦‚!a,Luaä¸­a==falseèµ‹å€¼è¿ç®—ç¬¦a=1a=1a+=2a = a + 2a-=2a = a - 2a*=2a = a * 2a/=2a = a / 2a%=2a = a % 2a&lt;&lt;=2a = a &lt;&lt; 2a&gt;&gt;=2a = a &gt;&gt; 2a&amp;=2a = a &amp; 2a^=2a = a ^ 2a|=2a = a | 2a = b?1:2 if b then a = 1 else a = 2 end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>çš„è½¬æ¢</span><br><span class="line"></span><br><span class="line">Javaï¼š</span><br><span class="line"><span class="keyword">if</span>(a==b || a==c)&#123;</span><br><span class="line"></span><br><span class="line">&#125;eles <span class="keyword">if</span>(a != c &amp;&amp; c == <span class="number">3</span> )&#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Luaï¼š</span><br><span class="line"><span class="keyword">if</span> a==b <span class="keyword">or</span> a~=c <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">elseif</span> a~=c <span class="keyword">and</span> c==<span class="number">3</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">è®°å¿†å£è¯€</span><br><span class="line"><span class="number">1</span>ã€ å»é™¤èŠ±æ‹¬å·</span><br><span class="line"><span class="number">2</span>ã€é€»è¾‘è¿ç®—ç¬¦æŒ‰ç…§ä¸Šé¢è¡¨æ ¼æ›´æ”¹</span><br><span class="line"><span class="number">3</span>ã€åœ¨æ¡ä»¶åé¢åŠ ä¸Š<span class="keyword">then</span></span><br><span class="line"><span class="number">4</span>ã€æœ€ååŠ ä¸Š<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>å¾ªç¯çš„è½¬æ¢</span><br><span class="line"></span><br><span class="line">JavaLua <span class="keyword">for</span>(int i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123; &#125; <span class="keyword">for</span> i=<span class="number">0</span>,<span class="number">10</span>,<span class="number">1</span> <span class="keyword">do</span> <span class="keyword">end</span> int i = <span class="number">0</span>; <span class="keyword">for</span>(;i&lt;<span class="number">10</span>;i++)&#123; &#125; <span class="keyword">for</span> i=<span class="number">0</span>,<span class="number">9</span>,<span class="number">1</span> <span class="keyword">do</span> <span class="keyword">end</span> int i = <span class="number">10</span>; <span class="keyword">for</span>(;i&gt;=<span class="number">10</span>;i<span class="comment">--)&#123; &#125; for i=0,10,-1 do end int i = 0; for(;i&gt;10;i=i-2)&#123; &#125; for i=0,10,-2 do end int i = 0; for(;i&gt;10;i=i+2)&#123; &#125; for i=0,10,2 do end for(;;)&#123; &#125; while true do end int[] as = new int[]&#123;1,2,3,4,5,6&#125;; for(int a : as)&#123; &#125; as = &#123;1,2,3,4,5,6&#125;; for i=1,#as-1 do end </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>å¾ªç¯</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(ture)&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è½¬lua</span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(a==<span class="number">0</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è½¬lua</span><br><span class="line"><span class="keyword">while</span> a==<span class="number">0</span> <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">è®°å¿†å£è¯€</span><br><span class="line"><span class="number">1</span>ã€å»é™¤èŠ±æ‹¬å·</span><br><span class="line"><span class="number">2</span>ã€è¿ç®—ç¬¦å¯¹ç…§ä¸Šé¢è¡¨æ ¼ä¿®æ”¹</span><br><span class="line"><span class="number">3</span>ã€åœ¨æ¡ä»¶åé¢åŠ ä¸Š<span class="keyword">then</span></span><br><span class="line"><span class="number">4</span>ã€æœ«å°¾åŠ ä¸Š<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">switchçš„è½¬æ¢</span><br><span class="line"></span><br><span class="line">int a = <span class="number">10</span></span><br><span class="line">switch(a)&#123;</span><br><span class="line"></span><br><span class="line">case <span class="number">10</span>: <span class="keyword">break</span>; //å¯é€‰ case <span class="number">9</span>: <span class="keyword">break</span>; //å¯é€‰ default : //å¯é€‰</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">è½¬æˆlua</span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">switch(a)</span><br><span class="line">case <span class="number">10</span></span><br><span class="line"></span><br><span class="line">case <span class="number">9</span></span><br><span class="line"></span><br><span class="line">default</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">å®ä¾‹åŒ–å¯¹è±¡</span><br><span class="line"></span><br><span class="line">Javaï¼š</span><br><span class="line">String a = new String(<span class="string">&quot;123&quot;</span>);</span><br><span class="line"></span><br><span class="line">Lua:</span><br><span class="line">a = String(<span class="string">&quot;123&quot;</span>)</span><br><span class="line"></span><br><span class="line">æ•°ç»„çš„è½¬æ¢</span><br><span class="line"></span><br><span class="line">Java:</span><br><span class="line">int[] is = new int[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"></span><br><span class="line">Lua:</span><br><span class="line">is = int&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line">Java:</span><br><span class="line">String[] is = new String[]&#123;<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">Lua:</span><br><span class="line">is = String&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line">æ¥å£çš„è½¬æ¢</span><br><span class="line"></span><br><span class="line">Java:</span><br><span class="line">Button btn = new Button(this);</span><br><span class="line">btn.setOnclickListener(new View.OnClickListener()&#123;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>luaç®€ä»‹</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/lua%E7%AE%80%E4%BB%8B-2021-11-07%2020:47:20/</url>
    <content><![CDATA[<h1>luaç®€ä»‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">Lua æ˜¯ä¸€ç§è½»é‡å°å·§çš„è„šæœ¬è¯­è¨€ï¼Œç”¨æ ‡å‡†Cè¯­è¨€ç¼–å†™å¹¶ä»¥æºä»£ç å½¢å¼å¼€æ”¾ï¼Œ å…¶è®¾è®¡ç›®çš„æ˜¯ä¸ºäº†åµŒå…¥åº”ç”¨ç¨‹åºä¸­ï¼Œä»è€Œä¸ºåº”ç”¨ç¨‹åºæä¾›çµæ´»çš„æ‰©å±•å’Œå®šåˆ¶åŠŸèƒ½ã€‚</span><br><span class="line">Lua æ˜¯å·´è¥¿é‡Œçº¦çƒ­å†…å¢å¤©ä¸»æ•™å¤§å­¦ï¼ˆPontifical Catholic University of Rio de Janeiroï¼‰é‡Œçš„ä¸€ä¸ªç ”ç©¶å°ç»„ï¼Œç”±Roberto Ierusalimschyã€Waldemar Celes å’Œ Luiz Henrique de Figueiredoæ‰€ç»„æˆå¹¶äº<span class="number">1993</span>å¹´å¼€å‘ã€‚</span><br><span class="line">é‚£ä¹ˆæˆ‘ä»¬åºŸè¯ä¸å¤šè¯´æ¥å†™ç¬¬ä¸€ä¸ª Lua ç¨‹åºå§ï¼ã€‹ã€‹</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸æ ‡å‡†javaçš„ä¸åŒ</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E4%B8%8E%E6%A0%87%E5%87%86java%E7%9A%84%E4%B8%8D%E5%90%8C-2021-11-07%2020:48:49/</url>
    <content><![CDATA[<h1>ä¸æ ‡å‡†javaçš„ä¸åŒ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">javaæœ‰ï¼Œandroluaæ²¡æœ‰</span><br><span class="line">æ²¡æœ‰newå…³é”®å­—ï¼Œä½¿ç”¨å‡½æ•°è°ƒç”¨å½¢å¼æ„å»ºå®ä¾‹</span><br><span class="line">æ²¡æœ‰ç±»å‹å£°æ˜ï¼Œä½¿ç”¨<span class="keyword">local</span>å£°æ˜å±€éƒ¨å˜é‡</span><br><span class="line">ä¸ä½¿ç”¨&#123;&#125;ï¼Œä½¿ç”¨<span class="keyword">do</span> <span class="keyword">end</span>ç»“æ„</span><br><span class="line">ä¸ä½¿ç”¨tryï¼Œä½¿ç”¨<span class="built_in">pcall</span>å’Œ<span class="built_in">xpcall</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">androluaæœ‰ï¼Œjavaæ²¡æœ‰</span><br><span class="line">åŸºäºgetter/setterçš„æ–¹æ³•ç®€å†™</span><br><span class="line">åˆ›å»ºæœ‰åˆå§‹å†…å®¹çš„listå’Œmap</span><br><span class="line">ä½¿ç”¨é”®è®¿é—®listå’Œmapå†…å®¹</span><br><span class="line">ä¸å¿…å®ç°æ¥å£çš„æ‰€æœ‰æ–¹æ³•ï¼Œä¸”å¯ä»¥ä½¿ç”¨ç®€åŒ–å½¢å¼</span><br><span class="line">çµæ´»çš„åŠ¨æ€å¸ƒå±€</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸æ ‡å‡†çš„Lua5.3ä¸åŒ</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E4%B8%8E%E6%A0%87%E5%87%86%E7%9A%84Lua5.3%E4%B8%8D%E5%90%8C-2021-11-07%2020:48:24/</url>
    <content><![CDATA[<h1>ä¸æ ‡å‡†çš„Lua5.3ä¸åŒ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ‰“å¼€äº†éƒ¨åˆ†å…¼å®¹é€‰é¡¹ï¼Œ<span class="built_in">module</span>ï¼Œ<span class="built_in">unpack</span>ï¼Œbit32</span><br><span class="line">å¢åŠ switch case default continueå…³é”®å­—</span><br><span class="line">å¢åŠ whenå•è¡Œåˆ¤æ–­å…³é”®å­—</span><br><span class="line">å¢åŠ deferå»¶æ—¶æ‰§è¡Œå…³é”®å­—</span><br><span class="line">å¢åŠ lambdaç®€å•åŒ¿åå‡½æ•°å…³é”®å­—</span><br><span class="line">å¢åŠ a=[]å½¢å¼åˆ›å»ºæ•°ç»„éœ€è¦å½¢å¼</span><br><span class="line">æ”¯æŒçœç•¥å†™æ³•ï¼Œå¯ä¸å†™<span class="keyword">then</span>ï¼Œ<span class="keyword">do</span>ï¼Œ<span class="keyword">in</span></span><br><span class="line">æ”¯æŒä½¿ç”¨å…³é”®å­—ä½œä¸ºè¡¨é”®</span><br><span class="line"></span><br><span class="line">å¢åŠ <span class="built_in">string</span>.<span class="built_in">gfind</span>å‡½æ•°ï¼Œç”¨äºé€’å½’è¿”å›åŒ¹é…ä½ç½®</span><br><span class="line"></span><br><span class="line">å¢åŠ <span class="built_in">table</span>.clearå‡½æ•°ï¼Œæ¸…ç©ºè¡¨</span><br><span class="line">å¢åŠ <span class="built_in">table</span>.cloneå‡½æ•°ï¼Œå…‹éš†è¡¨</span><br><span class="line">å¢åŠ <span class="built_in">table</span>.constå‡½æ•°ï¼Œå¸¸é‡è¡¨ç¦æ­¢ä¿®æ”¹</span><br><span class="line">å¢åŠ <span class="built_in">table</span>.<span class="built_in">find</span>å‡½æ•°ï¼ŒæŸ¥æ‰¾æŒ‡å®šå€¼çš„é”®</span><br><span class="line">å¢åŠ <span class="built_in">table</span>.<span class="built_in">gfind</span>å‡½æ•°ï¼Œè¿­ä»£æŸ¥æ‰¾æŒ‡å®šå€¼çš„é”®</span><br><span class="line">å¢åŠ <span class="built_in">table</span>.sizeå‡½æ•°ï¼Œè·å–è¡¨æ‰€æœ‰å…ƒç´ çš„æ€»æ•°</span><br><span class="line"></span><br><span class="line">å¢åŠ <span class="built_in">io</span>.readallå‡½æ•°ï¼Œè¯»å–æ•´ä¸ªæ–‡ä»¶</span><br><span class="line">å¢åŠ <span class="built_in">io</span>.lså‡½æ•°ï¼Œè¯»å–æ–‡ä»¶å¤¹æ–‡ä»¶ååˆ—è¡¨</span><br><span class="line">å¢åŠ <span class="built_in">io</span>.mkdirå‡½æ•°ï¼Œåˆ›å»ºæ–‡ä»¶å¤¹</span><br><span class="line">å¢åŠ <span class="built_in">io</span>.infoå‡½æ•°ï¼Œè·å–æ–‡ä»¶ä¿¡æ¯</span><br><span class="line">å¢åŠ <span class="built_in">io</span>.isdirå‡½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºæ–‡ä»¶å¤¹</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹<span class="built_in">os</span>.<span class="built_in">date</span>å‡½æ•°ï¼Œæ”¯æŒ<span class="number">64</span>ä½æ—¶é—´</span><br><span class="line"></span><br><span class="line">å¢åŠ tointegerå‡½æ•°ï¼Œå¼ºåˆ¶å°†æ•°å€¼è½¬ä¸ºæ•´æ•°</span><br><span class="line">ä¿®æ”¹<span class="built_in">tonumber</span>å‡½æ•°ï¼Œæ”¯æŒè½¬æ¢Javaå¯¹è±¡</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºAndroLuaX+</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%85%B3%E4%BA%8EAndroLuaX+-2021-11-07%2020:24:29/</url>
    <content><![CDATA[<h1>å…³äºAndroLuaX+</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">AndroLuaX+æ˜¯åŸºäºå¼€æºé¡¹ç›®AndroLua+å¼€å‘çš„è½»å‹è„šæœ¬ç¼–ç¨‹å·¥å…·ï¼Œä½¿ç”¨ç®€æ´ä¼˜ç¾çš„luaè¯­è¨€ï¼Œç®€åŒ–äº†ç¹ççš„Javaè¯­å¥ï¼ŒåŒæ—¶æ”¯æŒä½¿ç”¨å¤§éƒ¨åˆ†å®‰å“apiï¼Œå…å®‰è£…è°ƒè¯•ï¼Œä½¿ä½ åœ¨æ‰‹æœºä¸Šå¼€å‘æ›´åŠ è½»æ¾å¿«æ·ï¼Œç¨‹åºç”³è¯·çš„æƒé™æ˜¯ä¸ºäº†ä½ ç¼–å†™ç¨‹åºä½¿ç”¨ï¼Œè¯·å¤§å®¶æ”¾å¿ƒä½¿ç”¨ï¼Œç¾¤é‡Œæºç æ¡ˆä¾‹å¤šï¼ŒAndroLuaX+åŸºäºå¼€æºé¡¹ç›®AndroLua+äºŒæ”¹ï¼Œæ‰€ä»¥åŒæ—¶ä¹Ÿå¼€æ”¾luaæºç </span><br><span class="line">äº¤æµç¾¤ï¼š<span class="number">762838526</span></span><br><span class="line"></span><br><span class="line">é¡¹ç›®ä¸»é¡µ åœ°å€:https://different_worlds_6666.gitee.<span class="built_in">io</span>/luago/</span><br><span class="line"></span><br><span class="line">æœ¬ç¨‹åºä½¿ç”¨äº†ä»¥ä¸‹å¼€æºé¡¹ç›®éƒ¨åˆ†ä»£ç </span><br><span class="line"></span><br><span class="line">bson,crypt,md5</span><br><span class="line">https://github.com/cloudwu/skynet</span><br><span class="line"></span><br><span class="line">cjson</span><br><span class="line">https://sourceforge.net/projects/cjson/</span><br><span class="line"></span><br><span class="line">zlib</span><br><span class="line">https://github.com/brimworks/lua-zlib</span><br><span class="line"></span><br><span class="line">xml</span><br><span class="line">https://github.com/chukong/quick-cocos2d-x</span><br><span class="line"></span><br><span class="line">luv</span><br><span class="line">https://github.com/luvit/luv</span><br><span class="line">https://github.com/clibs/uv</span><br><span class="line"></span><br><span class="line">zip</span><br><span class="line">https://github.com/brimworks/lua-zip</span><br><span class="line">https://github.com/julienr/libzip-android</span><br><span class="line"></span><br><span class="line">luagl</span><br><span class="line">http://luagl.sourceforge.net/</span><br><span class="line"></span><br><span class="line">luasocket</span><br><span class="line">https://github.com/diegonehab/luasocket</span><br><span class="line"></span><br><span class="line">sensor</span><br><span class="line">https://github.com/ddlee/AndroidLuaActivity</span><br><span class="line"></span><br><span class="line">canvas</span><br><span class="line">ç”±è½å¶ä¼¼ç§‹å¼€å‘</span><br><span class="line"></span><br><span class="line">jni</span><br><span class="line">ç”±nirenrå¼€å‘</span><br><span class="line"></span><br><span class="line">AndroLua+ï¼š</span><br><span class="line">https://github.com/nirenr/AndroLua_pro</span><br><span class="line">ç”±nirenrå¼€å‘</span><br><span class="line"></span><br><span class="line">Googleæ¨èçš„Glideå›¾ç‰‡åŠ è½½æ¡†æ¶:</span><br><span class="line">https://github.com/bumptech/Glide</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">é¢œè‰²é€‰æ‹©å™¨:</span><br><span class="line">https://github.com/QuadFlask/ColorPicker</span><br><span class="line"></span><br><span class="line">AgentWebæ˜¯ä¸€ä¸ªé«˜åº¦å°è£…çš„WebViewæ”¯æŒåº“:</span><br><span class="line">https://github.com/Justson/AgentWeb</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨Google Materialä¸AndroidX AppCompatæ§ä»¶åŠç±»åº“:</span><br><span class="line">compile <span class="string">&#x27;com.android.support:multidex:1.0.1&#x27;</span></span><br><span class="line">compile  <span class="string">&#x27;androidx.appcompat:appcompat:1.1.0&#x27;</span></span><br><span class="line">compile <span class="string">&#x27;com.google.android.material:material:1.0.0&#x27;</span></span><br><span class="line">implementation <span class="string">&#x27;com.github.QuadFlask:colorpicker:0.0.15&#x27;</span></span><br><span class="line"></span><br><span class="line">	</span><br><span class="line"><span class="comment">--å°è£…æˆluaï¼Œå¯¼å…¥å…¨éƒ¨Google Materialä¸AndroidX AppCompatæ§ä»¶åŠç±»åº“</span></span><br><span class="line"><span class="keyword">local</span> p=&#123;</span><br><span class="line">  <span class="string">&quot;androidx.annotation.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.app.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.content.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.content.res.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.graphics.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.graphics.drawable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.text.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.view.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.view.menu.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.appcompat.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.arch.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.arch.core.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.arch.core.internal.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.arch.core.util.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.asynclayoutinflater.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.asynclayoutinflater.view.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.cardview.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.cardview.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.collection.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.coordinatorlayout.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.coordinatorlayout.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.accessibilityservice.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.app.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.content.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.content.pm.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.content.res.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.database.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.database.sqlite.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.graphics.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.graphics.drawable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.hardware.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.hardware.display.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.hardware.fingerprint.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.internal.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.internal.view.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.math.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.net.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.os.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.provider.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.text.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.text.util.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.util.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.view.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.view.accessibility.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.view.animation.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.view.inputmethod.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.core.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.cursoradapter.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.cursoradapter.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.customview.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.customview.view.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.customview.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.documentfile.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.documentfile.provider.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.drawerlayout.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.drawerlayout.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.fragment.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.fragment.app.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.interpolator.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.interpolator.view.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.interpolator.view.animation.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.legacy.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.legacy.app.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.legacy.content.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.legacy.coreui.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.legacy.coreutils.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.legacy.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.lifecycle.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.loader.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.loader.app.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.loader.content.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.localbroadcastmanager.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.localbroadcastmanager.content.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.print.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.recyclerview.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.recyclerview.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.slidingpanelayout.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.slidingpanelayout.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.swiperefreshlayout.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.swiperefreshlayout.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.transition.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.vectordrawable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.vectordrawable.graphics.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.vectordrawable.graphics.drawable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.versionedparcelable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.viewpager.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;androidx.viewpager.widget.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.animation.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.appbar.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.behavior.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.bottomappbar.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.bottomnavigation.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.bottomsheet.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.button.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.canvas.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.card.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.chip.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.circularreveal.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.circularreveal.cardview.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.circularreveal.coordinatorlayout.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.drawable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.expandable.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.floatingactionbutton.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.internal.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.math.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.navigation.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.resources.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.ripple.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.shadow.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.shape.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.snackbar.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.stateful.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.tabs.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.textfield.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.theme.*&quot;</span> ;</span><br><span class="line">  <span class="string">&quot;com.google.android.material.transformation.*&quot;</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k,v <span class="built_in">pairs</span>(p)</span><br><span class="line">  import(v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºæ‰“åŒ…</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%85%B3%E4%BA%8E%E6%89%93%E5%8C%85-2021-11-07%2020:58:16/</url>
    <content><![CDATA[<h1>å…³äºæ‰“åŒ…</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ–°å»ºå·¥ç¨‹æˆ–åœ¨è„šæœ¬ç›®å½•æ–°å»ºinit.luaæ–‡ä»¶ã€‚</span><br><span class="line">å†™å…¥ä»¥ä¸‹å†…å®¹ï¼Œå³å¯å°†æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰luaæ–‡ä»¶æ‰“åŒ…ï¼Œmain.luaä¸ºç¨‹åºäººå£ã€‚</span><br><span class="line">appname=<span class="string">&quot;demo&quot;</span></span><br><span class="line">appver=<span class="string">&quot;1.0&quot;</span></span><br><span class="line">packagename=<span class="string">&quot;com.androlua.demo&quot;</span></span><br><span class="line">path_pattern=<span class="string">&quot;.*alp&quot;</span><span class="comment">--è®¾ç½®å…³è”æ–‡ä»¶</span></span><br><span class="line"><span class="comment">--è°ƒè¯•æ¨¡å¼</span></span><br><span class="line">debugmode=<span class="literal">false</span><span class="comment">--æ§åˆ¶printçš„å¼€å…³ã€‚æŠ¥é”™æ—¶ä¼šprintå‡ºæ¥å¦åˆ™ä¸ä¼š</span></span><br><span class="line"></span><br><span class="line">activity.setDebug(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">ç›®å½•ä¸‹icon.pngæ›¿æ¢å›¾æ ‡ï¼Œwelcome.pngæ›¿æ¢å¯åŠ¨å›¾ã€‚</span><br><span class="line">æ‰“åŒ…ä½¿ç”¨<span class="built_in">debug</span>ç­¾åã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆè¯†AndroLuaX+</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%88%9D%E8%AF%86AndroLuaX+-2021-11-07%2020:47:01/</url>
    <content><![CDATA[<h1>åˆè¯†AndroLuaX+</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">AndroLuaX+å¯ä»¥åœ¨å®‰å“å¹³å°ä¸Šçš„ç”¨ Lua å¼€å‘å®‰å“ç¨‹åºï¼Œä¸ä»…æ”¯æŒè°ƒç”¨Java APIï¼Œè€Œä¸”æ”¯æŒç¼–å†™å®‰å“ç•Œé¢ç¨‹åºï¼Œè¿˜å¯ä»¥å°†è‡ªå·±å†™çš„ Lua ç¨‹åºæ‰“åŒ…æˆapkå®‰è£…æ–‡ä»¶å®‰è£…ã€‚Lua è¯­è¨€çš„ç®€å•ä½¿æ²¡æœ‰ä»»ä½•ç¼–ç¨‹ç»éªŒçš„ç”¨æˆ·ä¹Ÿèƒ½åœ¨çŸ­æ—¶é—´å†…å¼€å‘å‡ºå®‰å“ç¨‹åºï¼Œå› æ­¤ï¼Œåœ¨å­¦ä¹ luagox+ä¹‹å‰æˆ‘ä»¬éœ€è¦å…ˆå­¦ä¹  Lua è¯­è¨€ã€‚</span><br><span class="line"></span><br><span class="line">å¿«é€Ÿå…¥é—¨</span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span> æ˜¯å¯¼å…¥importæ¨¡å—ï¼Œè¯¥æ¨¡å—é›†æˆäº†å¾ˆå¤šå®ç”¨çš„å‡½æ•°ï¼Œå¯ä»¥å¤§å¹…åº¦å‡è½»å†™ä»£ç è´Ÿæ‹…ï¼Œè¯¦ç»†å‡½æ•°è¯´æ˜å‚è€ƒç¨‹åºå¸®åŠ©ã€‚</span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span> æ˜¯å¯¼å…¥JavaåŒ…ã€‚</span><br><span class="line">è¿™é‡Œå¯¼å…¥äº†androidçš„widgetå’Œviewä¸¤ä¸ªåŒ…ã€‚</span><br><span class="line"></span><br><span class="line">å¯¼å…¥åŒ…åä½¿ç”¨ç±»æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œæ–°å»ºç±»å®ä¾‹å’Œè°ƒç”¨Luaçš„å‡½æ•°ä¸€æ ·ã€‚</span><br><span class="line">æ¯”å¦‚æ–°å»ºä¸€ä¸ªTextView</span><br><span class="line">tv=TextView(activity)</span><br><span class="line">activityè¡¨ç¤ºå½“å‰æ´»åŠ¨çš„contextã€‚</span><br><span class="line">åŒç†æ–°å»ºæŒ‰é’® btn=Button(activity)</span><br><span class="line"></span><br><span class="line">ç»™è§†å›¾è®¾ç½®å±æ€§ä¹Ÿéå¸¸ç®€å•</span><br><span class="line">btn.text=<span class="string">&quot;æŒ‰é’®&quot;</span></span><br><span class="line">btn.backgroundColor=<span class="number">0xff0000ff</span></span><br><span class="line"></span><br><span class="line">æ·»åŠ è§†å›¾äº‹ä»¶å›è°ƒå‡½æ•°</span><br><span class="line">btn.onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  <span class="built_in">print</span>(v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">onClick=lambda v:t.setText(v.text)</span><br><span class="line">å‡½æ•°å‚æ•°væ˜¯è§†å›¾æœ¬èº«ã€‚</span><br><span class="line"></span><br><span class="line">å®‰å“çš„è§†å›¾éœ€è¦æ·»åŠ åˆ°å¸ƒå±€æ‰èƒ½æ˜¾ç¤ºåˆ°æ´»åŠ¨ï¼Œä¸€èˆ¬æˆ‘ä»¬å¸¸ç”¨LinearLayout</span><br><span class="line">layout=LinearLayout(activity)</span><br><span class="line"></span><br><span class="line">ç”¨addViewæ·»åŠ è§†å›¾</span><br><span class="line">layout.addView(btn)</span><br><span class="line"></span><br><span class="line">æœ€åè°ƒç”¨activityçš„setContentViewæ–¹æ³•æ˜¾ç¤ºå†…å®¹</span><br><span class="line">activity.setContentView(layout)</span><br><span class="line">ç”±äºAndroLuaX+åŸºäºandrolua+æ‰€ä»¥è¿™é‡Œæ¼”ç¤ºçš„ä¹Ÿæ˜¯androluaçš„åŸºæœ¬ç”¨æ³•ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªå·¥ç¨‹æ¥å¼€å‘ï¼Œä»£ç çš„ç”¨æ³•æ˜¯ç›¸åŒçš„ï¼Œå…·ä½“ç»†èŠ‚è¯·è¯¦ç»†é˜…è¯»åé¢çš„å†…å®¹ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºç¡€ä»£ç </title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%9F%BA%E7%A1%80%E4%BB%A3%E7%A0%81-2021-11-07%2021:01:02/</url>
    <content><![CDATA[<h1>åŸºç¡€ä»£ç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">activity.setTitle(<span class="string">&#x27;Title&#x27;</span>)<span class="comment">--è®¾ç½®çª—å£æ ‡é¢˜</span></span><br><span class="line">      activity.setContentView(loadlayout(layout))<span class="comment">--è®¾ç½®çª—å£è§†å›¾</span></span><br><span class="line">      activity.setTheme(android.R.style.Theme_DeviceDefault_Light)<span class="comment">--è®¾ç½®ä¸»é¢˜</span></span><br><span class="line">      activity.getWidth()<span class="comment">--è·å–å±å¹•å®½</span></span><br><span class="line">      activity.getHeight()<span class="comment">--è·å–å±å¹•é«˜</span></span><br><span class="line">      activity.newActivity(<span class="string">&quot;main&quot;</span>)<span class="comment">--è·³è½¬é¡µé¢</span></span><br><span class="line">      activity.finish()<span class="comment">--å…³é—­å½“å‰é¡µé¢</span></span><br><span class="line">      activity.recreate()<span class="comment">--é‡æ„activity</span></span><br><span class="line">      <span class="built_in">os</span>.<span class="built_in">exit</span>()<span class="comment">--ç»“æŸç¨‹åº</span></span><br><span class="line">      <span class="built_in">tostring</span>()<span class="comment">--è½¬æ¢å­—ç¬¦ä¸²</span></span><br><span class="line">      <span class="built_in">tonumber</span>()<span class="comment">--è½¬æ¢æ•°å­—</span></span><br><span class="line">      tointeger()<span class="comment">--è½¬æ¢æ•´æ•°</span></span><br><span class="line">      <span class="comment">--çº¿ç¨‹</span></span><br><span class="line">      <span class="comment">--thread</span></span><br><span class="line">      thread(<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span><span class="string">&quot;çº¿ç¨‹&quot;</span><span class="keyword">end</span>)</span><br><span class="line">      <span class="comment">--task</span></span><br><span class="line">      task(<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span><span class="string">&quot;çº¿ç¨‹&quot;</span><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%AD%97%E7%AC%A6%E4%B8%B2-2021-11-07%2021:00:24/</url>
    <content><![CDATA[<h1>å­—ç¬¦ä¸²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">a=<span class="string">&quot;String&quot;</span></span><br><span class="line">a=<span class="string">[[String]]</span></span><br><span class="line">a=<span class="string">[===[String]===]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸ƒå±€å°è£…å‡½æ•°åº“</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%B8%83%E5%B1%80%E5%B0%81%E8%A3%85%E5%87%BD%E6%95%B0%E5%BA%93-2021-11-07%2021:02:43/</url>
    <content><![CDATA[<h1>å¸ƒå±€å°è£…å‡½æ•°åº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import<span class="string">&quot;Layout_of_packaging_function_library&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨æ–¹æ³•:</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"> ScrollView,<span class="comment">--çºµå‘æ»‘åŠ¨æ§ä»¶</span></span><br><span class="line"> layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line"> layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line"> overScrollMode=View.OVER_SCROLL_NEVER,<span class="comment">--éšè—åœ†å¼§é˜´å½±</span></span><br><span class="line"> verticalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—çºµå‘æ»‘æ¡</span></span><br><span class="line"> &#123;</span><br><span class="line">  LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  <span class="comment">-- orientation=æ¨ª;</span></span><br><span class="line">  <span class="comment">-- layout_width=ç½¢,--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  <span class="comment">-- orientation=&quot;horizontal&quot;,--æ°´å¹³æ–¹å‘</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  çº½æ‰£æ§ä»¶(ID,<span class="string">&quot;300dp&quot;</span>,<span class="string">&quot;300dp&quot;</span>);</span><br><span class="line">  çº½æ‰£æ§ä»¶(ID,<span class="string">&quot;300dp&quot;</span>,<span class="string">&quot;300dp&quot;</span>);</span><br><span class="line">  çº½æ‰£æ§ä»¶(ID,<span class="string">&quot;300dp&quot;</span>,<span class="string">&quot;300dp&quot;</span>);</span><br><span class="line">  çº½æ‰£æ§ä»¶(ID,<span class="string">&quot;300dp&quot;</span>,<span class="string">&quot;300dp&quot;</span>);</span><br><span class="line">  çº½æ‰£æ§ä»¶(ID,<span class="string">&quot;300dp&quot;</span>,<span class="string">&quot;300dp&quot;</span>);</span><br><span class="line">  æµè§ˆå™¨æ§ä»¶(ID,å®½,é«˜,<span class="string">&quot;https://support.qq.com/embed/phone/312401?&quot;</span>,UA,JS,èƒŒæ™¯);</span><br><span class="line">  å¡ç‰‡åœ†è§’å¸ƒå±€();</span><br><span class="line">  æŒ‰é’®æ§ä»¶();</span><br><span class="line">  <span class="comment">--çº½æ‰£æ§ä»¶(å®½,é«˜,çº½æ‰£åç§°,èƒŒæ™¯,å¡«å……);</span></span><br><span class="line">  <span class="comment">--çº½æ‰£æ§ä»¶(&quot;300dp&quot;,&quot;300dp&quot;);</span></span><br><span class="line">  <span class="comment">-- çº½æ‰£æ§ä»¶(&quot;300dp&quot;,&quot;300dp&quot;);</span></span><br><span class="line">  <span class="comment">-- çº½æ‰£æ§ä»¶(&quot;300dp&quot;,&quot;300dp&quot;);</span></span><br><span class="line">  <span class="comment">-- çº½æ‰£æ§ä»¶(&quot;300dp&quot;,&quot;300dp&quot;);</span></span><br><span class="line">  å¡ç‰‡æ§ä»¶å¸ƒå±€(<span class="string">&quot;xiuluo1&quot;</span>,<span class="string">&quot;æµè§ˆå™¨&quot;</span>,<span class="string">&quot;å¤šä¸ªå¼•æ“æœç´¢&quot;</span>,<span class="string">&quot;icon.png&quot;</span>),</span><br><span class="line"></span><br><span class="line"> &#125;;<span class="comment">--çº¿æ€§å¸ƒå±€ç»“æŸ!</span></span><br><span class="line"></span><br><span class="line">&#125;;<span class="comment">--çºµå‘æ»‘åŠ¨æ§ä»¶ç»“æŸ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> çº½æ‰£æ§ä»¶<span class="params">(ID,å®½,é«˜,çº½æ‰£åç§°,èƒŒæ™¯,å¡«å……,æ°”æ³¡æç¤º,ç©ºæ˜¾ç¤º)</span></span></span><br><span class="line"> <span class="keyword">return</span>&#123;</span><br><span class="line">  Button,<span class="comment">--çº½æ‰£æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  padding=å¡«å……,<span class="comment">--å¸ƒå±€å¡«å……</span></span><br><span class="line">  <span class="built_in">error</span>=æ°”æ³¡æç¤º,<span class="comment">--æ°”æ³¡æç¤º</span></span><br><span class="line">  text=çº½æ‰£åç§°,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  hint=ç©ºæ˜¾ç¤º<span class="comment">--å†…å®¹ä¸ºç©ºæ—¶æ˜¾ç¤º</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¸§å¸ƒå±€<span class="params">(ID,å®½,é«˜,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span>&#123;</span><br><span class="line">  FrameLayout,<span class="comment">--å¸§å¸ƒå±€</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;<span class="comment">--å¸§å¸ƒå±€ç»“æŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç›¸å¯¹å¸ƒå±€<span class="params">(ID,å®½,é«˜,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  RelativeLayout,<span class="comment">--ç›¸å¯¹å¸ƒå±€</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;<span class="comment">--ç›¸å¯¹å¸ƒå±€ç»“æŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç»å¯¹å¸ƒå±€<span class="params">(ID,å®½,é«˜,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  AbsoluteLayout,<span class="comment">--ç»å¯¹å¸ƒå±€</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;<span class="comment">--ç»å¯¹å¸ƒå±€ç»“æŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¡¨æ ¼å¸ƒå±€<span class="params">(ID,å®½,é«˜,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  TableLayout,<span class="comment">--è¡¨æ ¼å¸ƒå±€</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;<span class="comment">--è¡¨æ ¼å¸ƒå±€ç»“æŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ–‡æœ¬æ¡†æ§ä»¶<span class="params">(ID,å®½,é«˜,å†…å®¹,å¤§å°,é¢œè‰²,èƒŒæ™¯,ç©ºæ˜¾ç¤º,æ°”æ³¡æç¤º)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  TextView,<span class="comment">--æ–‡æœ¬æ¡†æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  text=å†…å®¹,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  textSize=å¤§å°,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  textColor=é¢œè‰²,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">  hint=ç©ºæ˜¾ç¤º,<span class="comment">--å†…å®¹ä¸ºç©ºæ—¶æ˜¾ç¤º</span></span><br><span class="line">  <span class="built_in">error</span>=æ°”æ³¡æç¤º,<span class="comment">--æ°”æ³¡æç¤º</span></span><br><span class="line">  <span class="comment">--singleLine=true,--ç¦æ­¢æ¢è¡Œè¾“å…¥</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å›¾ç‰‡æ¡†æ§ä»¶<span class="params">(ID,å®½,é«˜,å›¾ç‰‡,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  ImageView,<span class="comment">--å›¾ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  src=å›¾ç‰‡,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åœ†å½¢å›¾ç‰‡æ§ä»¶<span class="params">(ID,å®½,é«˜,å›¾ç‰‡,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  CircleImageView,<span class="comment">--åœ†å½¢å›¾ç‰‡æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  src=å›¾ç‰‡,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¡ç‰‡æ¡†æ§ä»¶<span class="params">(ID,å®½,é«˜,èƒŒæ™¯,æå‡,å¡ç‰‡è‰²,åœ†è§’)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  CardView,<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  cardElevation=æå‡,<span class="comment">--å¡ç‰‡æå‡</span></span><br><span class="line">  cardBackgroundColor=å¡ç‰‡èƒŒæ™¯è‰²,<span class="comment">--å¡ç‰‡èƒŒæ™¯è‰²</span></span><br><span class="line">  radius=åœ†è§’,<span class="comment">--åœ†è§’åŠå¾„</span></span><br><span class="line"> &#125;;<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶ç»“æŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç¼–è¾‘æ¡†æ§ä»¶<span class="params">(ID,å®½,é«˜,å†…å®¹,å¤§å°,èƒŒæ™¯,ç©ºæ˜¾ç¤º,æ°”æ³¡æç¤º)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  EditText,<span class="comment">--ç¼–è¾‘æ¡†æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  text=å†…å®¹,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  textSize=å¤§å°,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  hint=ç©ºæ˜¾ç¤º,<span class="comment">--å†…å®¹ä¸ºç©ºæ—¶æ˜¾ç¤º</span></span><br><span class="line">  <span class="built_in">error</span>=æ°”æ³¡æç¤º,<span class="comment">--æ°”æ³¡æç¤º</span></span><br><span class="line">  <span class="comment">--singleLine=true,--ç¦æ­¢æ¢è¡Œè¾“å…¥</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æµè§ˆå™¨æ§ä»¶<span class="params">(ID,å®½,é«˜,url,UA,JS,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  LuaWebView,<span class="comment">--æµè§ˆå™¨æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  UA=ua,</span><br><span class="line">  JS=js,</span><br><span class="line">  url=url,</span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è§†é¢‘æ§ä»¶<span class="params">(ID,å®½,é«˜,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  VideoView,<span class="comment">--è§†é¢‘æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;<span class="comment">--è§†é¢‘æ§ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ°´å¹³åˆ†å‰²çº¿<span class="params">(ID,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  TextView,<span class="comment">--æ°´å¹³åˆ†å‰²çº¿</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;1px&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‚ç›´åˆ†å‰²çº¿<span class="params">(ID,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  TextView,<span class="comment">--å‚ç›´åˆ†å‰²çº¿</span></span><br><span class="line">  layout_width=<span class="string">&quot;1px&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¤é€‰æ¡†æ§ä»¶<span class="params">(ID,å®½,é«˜,å†…å®¹,èƒŒæ™¯,é€‰ä¸­)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  CheckBox,<span class="comment">--å¤é€‰æ¡†æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  text=å†…å®¹,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  checked=é€‰ä¸­,<span class="comment">--æ˜¯å¦é€‰ä¸­</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¼€å…³æ§ä»¶<span class="params">(ID,æœ€å°å®½åº¦,ç©ºç™½è·ç¦»,å†…å®¹,å¤§å°,é¢œè‰²,å¼€å¯æ—¶æ–‡å­—,å…³é—­æ—¶æ–‡å­—)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  Switch,<span class="comment">--å¼€å…³æ§ä»¶</span></span><br><span class="line">  switchMinWidth=æœ€å°å®½åº¦,<span class="comment">--å¼€å…³æœ€å°å®½åº¦</span></span><br><span class="line">  switchPadding=ç©ºç™½è·ç¦»,<span class="comment">--è®¾ç½®å¼€å…³ä¸æ–‡å­—çš„ç©ºç™½è·ç¦»</span></span><br><span class="line">  text=å†…å®¹,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  textSize=å¤§å°,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  textColor=é¢œè‰²,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">  textOff=å¼€å¯æ—¶æ–‡å­—,<span class="comment">--è®¾ç½®å¼€å…³checkedçš„æ–‡å­—</span></span><br><span class="line">  textOn=å…³é—­æ—¶æ–‡å­—,<span class="comment">--è®¾ç½®å¼€å…³å…³é—­æ—¶çš„æ–‡å­—Â Â </span></span><br><span class="line">  showText=<span class="literal">true</span>,<span class="comment">--è®¾ç½®æ˜¯å¦æ˜¾ç¤ºå¼€å…³ä¸Šçš„æ–‡å­—ï¼ˆAPI21åŠä»¥ä¸Šï¼‰</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Lua</span>ç¼–è¾‘æ§ä»¶<span class="params">(ID,å®½,é«˜,èƒŒæ™¯,é‡åŠ›åˆ†é…)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  LuaEditor,<span class="comment">--luaç¼–è¾‘æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_weight=é‡åŠ›åˆ†é…,<span class="comment">--é‡åŠ›åˆ†é…</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å›¾ç‰‡æŒ‰é’®æ§ä»¶<span class="params">(ID,å®½,é«˜,å›¾ç‰‡,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  ImageButton,<span class="comment">--å›¾ç‰‡æŒ‰é’®æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  src=å›¾ç‰‡,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æŒ‰é’®æ§ä»¶<span class="params">(ID,å®½,é«˜,èƒŒæ™¯)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  ToggleButton,<span class="comment">--æŒ‰é’®æ§ä»¶</span></span><br><span class="line">  id=ID,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  layout_width=å®½,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=é«˜,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=èƒŒæ™¯,<span class="comment">--å¸ƒå±€èƒŒæ™¯</span></span><br><span class="line"> &#125;;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¡ç‰‡æ§ä»¶å¸ƒå±€<span class="params">(æ§ä»¶,åœ†è§’,æ–‡æœ¬1,æ–‡æœ¬2,å›¾æ ‡)</span></span></span><br><span class="line"> <span class="keyword">return</span> &#123;</span><br><span class="line">  CardView,<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;60dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_margin=<span class="string">&quot;5dp&quot;</span>,<span class="comment">--å¸ƒå±€è¾¹è·</span></span><br><span class="line">  cardElevation=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¡ç‰‡æå‡</span></span><br><span class="line">  radius=åœ†è§’;</span><br><span class="line">  &#123;</span><br><span class="line">   LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">   orientation=<span class="string">&quot;horizontal&quot;</span>,<span class="comment">--æ°´å¹³æ–¹å‘</span></span><br><span class="line">   layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">   layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">   gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">   id=æ§ä»¶,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">   &#123;</span><br><span class="line">    LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">    layout_weight=<span class="string">&quot;1&quot;</span>,<span class="comment">--é‡åŠ›åˆ†é…</span></span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">    gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">    &#123;</span><br><span class="line">     TextView,<span class="comment">--æ–‡æœ¬æ¡†æ§ä»¶</span></span><br><span class="line">     gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">     text=æ–‡æœ¬<span class="number">1</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">     textSize=<span class="string">&quot;13sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">     textColor=<span class="string">&quot;#fffde48a&quot;</span>,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">     TextView,<span class="comment">--æ–‡æœ¬æ¡†æ§ä»¶</span></span><br><span class="line">     gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">     text=æ–‡æœ¬<span class="number">2</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">     textSize=<span class="string">&quot;11sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">     textColor=<span class="string">&quot;#fffde48a&quot;</span>,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">    &#125;,</span><br><span class="line">   &#125;,<span class="comment">--çº¿æ€§å¸ƒå±€ ç»“æŸ</span></span><br><span class="line">   &#123;</span><br><span class="line">    TextView,<span class="comment">--å‚ç›´åˆ†å‰²çº¿</span></span><br><span class="line">    layout_width=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">    layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--ç‹¬ç«‹é‡åŠ›å±…ä¸­</span></span><br><span class="line">    backgroundColor=<span class="string">&quot;#fffde48a&quot;</span>,<span class="comment">--èƒŒæ™¯è‰²</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">    ImageView,<span class="comment">--å›¾ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">    layout_width=<span class="string">&quot;56dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;36dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">    src=å›¾æ ‡,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line">    <span class="comment">--colorFilter=&quot;#333333&quot;,--å›¾ç‰‡é¢œè‰²</span></span><br><span class="line">   &#125;,</span><br><span class="line">  &#125;,<span class="comment">--çº¿æ€§å¸ƒå±€ ç»“æŸ</span></span><br><span class="line"> &#125;<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶ ç»“æŸ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸ƒå±€è¡¨å­—ç¬¦ä¸²å¸¸é‡</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E5%B8%83%E5%B1%80%E8%A1%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F-2021-11-07%2020:59:32/</url>
    <content><![CDATA[<h1>å¸ƒå±€è¡¨å­—ç¬¦ä¸²å¸¸é‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">å¸ƒå±€è¡¨æ”¯æŒå±æ€§å­—ç¬¦ä¸²å¸¸é‡</span><br><span class="line"><span class="comment">-- android:drawingCacheQuality</span></span><br><span class="line">auto=<span class="number">0</span>,</span><br><span class="line">low=<span class="number">1</span>,</span><br><span class="line">high=<span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:importantForAccessibility</span></span><br><span class="line">auto=<span class="number">0</span>,</span><br><span class="line">yes=<span class="number">1</span>,</span><br><span class="line">no=<span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:layerType</span></span><br><span class="line">none=<span class="number">0</span>,</span><br><span class="line">software=<span class="number">1</span>,</span><br><span class="line">hardware=<span class="number">2</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:layoutDirection</span></span><br><span class="line">ltr=<span class="number">0</span>,</span><br><span class="line">rtl=<span class="number">1</span>,</span><br><span class="line">inherit=<span class="number">2</span>,</span><br><span class="line">locale=<span class="number">3</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:scrollbarStyle</span></span><br><span class="line">insideOverlay=<span class="number">0x0</span>,</span><br><span class="line">insideInset=<span class="number">0x01000000</span>,</span><br><span class="line">outsideOverlay=<span class="number">0x02000000</span>,</span><br><span class="line">outsideInset=<span class="number">0x03000000</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:visibility</span></span><br><span class="line">visible=<span class="number">0</span>,</span><br><span class="line">invisible=<span class="number">1</span>,</span><br><span class="line">gone=<span class="number">2</span>,</span><br><span class="line"></span><br><span class="line">wrap_content=<span class="number">-2</span>,</span><br><span class="line">fill_parent=<span class="number">-1</span>,</span><br><span class="line">match_parent=<span class="number">-1</span>,</span><br><span class="line"><span class="built_in">wrap</span>=<span class="number">-2</span>,</span><br><span class="line">fill=<span class="number">-1</span>,</span><br><span class="line"><span class="built_in">match</span>=<span class="number">-1</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:orientation</span></span><br><span class="line">vertical=<span class="number">1</span>,</span><br><span class="line">horizontal= <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:gravity</span></span><br><span class="line">axis_clip = <span class="number">8</span>,</span><br><span class="line">axis_pull_after = <span class="number">4</span>,</span><br><span class="line">axis_pull_before = <span class="number">2</span>,</span><br><span class="line">axis_specified = <span class="number">1</span>,</span><br><span class="line">axis_x_shift = <span class="number">0</span>,</span><br><span class="line">axis_y_shift = <span class="number">4</span>,</span><br><span class="line">bottom = <span class="number">80</span>,</span><br><span class="line">center = <span class="number">17</span>,</span><br><span class="line">center_horizontal = <span class="number">1</span>,</span><br><span class="line">center_vertical = <span class="number">16</span>,</span><br><span class="line">clip_horizontal = <span class="number">8</span>,</span><br><span class="line">clip_vertical = <span class="number">128</span>,</span><br><span class="line">display_clip_horizontal = <span class="number">16777216</span>,</span><br><span class="line">display_clip_vertical = <span class="number">268435456</span>,</span><br><span class="line"><span class="comment">--fill = 119,</span></span><br><span class="line">fill_horizontal = <span class="number">7</span>,</span><br><span class="line">fill_vertical = <span class="number">112</span>,</span><br><span class="line">horizontal_gravity_mask = <span class="number">7</span>,</span><br><span class="line">left = <span class="number">3</span>,</span><br><span class="line">no_gravity = <span class="number">0</span>,</span><br><span class="line">relative_horizontal_gravity_mask = <span class="number">8388615</span>,</span><br><span class="line">relative_layout_direction = <span class="number">8388608</span>,</span><br><span class="line">right = <span class="number">5</span>,</span><br><span class="line">start = <span class="number">8388611</span>,</span><br><span class="line">top = <span class="number">48</span>,</span><br><span class="line">vertical_gravity_mask = <span class="number">112</span>,</span><br><span class="line"><span class="keyword">end</span> = <span class="number">8388613</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:textAlignment</span></span><br><span class="line">inherit=<span class="number">0</span>,</span><br><span class="line">gravity=<span class="number">1</span>,</span><br><span class="line">textStart=<span class="number">2</span>,</span><br><span class="line">textEnd=<span class="number">3</span>,</span><br><span class="line">textCenter=<span class="number">4</span>,</span><br><span class="line">viewStart=<span class="number">5</span>,</span><br><span class="line">viewEnd=<span class="number">6</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">-- android:inputType</span></span><br><span class="line">none=<span class="number">0x00000000</span>,</span><br><span class="line">text=<span class="number">0x00000001</span>,</span><br><span class="line">textCapCharacters=<span class="number">0x00001001</span>,</span><br><span class="line">textCapWords=<span class="number">0x00002001</span>,</span><br><span class="line">textCapSentences=<span class="number">0x00004001</span>,</span><br><span class="line">textAutoCorrect=<span class="number">0x00008001</span>,</span><br><span class="line">textAutoComplete=<span class="number">0x00010001</span>,</span><br><span class="line">textMultiLine=<span class="number">0x00020001</span>,</span><br><span class="line">textImeMultiLine=<span class="number">0x00040001</span>,</span><br><span class="line">textNoSuggestions=<span class="number">0x00080001</span>,</span><br><span class="line">textUri=<span class="number">0x00000011</span>,</span><br><span class="line">textEmailAddress=<span class="number">0x00000021</span>,</span><br><span class="line">textEmailSubject=<span class="number">0x00000031</span>,</span><br><span class="line">textShortMessage=<span class="number">0x00000041</span>,</span><br><span class="line">textLongMessage=<span class="number">0x00000051</span>,</span><br><span class="line">textPersonName=<span class="number">0x00000061</span>,</span><br><span class="line">textPostalAddress=<span class="number">0x00000071</span>,</span><br><span class="line">textPassword=<span class="number">0x00000081</span>,</span><br><span class="line">textVisiblePassword=<span class="number">0x00000091</span>,</span><br><span class="line">textWebEditText=<span class="number">0x000000a1</span>,</span><br><span class="line">textFilter=<span class="number">0x000000b1</span>,</span><br><span class="line">textPhonetic=<span class="number">0x000000c1</span>,</span><br><span class="line">textWebEmailAddress=<span class="number">0x000000d1</span>,</span><br><span class="line">textWebPassword=<span class="number">0x000000e1</span>,</span><br><span class="line">number=<span class="number">0x00000002</span>,</span><br><span class="line">numberSigned=<span class="number">0x00001002</span>,</span><br><span class="line">numberDecimal=<span class="number">0x00002002</span>,</span><br><span class="line">numberPassword=<span class="number">0x00000012</span>,</span><br><span class="line">phone=<span class="number">0x00000003</span>,</span><br><span class="line">datetime=<span class="number">0x00000004</span>,</span><br><span class="line"><span class="built_in">date</span>=<span class="number">0x00000014</span>,</span><br><span class="line"><span class="built_in">time</span>=<span class="number">0x00000024</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">--android:imeOptions</span></span><br><span class="line">normal=<span class="number">0x00000000</span>,</span><br><span class="line">actionUnspecified=<span class="number">0x00000000</span>,</span><br><span class="line">actionNone=<span class="number">0x00000001</span>,</span><br><span class="line">actionGo=<span class="number">0x00000002</span>,</span><br><span class="line">actionSearch=<span class="number">0x00000003</span>,</span><br><span class="line">actionSend=<span class="number">0x00000004</span>,</span><br><span class="line">actionNext=<span class="number">0x00000005</span>,</span><br><span class="line">actionDone=<span class="number">0x00000006</span>,</span><br><span class="line">actionPrevious=<span class="number">0x00000007</span>,</span><br><span class="line">flagNoFullscreen=<span class="number">0x2000000</span>,</span><br><span class="line">flagNavigatePrevious=<span class="number">0x4000000</span>,</span><br><span class="line">flagNavigateNext=<span class="number">0x8000000</span>,</span><br><span class="line">flagNoExtractUi=<span class="number">0x10000000</span>,</span><br><span class="line">flagNoAccessoryAction=<span class="number">0x20000000</span>,</span><br><span class="line">flagNoEnterAction=<span class="number">0x40000000</span>,</span><br><span class="line">flagForceAscii=<span class="number">0x80000000</span>,</span><br><span class="line"></span><br><span class="line"><span class="comment">--android:ellipsize</span></span><br><span class="line"><span class="keyword">end</span>ã€€ã€€</span><br><span class="line">start ã€€ã€€</span><br><span class="line">middle</span><br><span class="line">marquee</span><br><span class="line"></span><br><span class="line">ç›¸å¯¹å¸ƒå±€rule</span><br><span class="line">layout_above=<span class="number">2</span>,</span><br><span class="line">layout_alignBaseline=<span class="number">4</span>,</span><br><span class="line">layout_alignBottom=<span class="number">8</span>,</span><br><span class="line">layout_alignEnd=<span class="number">19</span>,</span><br><span class="line">layout_alignLeft=<span class="number">5</span>,</span><br><span class="line">layout_alignParentBottom=<span class="number">12</span>,</span><br><span class="line">layout_alignParentEnd=<span class="number">21</span>,</span><br><span class="line">layout_alignParentLeft=<span class="number">9</span>,</span><br><span class="line">layout_alignParentRight=<span class="number">11</span>,</span><br><span class="line">layout_alignParentStart=<span class="number">20</span>,</span><br><span class="line">layout_alignParentTop=<span class="number">10</span>,</span><br><span class="line">layout_alignRight=<span class="number">7</span>,</span><br><span class="line">layout_alignStart=<span class="number">18</span>,</span><br><span class="line">layout_alignTop=<span class="number">6</span>,</span><br><span class="line">layout_alignWithParentIfMissing=<span class="number">0</span>,</span><br><span class="line">layout_below=<span class="number">3</span>,</span><br><span class="line">layout_centerHorizontal=<span class="number">14</span>,</span><br><span class="line">layout_centerInParent=<span class="number">13</span>,</span><br><span class="line">layout_centerVertical=<span class="number">15</span>,</span><br><span class="line">layout_toEndOf=<span class="number">17</span>,</span><br><span class="line">layout_toLeftOf=<span class="number">0</span>,</span><br><span class="line">layout_toRightOf=<span class="number">1</span>,</span><br><span class="line">layout_toStartOf=<span class="number">16</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å°ºå¯¸å•ä½</span><br><span class="line">px=<span class="number">0</span>,</span><br><span class="line">dp=<span class="number">1</span>,</span><br><span class="line">sp=<span class="number">2</span>,</span><br><span class="line">pt=<span class="number">3</span>,</span><br><span class="line"><span class="keyword">in</span>=<span class="number">4</span>,</span><br><span class="line">mm=<span class="number">5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰“å°</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E6%89%93%E5%8D%B0-2021-11-07%2020:59:52/</url>
    <content><![CDATA[<h1>æ‰“å°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span><span class="string">&quot;Hello Worldï¼&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ¥é”™æ‰§è¡Œ</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E6%8A%A5%E9%94%99%E6%89%A7%E8%A1%8C-2021-11-07%2021:00:44/</url>
    <content><![CDATA[<h1>æŠ¥é”™æ‰§è¡Œ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--pcallä»¥ä¸€ç§&quot;ä¿æŠ¤æ¨¡å¼&quot;æ¥è°ƒç”¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå› æ­¤pcallå¯ä»¥æ•è·å‡½æ•°æ‰§è¡Œä¸­çš„ä»»ä½•é”™è¯¯ã€‚</span></span><br><span class="line">      <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line">      <span class="comment">--é€šå¸¸åœ¨é”™è¯¯å‘ç”Ÿæ—¶ï¼Œå¸Œæœ›è½å¾—æ›´å¤šçš„è°ƒè¯•ä¿¡æ¯ï¼Œè€Œä¸åªæ˜¯å‘ç”Ÿé”™è¯¯çš„ä½ç½®ã€‚ä½†pcallè¿”å›æ—¶ï¼Œå®ƒå·²ç»é”€æ¯äº†è°ƒç”¨æ¡Ÿçš„éƒ¨åˆ†å†…å®¹ã€‚</span></span><br><span class="line">      <span class="comment">--Luaæä¾›äº†xpcallå‡½æ•°ï¼Œxpcallæ¥æ”¶ç¬¬äºŒä¸ªå‚æ•°â€”â€”ä¸€ä¸ªé”™è¯¯å¤„ç†å‡½æ•°ï¼Œå½“é”™è¯¯å‘ç”Ÿæ—¶ï¼ŒLuaä¼šåœ¨è°ƒç”¨æ¡Ÿå±•çœ‹ï¼ˆunwindï¼‰å‰è°ƒç”¨é”™è¯¯å¤„ç†å‡½æ•°ï¼Œäºæ˜¯å°±å¯ä»¥åœ¨è¿™ä¸ªå‡½æ•°ä¸­ä½¿ç”¨debugåº“æ¥è·å–å…³äºé”™è¯¯çš„é¢å¤–ä¿¡æ¯äº†ã€‚</span></span><br><span class="line">      <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">--print(&quot;æ­£å¸¸&quot;)</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">end</span>,</span><br><span class="line">      <span class="function"><span class="keyword">function</span><span class="params">(error)</span></span></span><br><span class="line">        <span class="comment">--print(&quot;é”™è¯¯&quot;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">--æ™®é€šå¯¹è¯æ¡†</span></span><br><span class="line">        AlertDialog.Builder(this)</span><br><span class="line">        .setTitle(<span class="string">&quot;ä»£ç æ‰§è¡Œé”™è¯¯Î£(à¹‘Âºã‰¨Âºà¹‘ )&quot;</span>)</span><br><span class="line">        .setMessage(<span class="string">&quot;ä»£ç å‡ºé”™è·¯å¾„:&quot;</span>..<span class="built_in">error</span>)</span><br><span class="line">        .setPositiveButton(<span class="string">&quot;æˆªå›¾å‘é€bug&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">          <span class="keyword">end</span>&#125;)</span><br><span class="line">        .setNeutralButton(<span class="string">&quot;ä¸ç®¡å®ƒ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">        .setNegativeButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">        .show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ³¨é‡Š</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E6%B3%A8%E9%87%8A-2021-11-07%2021:00:07/</url>
    <content><![CDATA[<h1>æ³¨é‡Š</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">å•è¡Œæ³¨é‡Š <span class="comment">--</span></span><br><span class="line">å¤šè¡Œæ³¨é‡Š <span class="comment">--[[]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸€ä¸ªLuaç¨‹åº</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E7%AC%AC%E4%B8%80%E4%B8%AALua%E7%A8%8B%E5%BA%8F-2021-11-07%2020:47:59/</url>
    <content><![CDATA[<h1>ç¬¬ä¸€ä¸ªLuaç¨‹åº</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ Lua æ¥è¾“å‡º<span class="string">&quot;Hello World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World&quot;</span>)</span><br><span class="line"></span><br><span class="line">è¿è¡Œåï¼Œä¼šåœ¨å±å¹•ä¸Šæ˜¾ç¤º Hello world</span><br><span class="line"></span><br><span class="line">å…¶ä»–<span class="built_in">print</span>ç±»å‹</span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">print_error(&quot;Error!&quot;)</span></span><br><span class="line"><span class="comment">print_assert(&quot;Assert!&quot;)</span></span><br><span class="line"><span class="comment">print_verbose(&quot;verbose!&quot;)</span></span><br><span class="line"><span class="comment">print_info(&quot;info!&quot;)</span></span><br><span class="line"><span class="comment">print_warning(&quot;warning!&quot;)</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>èµ‹å€¼</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E8%B5%8B%E5%80%BC-2021-11-07%2021:01:32/</url>
    <content><![CDATA[<h1>èµ‹å€¼</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">a=<span class="string">&quot;Hello World&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--luaæ”¯æŒå¤šé‡èµ‹å€¼</span></span><br><span class="line">a,b=<span class="string">&quot;String a&quot;</span>,<span class="string">&quot;String b&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--äº¤æ¢å€¼</span></span><br><span class="line">a,b=<span class="string">&quot;String a&quot;</span>,<span class="string">&quot;String b&quot;</span></span><br><span class="line">a,b=b,a</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è½¯ä»¶åŸºæœ¬æ“ä½œ</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E8%BD%AF%E4%BB%B6%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C-2021-11-07%2020:45:50/</url>
    <content><![CDATA[<h1>è½¯ä»¶åŸºæœ¬æ“ä½œ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">é¡¹ç›®ç»“æ„</span><br><span class="line">init.lua é¡¹ç›®é…ç½®æ–‡ä»¶</span><br><span class="line">main,lua é¡¹ç›®ä¸»å…¥å£æ–‡ä»¶</span><br><span class="line">layout.aly é¡¹ç›®é»˜è®¤åˆ›å»ºçš„å¸ƒå±€æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">åŸºæœ¬åŠŸèƒ½</span><br><span class="line">å·¦ç®­å¤´ æ’¤é”€ï¼šæ’¤é”€è¾“å…¥çš„å†…å®¹</span><br><span class="line">ä¿å­˜ï¼šä¿å­˜å½“å‰æ–‡ä»¶</span><br><span class="line">æ–°å»ºï¼šæ–°å»ºluaä»£ç æ–‡ä»¶æˆ–è€…alyå¸ƒå±€æ–‡ä»¶ï¼Œä»£ç æ–‡ä»¶ä¸å¸ƒå±€æ–‡ä»¶æ–‡ä»¶åä¸å¯ä»¥ç›¸åŒ</span><br><span class="line">é‡å‘½å:é•¿æŒ‰ä¾§æ»‘é¡¹ç›®åˆ—è¡¨ï¼Œé‡å‘½åæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹åç§°</span><br><span class="line">å¤åˆ¶æ–‡ä»¶:å¯ä»¥æŠŠæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å¤åˆ¶åˆ°åˆ«çš„æ–‡ä»¶å¤¹ä¸‹</span><br><span class="line">è°ƒç”¨å…¶å®ƒç¨‹åºæ‰“å¼€:é¡¾åæ€ä¹‰</span><br><span class="line">ä»¥æ–‡æœ¬æ–¹å¼å¼ºåˆ¶æ‰“å¼€:é¡¾åæ€ä¹‰</span><br><span class="line">åˆ›å»ºå­é¡µé¢:ç”±ä½œè€…å°è£…çš„å¸ƒå±€æ¨¡æ¿</span><br><span class="line">åˆ é™¤æ–‡ä»¶:è¯·è°¨æ…åˆ é™¤ï¼Œåˆ é™¤åä¸å¯æ¢å¤</span><br><span class="line">ç¼–è¯‘ï¼šæŠŠå½“å‰æ–‡ä»¶ç¼–è¯‘ä¸ºluacæ–‡ä»¶ï¼Œé€šå¸¸ç”¨ä¸åˆ°</span><br><span class="line">ç‚¹å‡»å·¥ç¨‹æ ‡é¢˜ï¼šæ‰“å¼€ä¾§æ»‘é¡¹ç›®åˆ—è¡¨</span><br><span class="line">æ‰“åŒ…ï¼šå°†å½“å‰é¡¹ç›®ç¼–è¯‘ä¸ºapkï¼Œé»˜è®¤ä½¿ç”¨<span class="built_in">debug</span>ç­¾å</span><br><span class="line">æ–°å»ºï¼šæ–°å»ºä¸€ä¸ªé¡¹ç›®</span><br><span class="line">å¯¼å‡ºï¼šå°†å½“å‰é¡¹ç›®å¤‡ä»½åˆ°AndroLua/exportæ–‡ä»¶å¤¹</span><br><span class="line">å±æ€§ï¼šç¼–è¾‘å½“å‰é¡¹ç›®çš„å±æ€§ï¼Œå¦‚ åç§° æƒé™ç­‰</span><br><span class="line">æ ¼å¼åŒ–ï¼šé‡æ–°ç¼©è¿›å½“å‰æ–‡ä»¶ä½¿å…¶æ›´åŠ ä¾¿äºé˜…è¯»</span><br><span class="line">å¯¼å…¥åˆ†æï¼šåˆ†æå½“å‰æ–‡ä»¶åŠå¼•ç”¨æ–‡ä»¶éœ€è¦å¯¼å…¥çš„javaç±»</span><br><span class="line">æŸ¥é”™ï¼šæ£€æŸ¥å½“å‰æ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯</span><br><span class="line">å¸ƒå±€åŠ©æ‰‹ï¼šåœ¨ç¼–è¾‘å™¨æ‰“å¼€alyæ–‡ä»¶æ—¶ç”¨äºè®¾è®¡å¸ƒå±€ï¼Œç›®å‰åŠŸèƒ½å°šä¸å®Œå–„</span><br><span class="line">æ—¥å¿—ï¼šæŸ¥çœ‹ç¨‹åºè¿è¡Œæ—¶çš„æ—¥å¿—</span><br><span class="line">javaæµè§ˆå™¨ï¼šç”¨äºæŸ¥çœ‹javaç±»çš„æ–¹æ³•</span><br><span class="line">æ‰‹å†Œï¼šç¦»çº¿ç‰ˆluaå®˜æ–¹æ‰‹å†Œ</span><br><span class="line"></span><br><span class="line">ç½‘ç»œå›¾ç‰‡ç¼“å­˜è·¯å¾„=<span class="string">&quot;/storage/emulated/0/AndroLua/cache/&quot;</span></span><br><span class="line"></span><br><span class="line">å®‰è£…åŒ…è·¯å¾„=<span class="string">&quot;/storage/emulated/0/AndroLua/apk/&quot;</span></span><br><span class="line"></span><br><span class="line">è‡ªå®šä¹‰ç­¾åå®‰è£…åŒ…è·¯å¾„=<span class="string">&quot;/storage/emulated/0/AndroLua/å®‰è£…åŒ…/&quot;</span></span><br><span class="line"></span><br><span class="line">è‡ªå®šä¹‰ç­¾åæ‰“åŒ…é…ç½®=<span class="string">&quot;/storage/emulated/0/AndroLua/data/&quot;</span></span><br><span class="line"></span><br><span class="line">ç²¾ç®€æ‰“åŒ…å®‰è£…åŒ…è·¯å¾„=<span class="string">&quot;/storage/emulated/0/AndroLua/ç²¾ç®€æ‰“åŒ…/&quot;</span></span><br><span class="line"></span><br><span class="line">APPæ—¥å¿—=<span class="string">&quot;/storage/emulated/0/AndroLua/crash/&quot;</span></span><br><span class="line"></span><br><span class="line">å·¥ç¨‹å¤‡ä»½=<span class="string">&quot;/storage/emulated/0/AndroLua/export/&quot;</span></span><br><span class="line"></span><br><span class="line">ç¼–è¾‘æ¡†LuaEditorå­—ä½“è·¯å¾„=<span class="string">&quot;/storage/emulated/0/AndroLua/fonts/&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç‚¹å‡»æ•™ç¨‹åç§°å¯ä»¥æµ‹è¯•è¿è¡Œæ‰‹å†Œä»£ç </span><br><span class="line"></span><br><span class="line"><span class="comment">--æ·±åº¦é“¾æ¥ï¼ˆDeeplinkingï¼‰æµè§ˆå™¨å”¤é†’</span></span><br><span class="line">luagoxpro://net.androluax.androidx/main.lua</span><br><span class="line"></span><br><span class="line">æºç å…±äº«:å¯ä»¥ç›´æ¥ä¸‹è½½å¯¼å…¥å·¥å…·æºç ä½¿ç”¨</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>éƒ¨åˆ†å‡½æ•°å‚è€ƒ</title>
    <url>/2021/11/07/AndroLuax+%E5%9F%BA%E7%A1%80/%E9%83%A8%E5%88%86%E5%87%BD%E6%95%B0%E5%8F%82%E8%80%83-2021-11-07%2020:58:40/</url>
    <content><![CDATA[<h1>éƒ¨åˆ†å‡½æ•°å‚è€ƒ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">[a]è¡¨ç¤ºå‚æ•°aå¯é€‰ï¼Œ(...)è¡¨ç¤ºä¸å®šå‚æ•°ã€‚å‡½æ•°è°ƒç”¨åœ¨åªæœ‰ä¸€ä¸ªå‚æ•°ä¸”å‚æ•°ä¸ºå­—ç¬¦ä¸²æˆ–è¡¨æ—¶å¯ä»¥çœç•¥æ‹¬å·ã€‚</span><br><span class="line">AndroLuaåº“å‡½æ•°åœ¨importæ¨¡å—ï¼Œä¸ºä¾¿äºä½¿ç”¨éƒ½æ˜¯å…¨å±€å˜é‡ã€‚</span><br><span class="line">s è¡¨ç¤º<span class="built_in">string</span>ç±»å‹ï¼Œi è¡¨ç¤ºæ•´æ•°ç±»å‹ï¼Œn è¡¨ç¤ºæµ®ç‚¹æ•°æˆ–æ•´æ•°ç±»å‹ï¼Œt è¡¨ç¤ºè¡¨ç±»å‹ï¼Œb è¡¨ç¤ºå¸ƒå°”ç±»å‹ï¼Œo è¡¨ç¤ºJavaå¯¹è±¡ç±»å‹ï¼Œfä¸ºLuaå‡½æ•°ã€‚</span><br><span class="line"><span class="comment">--è¡¨ç¤ºæ³¨é‡Šã€‚</span></span><br><span class="line"></span><br><span class="line">each(o)</span><br><span class="line">å‚æ•°ï¼šo å®ç°Iterableæ¥å£çš„Javaå¯¹è±¡</span><br><span class="line">è¿”å›ï¼šç”¨äºLuaè¿­ä»£çš„é—­åŒ…</span><br><span class="line">ä½œç”¨ï¼šJavaé›†åˆè¿­ä»£å™¨</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">enum(o)</span><br><span class="line">å‚æ•°ï¼šo å®ç°Enumerationæ¥å£çš„Javaå¯¹è±¡</span><br><span class="line">è¿”å›ï¼šç”¨äºLuaè¿­ä»£çš„é—­åŒ…</span><br><span class="line">ä½œç”¨ï¼šJavaé›†åˆè¿­ä»£å™¨</span><br><span class="line"></span><br><span class="line">import(s)</span><br><span class="line">å‚æ•°ï¼šs è¦è½½å…¥çš„åŒ…æˆ–ç±»çš„åç§°</span><br><span class="line">è¿”å›ï¼šè½½å…¥çš„ç±»æˆ–æ¨¡å—</span><br><span class="line">ä½œç”¨ï¼šè½½å…¥åŒ…æˆ–ç±»æˆ–Luaæ¨¡å—</span><br><span class="line">import <span class="string">&quot;http&quot;</span> <span class="comment">--è½½å…¥httpæ¨¡å—</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span> <span class="comment">--è½½å…¥android.widgetåŒ…</span></span><br><span class="line">import <span class="string">&quot;android.widget.Button&quot;</span> <span class="comment">--è½½å…¥android.widget.Buttonç±»</span></span><br><span class="line">import <span class="string">&quot;android.view.ViewOnClickListener&quot;</span> <span class="comment">--è½½å…¥android.view.View.OnClickListenerå†…éƒ¨ç±»</span></span><br><span class="line"></span><br><span class="line">loadlayout(t [,t2])</span><br><span class="line">å‚æ•°ï¼št è¦è½½å…¥çš„å¸ƒå±€è¡¨ï¼Œt2 ä¿å­˜viewçš„è¡¨</span><br><span class="line">è¿”å›ï¼šå¸ƒå±€æœ€å¤–å±‚view</span><br><span class="line">ä½œç”¨ï¼šè½½å…¥å¸ƒå±€è¡¨ï¼Œç”Ÿæˆview</span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    TextView,</span><br><span class="line">    text=<span class="string">&quot;Androlua&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;tv&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">main=&#123;&#125;</span><br><span class="line">activity.setContentView(loadlayout(layout,main))</span><br><span class="line"><span class="built_in">print</span>(main.tv.getText())</span><br><span class="line"></span><br><span class="line">loadbitmap(s)</span><br><span class="line">å‚æ•°ï¼šs è¦è½½å…¥å›¾ç‰‡çš„åœ°å€ï¼Œæ”¯æŒç›¸å¯¹åœ°å€ï¼Œç»å¯¹åœ°å€ä¸ç½‘å€</span><br><span class="line">è¿”å›ï¼šbitmapå¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šè½½å…¥å›¾ç‰‡</span><br><span class="line">æ³¨æ„ï¼šè½½å…¥ç½‘ç»œå›¾ç‰‡éœ€è¦åœ¨çº¿ç¨‹ä¸­è¿›è¡Œ</span><br><span class="line"></span><br><span class="line">task(s [,...], f)</span><br><span class="line">å‚æ•°ï¼šs ä»»åŠ¡ä¸­è¿è¡Œçš„ä»£ç æˆ–å‡½æ•°ï¼Œ... ä»»åŠ¡ä¼ å…¥å‚æ•°ï¼Œf å›è°ƒå‡½æ•°</span><br><span class="line">è¿”å›ï¼šæ— è¿”å›å€¼</span><br><span class="line">ä½œç”¨ï¼šåœ¨å¼‚æ­¥çº¿ç¨‹è¿è¡ŒLuaä»£ç ï¼Œæ‰§è¡Œå®Œæ¯•åœ¨ä¸»çº¿ç¨‹è°ƒç”¨å›è°ƒå‡½æ•°</span><br><span class="line">æ³¨æ„ï¼šå‚æ•°ç±»å‹åŒ…æ‹¬ å¸ƒå°”ï¼Œæ•°å€¼ï¼Œå­—ç¬¦ä¸²ï¼ŒJavaå¯¹è±¡ï¼Œä¸å…è®¸Luaå¯¹è±¡</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span><span class="params">(a,b)</span></span></span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  <span class="built_in">print</span>(a,b)</span><br><span class="line">  <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">task(func,<span class="number">1</span>,<span class="number">2</span>,<span class="built_in">print</span>)</span><br><span class="line"></span><br><span class="line">thread(s[,...])</span><br><span class="line">å‚æ•°ï¼šs çº¿ç¨‹ä¸­è¿è¡Œçš„luaä»£ç æˆ–è„šæœ¬çš„ç›¸å¯¹è·¯å¾„(ä¸åŠ æ‰©å±•å)æˆ–å‡½æ•°ï¼Œ... çº¿ç¨‹åˆå§‹åŒ–å‚æ•°</span><br><span class="line">è¿”å›ï¼šè¿”å›çº¿ç¨‹å¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šå¼€å¯ä¸€ä¸ªçº¿ç¨‹è¿è¡ŒLuaä»£ç </span><br><span class="line">æ³¨æ„ï¼šçº¿ç¨‹éœ€è¦è°ƒç”¨quitæ–¹æ³•ç»“æŸçº¿ç¨‹</span><br><span class="line">func=<span class="string">[[</span></span><br><span class="line"><span class="string">a,b=...</span></span><br><span class="line"><span class="string">function add()</span></span><br><span class="line"><span class="string">    call(&quot;print&quot;,a+b)</span></span><br><span class="line"><span class="string">    end</span></span><br><span class="line"><span class="string">]]</span></span><br><span class="line">t=thread(func,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">t.add()</span><br><span class="line"></span><br><span class="line">timer(s,i1,i2[,...])</span><br><span class="line">å‚æ•°ï¼šs å®šæ—¶å™¨è¿è¡Œçš„ä»£ç æˆ–å‡½æ•°ï¼Œi1 å‰å»¶æ—¶ï¼Œi2 å®šæ—¶å™¨é—´éš”ï¼Œ... å®šæ—¶å™¨åˆå§‹åŒ–å‚æ•°</span><br><span class="line">è¿”å›ï¼šå®šæ—¶å™¨å¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šåˆ›å»ºå®šæ—¶å™¨é‡å¤æ‰§è¡Œå‡½æ•°</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">(a)</span></span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    a=a+<span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">t=timer(f,<span class="number">0</span>,<span class="number">1000</span>,<span class="number">1</span>)</span><br><span class="line">t.enabled=<span class="literal">false</span><span class="comment">--æš‚åœå®šæ—¶å™¨</span></span><br><span class="line">t.enabled=<span class="literal">true</span><span class="comment">--é‡æ–°å®šæ—¶å™¨</span></span><br><span class="line">t.stop()<span class="comment">--åœæ­¢å®šæ—¶å™¨</span></span><br><span class="line"></span><br><span class="line">luajava.bindClass(s)</span><br><span class="line">å‚æ•°ï¼šs classçš„å®Œæ•´åç§°ï¼Œæ”¯æŒåŸºæœ¬ç±»å‹</span><br><span class="line">è¿”å›ï¼šJava classå¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šè½½å…¥Java class</span><br><span class="line">Button=luajava.bindClass(<span class="string">&quot;android.widget.Button&quot;</span>)</span><br><span class="line">int=luajava.bindClass(<span class="string">&quot;int&quot;</span>)</span><br><span class="line"></span><br><span class="line">luajava.createProxy(s,t)</span><br><span class="line">å‚æ•°ï¼šs æ¥å£çš„å®Œæ•´åç§°ï¼Œt æ¥å£å‡½æ•°è¡¨</span><br><span class="line">è¿”å›ï¼šJavaæ¥å£å¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šåˆ›å»ºJavaæ¥å£</span><br><span class="line">onclick=luajava.createProxy(<span class="string">&quot;android.view.ViewOnClickListener&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span><span class="built_in">print</span>(v)<span class="keyword">end</span>&#125;)</span><br><span class="line"></span><br><span class="line">luajava.createArray(s,t)</span><br><span class="line">å‚æ•°ï¼šs ç±»çš„å®Œæ•´åç§°ï¼Œæ”¯æŒåŸºæœ¬ç±»å‹ï¼Œt è¦è½¬åŒ–ä¸ºJavaæ•°ç»„çš„è¡¨</span><br><span class="line">è¿”å›ï¼šåˆ›å»ºçš„Javaæ•°ç»„å¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šåˆ›å»ºJavaæ•°ç»„</span><br><span class="line">arr=luajava.createArray(<span class="string">&quot;int&quot;</span>,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;)</span><br><span class="line"></span><br><span class="line">luajava.newInstance(s [,...])</span><br><span class="line">å‚æ•°ï¼šs ç±»çš„å®Œæ•´åç§°ï¼Œ... æ„å»ºæ–¹æ³•çš„å‚æ•°</span><br><span class="line">ä½œç”¨ï¼šåˆ›å»ºJavaç±»çš„å®ä¾‹</span><br><span class="line">b=luajava.newInstance(<span class="string">&quot;android.widget.Button&quot;</span>,activity)</span><br><span class="line"></span><br><span class="line">luajava.new(o[,...])</span><br><span class="line">å‚æ•°ï¼šo Javaç±»å¯¹è±¡ï¼Œ... å‚æ•°</span><br><span class="line">è¿”å›ï¼šç±»çš„å®ä¾‹æˆ–æ•°ç»„å¯¹è±¡æˆ–æ¥å£å¯¹è±¡</span><br><span class="line">ä½œç”¨ï¼šåˆ›å»ºä¸€ä¸ªç±»å®ä¾‹æˆ–æ•°ç»„å¯¹è±¡æˆ–æ¥å£å¯¹è±¡</span><br><span class="line">æ³¨æ„ï¼šå½“åªæœ‰ä¸€ä¸ªå‚æ•°ä¸”ä¸ºè¡¨ç±»å‹æ—¶ï¼Œå¦‚æœç±»å¯¹è±¡ä¸ºinterfaceåˆ›å»ºæ¥å£ï¼Œä¸ºclassåˆ›å»ºæ•°ç»„ï¼Œå‚æ•°ä¸ºå…¶ä»–æƒ…å†µåˆ›å»ºå®ä¾‹</span><br><span class="line">b=luajava.new(Button,activity)</span><br><span class="line">onclick=luajava.new(OnClickListener,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span><span class="built_in">print</span>(v)<span class="keyword">end</span>&#125;)</span><br><span class="line">arr=luajava.new(int,&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;)</span><br><span class="line">(ç¤ºä¾‹ä¸­å‡è®¾å·²è½½å…¥ç›¸å…³ç±»)</span><br><span class="line"></span><br><span class="line">luajava.coding(s [,s2 [, s3]])</span><br><span class="line">å‚æ•°ï¼šs è¦è½¬æ¢ç¼–ç çš„Luaå­—ç¬¦ä¸²ï¼Œs2 å­—ç¬¦ä¸²çš„åŸå§‹ç¼–ç ï¼Œs3 å­—ç¬¦ä¸²çš„ç›®æ ‡ç¼–ç </span><br><span class="line">è¿”å›ï¼šè½¬ç åçš„Luaå­—ç¬¦ä¸²</span><br><span class="line">ä½œç”¨ï¼šè½¬æ¢å­—ç¬¦ä¸²ç¼–ç </span><br><span class="line">æ³¨æ„ï¼šé»˜è®¤è¿›è¡ŒGBKè½¬UTF8</span><br><span class="line"></span><br><span class="line">luajava.clear(o)</span><br><span class="line">å‚æ•°ï¼šo Javaå¯¹è±¡</span><br><span class="line">è¿”å›ï¼šæ— </span><br><span class="line">ä½œç”¨ï¼šé”€æ¯Javaå¯¹è±¡</span><br><span class="line">æ³¨æ„ï¼šä»…ç”¨äºé”€æ¯ä¸´æ—¶å¯¹è±¡</span><br><span class="line"></span><br><span class="line">luajava.astable(o)</span><br><span class="line">å‚æ•°ï¼šo Javaå¯¹è±¡</span><br><span class="line">è¿”å›ï¼šLuaè¡¨</span><br><span class="line">ä½œç”¨ï¼šè½¬æ¢Javaçš„Array Listæˆ–Mapä¸ºLuaè¡¨</span><br><span class="line"></span><br><span class="line">luajava.<span class="built_in">tostring</span>(o)</span><br><span class="line">å‚æ•°ï¼šo Javaå¯¹è±¡</span><br><span class="line">è¿”å›ï¼šLuaå­—ç¬¦ä¸²</span><br><span class="line">ä½œç”¨ï¼šç›¸å½“äº o.toString()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>AndroLuax+åŸºç¡€</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>faså—…æ¢è§£æ</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/fas%E5%97%85%E6%8E%A2%E8%A7%A3%E6%9E%90-2021-11-08%2022:22:06/</url>
    <content><![CDATA[<h1>faså—…æ¢è§£æ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> å—…æ¢è§†é¢‘<span class="params">(è§£æåœ°å€)</span></span></span><br><span class="line"></span><br><span class="line">  xt= ProgressDialog(this)</span><br><span class="line">  xt.setProgressStyle(ProgressDialog.STYLE_SPINNER)</span><br><span class="line">  <span class="comment">--è®¾ç½®è¿›åº¦æ¡çš„å½¢å¼ä¸ºåœ†å½¢è½¬åŠ¨çš„è¿›åº¦æ¡</span></span><br><span class="line">  xt.setMessage(<span class="string">[[æ­£åœ¨è§£æè§†é¢‘ä¸­,è¯·ç¨å€™...]]</span>)</span><br><span class="line">  xt.setCancelable(<span class="literal">true</span>)<span class="comment">--è®¾ç½®æ˜¯å¦å¯ä»¥é€šè¿‡ç‚¹å‡»Backé”®å–æ¶ˆ</span></span><br><span class="line">  xt.setCanceledOnTouchOutside(<span class="literal">false</span>)<span class="comment">--è®¾ç½®åœ¨ç‚¹å‡»Dialogå¤–æ˜¯å¦å–æ¶ˆDialogè¿›åº¦æ¡    </span></span><br><span class="line">  xt.show()</span><br><span class="line">  <span class="keyword">local</span> wl=activity.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE).getActiveNetworkInfo(); </span><br><span class="line">  <span class="keyword">if</span> wl== <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    åœæ­¢åŠ è½½()</span><br><span class="line">    å¼¹å‡ºæ¶ˆæ¯(<span class="string">&quot;è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥..&quot;</span>)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    webView2=LuaWebView(activity)</span><br><span class="line">    <span class="comment">--è®¾ç½®ç¦æ­¢è‡ªåŠ¨æ’­æ”¾è§†é¢‘</span></span><br><span class="line">    webView2.getSettings().setMediaPlaybackRequiresUserGesture(<span class="literal">true</span>);</span><br><span class="line">    webView2.setWebViewClient&#123;</span><br><span class="line">      onLoadResource=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line">        <span class="keyword">if</span> (url:<span class="built_in">find</span><span class="string">&#x27;://qq.adinisp.com(.-)/parse_js.php&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-).l.qq.com/&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-)51.la/&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-)cnzz.com/&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-)/kvcollect&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-)/js.php&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-)/c.php&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-)/v.php&#x27;</span>) <span class="keyword">then</span> </span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          <span class="keyword">if</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-).mp4&#x27;</span>) <span class="keyword">or</span> (url:<span class="built_in">find</span><span class="string">&#x27;://(.-).m3u8&#x27;</span>) <span class="keyword">and</span> (webView2.getUrl()~=<span class="string">&quot;about:blank&quot;</span>) <span class="keyword">then</span></span><br><span class="line">            xt.dismiss()</span><br><span class="line">            è§†é¢‘é“¾æ¥=url :<span class="built_in">gsub</span>(<span class="string">&quot;(.+)?url=&quot;</span>,<span class="string">&quot;&quot;</span>) </span><br><span class="line">            webView2.stopLoading()</span><br><span class="line">            è¿›å…¥å­é¡µé¢(<span class="string">&quot;æ’­æ”¾&quot;</span>,&#123;é“¾æ¥=è§†é¢‘é“¾æ¥&#125;)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">end</span>&#125;</span><br><span class="line">    webView2.loadUrl(è§£æåœ°å€..webView.getUrl())    <span class="comment">--è§£æåœ°å€+å½“å‰ç½‘é¡µ</span></span><br><span class="line">    xt.setOnCancelListener&#123;</span><br><span class="line">      onCancel=<span class="function"><span class="keyword">function</span><span class="params">(l)</span></span></span><br><span class="line">        xt.dismiss()</span><br><span class="line">        webView2.stopLoading()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;åœæ­¢å—…æ¢&quot;</span>)</span><br><span class="line">      <span class="keyword">end</span>&#125;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>webViewä¸Šä¼ </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/webView%E4%B8%8A%E4%BC%A0-2021-11-08%2022:25:43/</url>
    <content><![CDATA[<h1>webViewä¸Šä¼ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä¸‹è½½åœ°å€  http://f2.oduuu.com/2020/06/85ED66C412840EEE-103c77e9a1c4ba40.zip</span></span><br><span class="line"><span class="comment">--ä¸‹è½½å®Œzipè§£å‹å‡ºæ¥ã€‚æŠŠlibsæ–‡ä»¶ç§»åŠ¨åˆ°ä½ çš„å·¥ç¨‹ç›®å½•é‡Œï¼</span></span><br><span class="line"><span class="comment">--æ”¯æŒå›¾åºŠä¸Šä¼ ï¼Œæ”¯æŒæ–‡ä»¶é™„ä»¶ä¸Šä¼ ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.lua.*&quot;</span><span class="comment">--ä¸Šä¼ å¯¼å…¥åŒ…</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span><span class="comment">--å¯¼å…¥åŒ…</span></span><br><span class="line">import <span class="string">&quot;android.app.Activity&quot;</span><span class="comment">--å¯¼å…¥åŒ…</span></span><br><span class="line"><span class="comment">--import &quot;layout&quot;</span></span><br><span class="line"><span class="comment">--activity.setTitle(&#x27;AndroLua+&#x27;)</span></span><br><span class="line"><span class="comment">--activity.setTheme(android.R.style.Theme_Holo_Light)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">web=LuaWebView(activity)</span><br><span class="line">activity.setContentView(web)</span><br><span class="line">uploadMessageAboveL=<span class="number">0</span></span><br><span class="line">web.setWebChromeClient(LuaWebChrome(LuaWebChrome.IWebChrine&#123;</span><br><span class="line">  onShowFileChooser=<span class="function"><span class="keyword">function</span><span class="params">(v,fic)</span></span></span><br><span class="line">    uploadMessageAboveL=fic</span><br><span class="line">    <span class="keyword">local</span> intet = Intent(Intent.ACTION_GET_CONTENT);</span><br><span class="line">    intet.addCategory(Intent.CATEGORY_OPENABLE);</span><br><span class="line">    intet.setType(<span class="string">&quot;*/*&quot;</span>);</span><br><span class="line">    activity.startActivityForResult(Intent.createChooser(intet, <span class="string">&quot;File Chooser&quot;</span>), <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;))</span><br><span class="line">web.loadUrl(<span class="string">&quot;http://tu.yaohuo.me/&quot;</span>)</span><br><span class="line">onActivityResult=<span class="function"><span class="keyword">function</span><span class="params">(req,res,intent)</span></span></span><br><span class="line">  <span class="keyword">if</span> (res == Activity.RESULT_CANCELED) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span>(uploadMessageAboveL~=<span class="literal">nil</span> )<span class="keyword">then</span></span><br><span class="line">      uploadMessageAboveL.onReceiveValue(<span class="literal">nil</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">local</span> results</span><br><span class="line">  <span class="keyword">if</span> (res == Activity.RESULT_OK)<span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span>(uploadMessageAboveL==<span class="literal">nil</span> <span class="keyword">or</span> <span class="built_in">type</span>(uploadMessageAboveL)==<span class="string">&quot;number&quot;</span>)<span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> (intent ~= <span class="literal">nil</span>) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">local</span> dataString = intent.getDataString();</span><br><span class="line">      <span class="keyword">local</span> clipData = intent.getClipData();</span><br><span class="line">      <span class="keyword">if</span> (clipData ~= <span class="literal">nil</span>) <span class="keyword">then</span></span><br><span class="line">        results = Uri[clipData.getItemCount()];</span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">0</span>,clipData.getItemCount()<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">local</span> item = clipData.getItemAt(i);</span><br><span class="line">          results[i] = item.getUri();</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">if</span> (dataString ~= <span class="literal">nil</span>) <span class="keyword">then</span></span><br><span class="line">        results = Uri[<span class="number">1</span>];</span><br><span class="line">        results[<span class="number">0</span>]=Uri.parse(dataString)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span>(results~=<span class="literal">nil</span>)<span class="keyword">then</span></span><br><span class="line">    uploadMessageAboveL.onReceiveValue(results);</span><br><span class="line">    uploadMessageAboveL = <span class="literal">nil</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸€ä¸ªå°ºå­æºç </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E4%B8%80%E4%B8%AA%E5%B0%BA%E5%AD%90%E6%BA%90%E7%A0%81-2021-11-08%2022:26:44/</url>
    <content><![CDATA[<h1>ä¸€ä¸ªå°ºå­æºç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;com.androlua.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.*&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä»¿ä¸€ä¸ªæœ¨å‡½å°ºå­åŠŸèƒ½ï¼Œä»£ç æœ‰ç‚¹ä¹±ã€‚</span></span><br><span class="line"><span class="comment">--æƒ³åšä¸ªå¸é™„åŠŸèƒ½</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å„ç§å•ä½ä¹‹é—´è½¬æ¢å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dpTopx</span><span class="params">(sdp)</span></span></span><br><span class="line">  import <span class="string">&quot;android.util.TypedValue&quot;</span></span><br><span class="line">  dm=this.getResources().getDisplayMetrics()</span><br><span class="line">  types=&#123;px=<span class="number">0</span>,dp=<span class="number">1</span>,sp=<span class="number">2</span>,pt=<span class="number">3</span>,[<span class="string">&quot;in&quot;</span>]=<span class="number">4</span>,mm=<span class="number">5</span>&#125;</span><br><span class="line">  n,ty=sdp:<span class="built_in">match</span>(<span class="string">&quot;^(%-?[%.%d]+)(%a%a)&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> TypedValue.applyDimension(types[ty],<span class="built_in">tonumber</span>(n),dm)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mm=dpTopx(<span class="string">&quot;1mm&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(<span class="string">&quot;layout&quot;</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ¨ªå±æ¨¡å¼</span></span><br><span class="line">activity.setRequestedOrientation(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myLuaDrawable=LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(mCanvas,mPaint,mDrawable)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--ç”»ç¬”å±æ€§</span></span><br><span class="line">  mPaint.setColor(<span class="number">0xFF9C9A9D</span>)</span><br><span class="line">  mPaint.setAntiAlias(<span class="literal">true</span>)</span><br><span class="line">  mPaint.setStrokeWidth(<span class="number">2</span>)</span><br><span class="line">  mPaint.setStyle(Paint.Style.FILL)</span><br><span class="line">  mPaint.setStrokeCap(Paint.Cap.ROUND)</span><br><span class="line">  mPaint.setTextSize(<span class="number">28</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  MaxPx=mDrawable.getBounds().right<span class="number">-30</span></span><br><span class="line"></span><br><span class="line">  MaxMm=<span class="built_in">math</span>.<span class="built_in">ceil</span>(MaxPx/<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">--mCanvas.drawColor(0xffffeeaa)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> i=<span class="number">0</span>,MaxMm*<span class="number">10</span> <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> i%<span class="number">10</span>==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      mCanvas.drawLine(mm*i+mm,<span class="number">0</span>,mm*i+mm,<span class="number">80</span>,mPaint)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      mCanvas.drawText(<span class="built_in">tostring</span>(<span class="built_in">math</span>.<span class="built_in">modf</span>(i/<span class="number">10</span>)),(mm*i+mm)-mm/<span class="number">2</span> ,<span class="number">120</span>, mPaint)</span><br><span class="line"></span><br><span class="line">     <span class="keyword">elseif</span> i%<span class="number">5</span>==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      mCanvas.drawLine(mm*i+mm,<span class="number">0</span>,mm*i+mm,<span class="number">60</span>,mPaint)</span><br><span class="line"></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line"></span><br><span class="line">      mCanvas.drawLine(mm*i+mm,<span class="number">0</span>,mm*i+mm,<span class="number">40</span>,mPaint)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç»˜åˆ¶çš„Drawbleè®¾ç½®æˆæ§ä»¶èƒŒæ™¯</span></span><br><span class="line">tv.background=myLuaDrawable</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tv2.onTouch=<span class="function"><span class="keyword">function</span><span class="params">(v,e)</span></span></span><br><span class="line"></span><br><span class="line">  a=e.getAction()&amp;<span class="number">255</span></span><br><span class="line"></span><br><span class="line">  switch a</span><br><span class="line"></span><br><span class="line">   case MotionEvent.ACTION_DOWN</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   case MotionEvent.ACTION_MOVE</span><br><span class="line"></span><br><span class="line">    moveX=e.getX()</span><br><span class="line"></span><br><span class="line">    tv3.setTranslationX(moveX)</span><br><span class="line"></span><br><span class="line">    <span class="comment">--print(&quot;â‰ˆ&quot;..math.floor(moveX/mw)..&quot;mm&quot;)</span></span><br><span class="line"></span><br><span class="line">    a=<span class="built_in">math</span>.<span class="built_in">floor</span>((moveX/mm)/<span class="number">10</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">--å‘ä¸Šå–æ•´</span></span><br><span class="line">    tv4.Text=<span class="built_in">tostring</span>(<span class="built_in">math</span>.<span class="built_in">floor</span>((moveX/mm)/<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment">--å‘ä¸Šå–æ•´</span></span><br><span class="line">    tv5.Text=<span class="built_in">tostring</span>(<span class="built_in">math</span>.<span class="built_in">floor</span>(moveX/mm)-a*<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   case MotionEvent.ACTION_UP</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myLuaDrawable2=LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(mCanvas,mPaint,mDrawable)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--ç”»ç¬”å±æ€§</span></span><br><span class="line">  mPaint.setColor(<span class="number">0xFF636562</span>)</span><br><span class="line">  mPaint.setAntiAlias(<span class="literal">true</span>)</span><br><span class="line">  mPaint.setStrokeWidth(<span class="number">20</span>)</span><br><span class="line">  mPaint.setStyle(Paint.Style.STROKE)</span><br><span class="line"></span><br><span class="line">  <span class="comment">--mCanvas.drawColor(0xffffeeaa)</span></span><br><span class="line"></span><br><span class="line">  mCanvas.drawCircle(<span class="number">150</span>, <span class="number">150</span>, <span class="number">100</span>, mPaint);</span><br><span class="line"></span><br><span class="line">  mPaint.setColor(<span class="number">0xFF9C9A9D</span>)</span><br><span class="line">  mPaint.setStyle(Paint.Style.FILL)</span><br><span class="line"></span><br><span class="line">  mCanvas.drawCircle(<span class="number">150</span>, <span class="number">150</span>, <span class="number">90</span>, mPaint);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç»˜åˆ¶çš„Drawbleè®¾ç½®æˆæ§ä»¶èƒŒæ™¯</span></span><br><span class="line">tv4.background=myLuaDrawable2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">myLuaDrawable3=LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(mCanvas,mPaint,mDrawable)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--ç”»ç¬”å±æ€§</span></span><br><span class="line">  mPaint.setColor(<span class="number">0xFF434542</span>)</span><br><span class="line">  mPaint.setAntiAlias(<span class="literal">true</span>)</span><br><span class="line">  mPaint.setStrokeWidth(<span class="number">20</span>)</span><br><span class="line">  mPaint.setStyle(Paint.Style.FILL)</span><br><span class="line"></span><br><span class="line">  mCanvas.drawCircle(<span class="number">225</span>, <span class="number">225</span>, <span class="number">50</span>, mPaint);</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">tv5.background=myLuaDrawable3</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸Šä¸‹æ¸å˜é¢œè‰²</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E4%B8%8A%E4%B8%8B%E6%B8%90%E5%8F%98%E9%A2%9C%E8%89%B2-2021-11-08%2022:17:13/</url>
    <content><![CDATA[<h1>ä¸Šä¸‹æ¸å˜é¢œè‰²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">æ§ä»¶ID.setBackgroundDrawable(GradientDrawable(GradientDrawable.Orientation.TOP_BOTTOM,&#123;</span><br><span class="line">  <span class="number">0xFFA593E0</span>,<span class="number">0xffffffff</span>,<span class="number">0xffffffff</span>,<span class="number">0xffffffff</span>,</span><br><span class="line">&#125;))<span class="comment">--ä¸Šä¸‹æ¸å˜é¢œè‰²ï¼Œ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºQQDialog</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%85%B3%E4%BA%8EQQDialog-2021-11-08%2022:27:13/</url>
    <content><![CDATA[<h1>å…³äºQQDialog</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.lang.Override&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.qq.widget.*&quot;</span></span><br><span class="line"><span class="comment">--QQDialog</span></span><br><span class="line">MyDialog=QQDialog(this);<span class="comment">--è®¾ç½®å¼¹çª—è¿›å‡ºåŠ¨ç”»</span></span><br><span class="line">MyDialog.setViewLine(QQDialog.setLineColor.BLUE);<span class="comment">--è®¾ç½®é¡¶éƒ¨çº¿æ¡é¢œè‰²</span></span><br><span class="line">MyDialog.setTitle(<span class="string">&quot;æ ‡é¢˜&quot;</span>,QQDialog.setColors.DEFAULT);<span class="comment">--è®¾ç½®æ ‡é¢˜æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">MyDialog.setMessage(<span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®çš„å¯¹è¯æ¡†&quot;</span>);<span class="comment">--è®¾ç½®å¼¹çª—å†…å®¹</span></span><br><span class="line">MyDialog.setPositiveButton(<span class="string">&quot;ç¡®å®šæŒ‰é’®&quot;</span>,QQDialog.setColors.DEFAULT,<span class="comment">--è®¾ç½®æŒ‰é’®æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">&#123;onClick = <span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">MyDialog.dismiss();<span class="comment">--å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line"><span class="keyword">end</span>&#125;);</span><br><span class="line">MyDialog.show();<span class="comment">--æ˜¾ç¤ºå¯¹è¯æ¡†</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--QQMenuDialog</span></span><br><span class="line">MyMenuDialog=MenuDialog(this);<span class="comment">--è®¾ç½®å¼¹çª—è¿›å‡ºåŠ¨ç”»</span></span><br><span class="line">MyMenuDialog.setTitle(<span class="string">&quot;è¿™æ˜¯èœå•æ çš„æ ‡é¢˜&quot;</span>,MenuDialog.setTextColor.DEFAULT);<span class="comment">--è®¾ç½®æ ‡é¢˜æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">MyMenuDialog.setButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,MenuDialog.setTextColor.BLACK);<span class="comment">--è®¾ç½®å–æ¶ˆæŒ‰é’®æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">MyMenuDialog.addItem(<span class="string">&quot;é€‰é¡¹ä¸€&quot;</span>,MenuDialog.setTextColor.BLACK,<span class="comment">--è®¾ç½®é€‰é¡¹æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">&#123;onClick = <span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span>&#125;);</span><br><span class="line">MyMenuDialog.show();<span class="comment">--æ˜¾ç¤ºå¼¹çª—</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--QQProgress</span></span><br><span class="line">QQProgress.showPorgressBar(this, <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªè¿›åº¦æ¡&quot;</span>,QQProgress.setTheme.DEFAULT);</span><br><span class="line"></span><br><span class="line"><span class="comment">--QQToast</span></span><br><span class="line">QQToast.makeText(this, <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªæç¤º&quot;</span>,QQToast.setBackgroundColors.DEFAULT).show();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºTBSx5å†…æ ¸</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%85%B3%E4%BA%8ETBSx5%E5%86%85%E6%A0%B8-2021-11-08%2022:26:20/</url>
    <content><![CDATA[<h1>å…³äºTBSx5å†…æ ¸</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.PixelFormat&quot;</span></span><br><span class="line">import<span class="string">&quot;com.tencent.smtt.sdk.WebViewClient&quot;</span></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨æ§ä»¶ WebView;</span></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨ä¹‹å‰å¯¼å…¥X5WebViewæ§ä»¶</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.sdk.WebView&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¿®å¤ä¸Šå±é—ªçƒ</span></span><br><span class="line">activity.getWindow().setFormat(PixelFormat.TRANSLUCENT);</span><br><span class="line"><span class="comment">--åŠ è½½ç½‘é¡µ</span></span><br><span class="line">id.loadUrl(<span class="string">&quot;http://www.baidu.com/&quot;</span>)</span><br><span class="line">webSettings = wv.getSettings();</span><br><span class="line"><span class="comment">--æ”¯æŒJS</span></span><br><span class="line">webSettings.setJavaScriptEnabled(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">--æ— å¹¿å‘Šç™¾åº¦UA</span></span><br><span class="line">APP_NAME_UA=<span class="string">&quot;Mozilla/5.0 (Linux; Android 7.0; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/48.0.2564.116 Mobile Safari/537.36 T7/10.3 SearchCraft/2.6.2 (Baidu; P1 7.0)&quot;</span></span><br><span class="line"><span class="comment">--è‡ªå®šä¹‰UA</span></span><br><span class="line">webSettings.setUserAgentString(webSettings.getUserAgentString()..APP_NAME_UA);</span><br><span class="line"><span class="comment">--è®¾ç½®å­—ä½“å¤§å°:100è¡¨ç¤ºæ­£å¸¸,120è¡¨ç¤ºæ–‡å­—æ”¾å¤§1.2å€</span></span><br><span class="line">webSettings.setTextZoom(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ˜¾ç¤ºç‰ˆæœ¬</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.sdk.QbSdk&quot;</span></span><br><span class="line">tbsVersion = QbSdk.getTbsVersion(this);</span><br><span class="line">TID = QbSdk.getTID();</span><br><span class="line">qBVersion = QbSdk.getMiniQBVersion(this);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;TBSç‰ˆæœ¬:&quot;</span>..tbsVersion)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç›‘å¬äº‹ä»¶</span></span><br><span class="line">id.setWebViewClient(WebViewClient()&#123;</span><br><span class="line"></span><br><span class="line">  shouldOverrideUrlLoading=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line"></span><br><span class="line">    view.loadUrl(url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">  onReceivedError=<span class="function"><span class="keyword">function</span><span class="params">(var1,var2,var3,var4)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç½‘é¡µåŠ è½½å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸è¿”å›é”®äº’äº¤</span></span><br><span class="line"><span class="comment">--ç½‘é¡µä¸è¿”å›é”®ä¹‹é—´çš„äº¤äº’</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(keyCode,event)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; wv.canGoBack())<span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    id.goBack()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å†æŒ‰ä¸€æ¬¡é€€å‡ºç¨‹åºç¾åŒ–</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%86%8D%E6%8C%89%E4%B8%80%E6%AC%A1%E9%80%80%E5%87%BA%E7%A8%8B%E5%BA%8F%E7%BE%8E%E5%8C%96-2021-11-08%2022:21:29/</url>
    <content><![CDATA[<h1>å†æŒ‰ä¸€æ¬¡é€€å‡ºç¨‹åºç¾åŒ–</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--é€€å‡º</span></span><br><span class="line">å‚æ•°=<span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(code,event)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">find</span>(<span class="built_in">tostring</span>(event),<span class="string">&quot;KEYCODE_BACK&quot;</span>) ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> å‚æ•°+<span class="number">2</span> &gt; <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">time</span>()) <span class="keyword">then</span></span><br><span class="line">      é€€å‡ºç¨‹åº()</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      to=&#123;</span><br><span class="line">        CardView;</span><br><span class="line">        CardBackgroundColor=<span class="string">&quot;#FFffffff&quot;</span>;</span><br><span class="line">        elevation=<span class="string">&quot;8dp&quot;</span>;</span><br><span class="line">        layout_width=<span class="string">&quot;95%w&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;42dp&quot;</span>;</span><br><span class="line">        radius=<span class="string">&quot;15&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;to&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          textSize=<span class="string">&quot;15sp&quot;</span>;</span><br><span class="line">          TextColor=<span class="string">&quot;#FFa0a0a0&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;95%w&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;42dp&quot;</span>;</span><br><span class="line">          gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">          text=<span class="string">&quot;å‡ºé”™&quot;</span>;</span><br><span class="line">          id=<span class="string">&quot;texttc&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">local</span> to=Toast.makeText(activity,<span class="string">&quot;å†…å®¹&quot;</span>,Toast.LENGTH_SHORT).setView(loadlayout(to))</span><br><span class="line">      <span class="comment">--LENGTH_SHORT     2s</span></span><br><span class="line">      <span class="comment">--LENGTH_LONG      3.5s</span></span><br><span class="line">      to.setGravity(Gravity.BOTTOM,<span class="number">0</span>,<span class="number">60</span>)</span><br><span class="line">      <span class="comment">--Gravity.BOTTOM   åº•éƒ¨</span></span><br><span class="line">      <span class="comment">--Gravity.CENTER   ä¸­éƒ¨</span></span><br><span class="line">      <span class="comment">--Gravity.TOP      é¡¶éƒ¨</span></span><br><span class="line">      texttc.Text=<span class="built_in">tostring</span>(<span class="string">&quot;å†æŒ‰ä¸€æ¬¡é€€å‡ºç¨‹åºï¼&quot;</span>)</span><br><span class="line">      to.show()</span><br><span class="line">      å‚æ•°=<span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">time</span>())</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åœ†è§’åº¦æ§ä»¶</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%9C%86%E8%A7%92%E5%BA%A6%E6%8E%A7%E4%BB%B6-2021-11-08%2022:14:12/</url>
    <content><![CDATA[<h1>åœ†è§’åº¦æ§ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åœ†è§’åº¦æ§ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">CircleButton</span><span class="params">(view,InsideColor,radiu)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">  drawable = GradientDrawable() </span><br><span class="line">  drawable.setShape(GradientDrawable.RECTANGLE) </span><br><span class="line">  drawable.setColor(InsideColor)</span><br><span class="line">  drawable.setCornerRadii(&#123;radiu,radiu,radiu,radiu,radiu,radiu,radiu,radiu&#125;);</span><br><span class="line">  view.setBackgroundDrawable(drawable)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">è§’åº¦=<span class="number">30</span></span><br><span class="line">æ§ä»¶id=æ§ä»¶çš„ID</span><br><span class="line">æ§ä»¶é¢œè‰²=<span class="number">0xff1e8ae8</span></span><br><span class="line">CircleButton(æ§ä»¶id,æ§ä»¶é¢œè‰²,è§’åº¦)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼¹å‡ºå†æŒ‰ä¸€æ¬¡è¿”å›é”®</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%BC%B9%E5%87%BA%E5%86%8D%E6%8C%89%E4%B8%80%E6%AC%A1%E8%BF%94%E5%9B%9E%E9%94%AE-2021-11-08%2022:21:12/</url>
    <content><![CDATA[<h1>å¼¹å‡ºå†æŒ‰ä¸€æ¬¡è¿”å›é”®</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¯¼åŒ…</span></span><br><span class="line">import <span class="string">&quot;com.tencent.qq.widget.*&quot;</span></span><br><span class="line">å‚æ•°=<span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(code,event)</span></span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">find</span>(<span class="built_in">tostring</span>(event),<span class="string">&quot;KEYCODE_BACK&quot;</span>) ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> å‚æ•°+<span class="number">2</span> &gt; <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">time</span>()) <span class="keyword">then</span></span><br><span class="line">      MyMenuDialog=MenuDialog(this);</span><br><span class="line">      MyMenuDialog.setTitle(<span class="string">&quot;æ‚¨ç¡®å®šè¦é€€å‡ºå—ï¼Ÿ&quot;</span>,MenuDialog.setTextColor.DEFAULT);</span><br><span class="line">      MyMenuDialog.setButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,MenuDialog.setTextColor.BLACK);</span><br><span class="line"></span><br><span class="line">      MyMenuDialog.addItem(<span class="string">&quot;ç¡®å®š&quot;</span>,MenuDialog.setTextColor.BLACK,</span><br><span class="line">      &#123;onClick = <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">         <span class="comment">-- ç»“æŸç¨‹åº()</span></span><br><span class="line">         å…³é—­é¡µé¢()</span><br><span class="line">        <span class="keyword">end</span>&#125;);</span><br><span class="line">      MyMenuDialog.show();</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      <span class="comment">--Toast.makeText(activity,&quot;å†æŒ‰ä¸€æ¬¡è¿”å›é”®&quot; , Toast.LENGTH_SHORT )</span></span><br><span class="line">      <span class="comment">--  .show()</span></span><br><span class="line">      å‚æ•°=<span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">time</span>())</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å¼¹çª—æ¡†æ¶</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%BC%B9%E7%AA%97%E6%A1%86%E6%9E%B6-2021-11-08%2022:16:29/</url>
    <content><![CDATA[<h1>å¼¹çª—æ¡†æ¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">dialog= AlertDialog.Builder(this)</span><br><span class="line">dialog1=dialog.show()</span><br><span class="line">dialog1.getWindow().setContentView(loadlayout(layout));</span><br><span class="line"><span class="comment">--dialog1.setCanceledOnTouchOutside(false)--è®¾ç½®ç‚¹å‡»é˜´å½±éƒ¨åˆ†ä¸ä¼šå…³é—­å…¬å‘Š</span></span><br><span class="line"><span class="comment">--dialog1.setCancelable(false)--è®¾ç½®ç‚¹å‡»è¿”å›é”®ä¸ä¼šå…³é—­å…¬å‘Š</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.ColorDrawable&quot;</span></span><br><span class="line">dialog1.getWindow().setBackgroundDrawable(ColorDrawable(<span class="number">0x00000000</span>));</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼¹çª—è§†å›¾(å¯å¼¹å‡ºè¾“å…¥æ³•)</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E5%BC%B9%E7%AA%97%E8%A7%86%E5%9B%BE(%E5%8F%AF%E5%BC%B9%E5%87%BA%E8%BE%93%E5%85%A5%E6%B3%95)-2021-11-08%2022:16:06/</url>
    <content><![CDATA[<h1>å¼¹çª—è§†å›¾(å¯å¼¹å‡ºè¾“å…¥æ³•)</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¼¹çª—è§†å›¾(å¯å¼¹å‡ºè¾“å…¥æ³•)</span></span><br><span class="line">AlertDialog.Builder(this)</span><br><span class="line">.setView(loadlayout(layout))</span><br><span class="line">.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ§ä»¶æ³¢çº¹</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%8E%A7%E4%BB%B6%E6%B3%A2%E7%BA%B9-2021-11-08%2022:29:11/</url>
    <content><![CDATA[<h1>æ§ä»¶æ³¢çº¹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ§ä»¶æ³¢çº¹</span></span><br><span class="line">import <span class="string">&quot;android.content.res.ColorStateList&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ³¢çº¹<span class="params">(id,lx,color)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    ripple = activity.obtainStyledAttributes(&#123;android.R.attr.selectableItemBackgroundBorderless&#125;).getResourceId(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    ripples = activity.obtainStyledAttributes(&#123;android.R.attr.selectableItemBackground&#125;).getResourceId(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> index,content <span class="keyword">in</span> <span class="built_in">ipairs</span>(id) <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span> lx==<span class="string">&quot;åœ†&quot;</span> <span class="keyword">then</span></span><br><span class="line">        content.setBackgroundDrawable(activity.Resources.getDrawable(ripple).setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;color&#125;)))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">if</span> lx==<span class="string">&quot;æ–¹&quot;</span> <span class="keyword">then</span></span><br><span class="line">        content.setBackgroundDrawable(activity.Resources.getDrawable(ripples).setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;color&#125;)))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">(e)</span></span><span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">æ³¢çº¹(id,lx,color)</span></span><br><span class="line"><span class="comment">idï¼šæ§ä»¶id,table</span></span><br><span class="line"><span class="comment">lxï¼šæ³¢çº¹ç±»å‹,åœ†æˆ–æ–¹,string</span></span><br><span class="line"><span class="comment">color æ³¢çº¹é¢œè‰²,number</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å®‰å“5åŠä»¥ä¸Šå¯ç”¨ã€‚</span></span><br><span class="line"><span class="comment">è¯¥ä»£ç éœ€è¦MDä¸»é¢˜ã€‚</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ä¾‹å­</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span>(<span class="string">&quot;FALuaç¼–ç¨‹æ‰‹å†Œ&quot;</span>)<span class="keyword">end</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">  layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">  id=<span class="string">&quot;lay&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line">activity.setTheme(android.R.style.Theme_DeviceDefault_Light)</span><br><span class="line">æ³¢çº¹(&#123;lay&#125;,<span class="string">&quot;åœ†&quot;</span>,<span class="number">0x21000000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ§ä»¶èƒŒæ™¯æ¸å˜åŠ¨ç”»</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%8E%A7%E4%BB%B6%E8%83%8C%E6%99%AF%E6%B8%90%E5%8F%98%E5%8A%A8%E7%94%BB-2021-11-08%2022:11:18/</url>
    <content><![CDATA[<h1>æ§ä»¶èƒŒæ™¯æ¸å˜åŠ¨ç”»</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">view=æ§ä»¶id</span><br><span class="line">color1 = <span class="number">0xffFF8080</span>;</span><br><span class="line">color2 = <span class="number">0xff8080FF</span>;</span><br><span class="line">color3 = <span class="number">0xff80ffff</span>;</span><br><span class="line">color4 = <span class="number">0xff80ff80</span>;</span><br><span class="line">import <span class="string">&quot;android.animation.ObjectAnimator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.animation.ArgbEvaluator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.animation.ValueAnimator&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">colorAnim = ObjectAnimator.ofInt(view,<span class="string">&quot;backgroundColor&quot;</span>,&#123;color1, color2, color3,color4&#125;)</span><br><span class="line">colorAnim.setDuration(<span class="number">3000</span>)</span><br><span class="line">colorAnim.setEvaluator(ArgbEvaluator())</span><br><span class="line">colorAnim.setRepeatCount(ValueAnimator.INFINITE)</span><br><span class="line">colorAnim.setRepeatMode(ValueAnimator.REVERSE)</span><br><span class="line">colorAnim.start()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ§ä»¶è¢«å•å‡»ï¼Œæ§ä»¶è¢«é•¿æŒ‰</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%8E%A7%E4%BB%B6%E8%A2%AB%E5%8D%95%E5%87%BB%EF%BC%8C%E6%8E%A7%E4%BB%B6%E8%A2%AB%E9%95%BF%E6%8C%89-2021-11-08%2022:23:34/</url>
    <content><![CDATA[<h1>æ§ä»¶è¢«å•å‡»ï¼Œæ§ä»¶è¢«é•¿æŒ‰</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ§ä»¶è¢«å•å‡»</span></span><br><span class="line">æ§ä»¶ID.setonClickListener&#123;</span><br><span class="line">onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ§ä»¶è¢«é•¿æŒ‰</span></span><br><span class="line"><span class="comment">--æ§ä»¶è¢«é•¿æŒ‰</span></span><br><span class="line">æ§ä»¶ID.setonLongClickListener&#123;</span><br><span class="line">onLongClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‡ç­¾æ æ¨¡æ¿</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%A0%87%E7%AD%BE%E6%A0%8F%E6%A8%A1%E6%9D%BF-2021-11-08%2022:16:56/</url>
    <content><![CDATA[<h1>æ ‡ç­¾æ æ¨¡æ¿</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ç¨‹åºå¯åŠ¨æ—¶ä¼šæ‰§è¡Œçš„äº‹ä»¶</span></span><br><span class="line">toolbar.Visibility=<span class="number">8</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dp2px</span><span class="params">(dpValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> dpValue * scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">local</span> mheight=activity.getResources().getDimensionPixelSize(luajava.bindClass(<span class="string">&quot;com.android.internal.Rdimen&quot;</span>)().status_bar_height)</span><br><span class="line">mheight=mheight+dp2px(<span class="number">46</span>)<span class="comment">--48å°±æ˜¯æ ‡ç­¾æ é«˜</span></span><br><span class="line"><span class="keyword">local</span> linearParams = toolbar.parent.getLayoutParams()</span><br><span class="line">linearParams.height =mheight</span><br><span class="line">toolbar.parent.setLayoutParams(linearParams)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‡é¢˜æ èœå•æŒ‰é’®</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%A0%87%E9%A2%98%E6%A0%8F%E8%8F%9C%E5%8D%95%E6%8C%89%E9%92%AE-2021-11-08%2022:22:50/</url>
    <content><![CDATA[<h1>æ ‡é¢˜æ èœå•æŒ‰é’®</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">title=&#123;<span class="string">&quot;åˆ†äº«&quot;</span>,<span class="string">&quot;å¸®åŠ©&quot;</span>,<span class="string">&quot;çš®è‚¤&quot;</span>,<span class="string">&quot;é€€å‡º&quot;</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onCreateOptionsMenu</span><span class="params">(menu)</span></span> </span><br><span class="line">  <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(title) <span class="keyword">do</span> </span><br><span class="line">    <span class="keyword">if</span> title[v] <span class="keyword">then</span> </span><br><span class="line">      <span class="keyword">local</span> m=menu.addSubMenu(v) </span><br><span class="line">      <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(title[v]) <span class="keyword">do</span> </span><br><span class="line">        m.add(v) </span><br><span class="line">      <span class="keyword">end</span> </span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">      <span class="keyword">local</span> m=menu.add(v) </span><br><span class="line">      m.setShowAsActionFlags(<span class="number">1</span>) </span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line">  <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onMenuItemSelected</span><span class="params">(id,title)</span></span> </span><br><span class="line">  <span class="keyword">if</span> y[title.getTitle()] <span class="keyword">then</span> </span><br><span class="line">    y[title.getTitle()]() </span><br><span class="line">  <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">end</span> </span><br><span class="line"></span><br><span class="line">y=&#123;&#125;</span><br><span class="line">y[<span class="string">&quot;å¸®åŠ©&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">()</span></span> </span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ ‡é¢˜æ è¿”å›æŒ‰é’®</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%A0%87%E9%A2%98%E6%A0%8F%E8%BF%94%E5%9B%9E%E6%8C%89%E9%92%AE-2021-11-08%2022:28:02/</url>
    <content><![CDATA[<h1>æ ‡é¢˜æ è¿”å›æŒ‰é’®</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--æ ‡é¢˜æ è¿”å›æŒ‰é’®</span></span><br><span class="line">activity.getActionBar().setDisplayHomeAsUpEnabled(<span class="literal">true</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ²‰æµ¸çŠ¶æ€æ </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%B2%89%E6%B5%B8%E7%8A%B6%E6%80%81%E6%A0%8F-2021-11-08%2022:19:31/</url>
    <content><![CDATA[<h1>æ²‰æµ¸çŠ¶æ€æ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è¿™ä¸ªéœ€è¦ç³»ç»ŸSDK21ä»¥ä¸Šæ‰èƒ½ç”¨</span></span><br><span class="line"><span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(<span class="number">0xff4285f4</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è¿™ä¸ªéœ€è¦ç³»ç»ŸSDK19ä»¥ä¸Šæ‰èƒ½ç”¨</span></span><br><span class="line"><span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">19</span> <span class="keyword">then</span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨æ§ä»¶js</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8E%A7%E4%BB%B6js-2021-11-08%2022:19:53/</url>
    <content><![CDATA[<h1>æµè§ˆå™¨æ§ä»¶js</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">webView.setLuaWebEvents&#123;</span><br><span class="line">  onPageFinished=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line">    webView.evaluateJavascript(<span class="string">[[JavaScriptä»£ç ]]</span>,<span class="literal">nil</span>)</span><br><span class="line"><span class="keyword">end</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æµè§ˆå™¨è®¾ç½®å¯ä»¥æ”¯æŒç¼©æ”¾</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E6%94%AF%E6%8C%81%E7%BC%A9%E6%94%BE-2021-11-08%2022:17:29/</url>
    <content><![CDATA[<h1>æµè§ˆå™¨è®¾ç½®å¯ä»¥æ”¯æŒç¼©æ”¾</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ§ä»¶ID.getSettings().setSupportZoom(<span class="literal">true</span>);<span class="comment">--è®¾ç½®å¯ä»¥æ”¯æŒç¼©æ”¾       </span></span><br><span class="line">æ§ä»¶ID.getSettings().setBuiltInZoomControls(<span class="literal">true</span>);<span class="comment">--è®¾ç½®å‡ºç°ç¼©æ”¾å·¥å…·  </span></span><br><span class="line">æ§ä»¶ID.getSettings().setUseWideViewPort(<span class="literal">true</span>);<span class="comment">--æ‰©å¤§æ¯”ä¾‹çš„ç¼©æ”¾ å°†å›¾ç‰‡è°ƒæ•´åˆ°é€‚åˆWebViewçš„å¤§å°  </span></span><br><span class="line">æ§ä»¶ID.getSettings().setLayoutAlgorithm(LayoutAlgorithm.SINGLE_COLUMN);<span class="comment">--è‡ªé€‚åº”å±å¹•   </span></span><br><span class="line">æ§ä»¶ID.getSettings().setLoadWithOverviewMode(<span class="literal">true</span>);<span class="comment">--è®¾ç½®WebViewæ˜¯å¦ä½¿ç”¨é¢„è§ˆæ¨¡å¼åŠ è½½ç•Œé¢ã€‚</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸å˜è‰²</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E6%B8%90%E5%8F%98%E8%89%B2-2021-11-08%2022:12:52/</url>
    <content><![CDATA[<h1>æ¸å˜è‰²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--é¡¶æ æ¸å˜è‰²</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ¸å˜<span class="params">(left_jb,right_jb,id)</span></span></span><br><span class="line">  drawable = GradientDrawable(GradientDrawable.Orientation.TR_BL,&#123;</span><br><span class="line">    right_jb,</span><br><span class="line">    left_jb,</span><br><span class="line">  &#125;);</span><br><span class="line">  id.setBackgroundDrawable(drawable)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">æ¸å˜(<span class="number">0xFF28D1DB</span>,<span class="number">0xFF28D1DB</span>,toolbarParent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¬¬ä¸‰æ–¹çŠ¶æ€æ  æ²‰æµ¸é€æ˜ éšè—æ ‡é¢˜æ </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E7%AC%AC%E4%B8%89%E6%96%B9%E7%8A%B6%E6%80%81%E6%A0%8F%20%E6%B2%89%E6%B5%B8%E9%80%8F%E6%98%8E%20%E9%9A%90%E8%97%8F%E6%A0%87%E9%A2%98%E6%A0%8F-2021-11-08%2022:13:05/</url>
    <content><![CDATA[<h1>ç¬¬ä¸‰æ–¹çŠ¶æ€æ  æ²‰æµ¸é€æ˜ éšè—æ ‡é¢˜æ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è®¾ç½®çŠ¶æ€æ é¢œè‰²</span></span><br><span class="line">activity.getWindow().setStatusBarColor(<span class="number">0x00000000</span>);</span><br><span class="line">activity.setTheme(android.R.style.Theme_DeviceDefault_Light)</span><br><span class="line"><span class="comment">--è®¾ç½®åº•éƒ¨è™šæ‹ŸæŒ‰é”®æ²‰æµ¸é€æ˜</span></span><br><span class="line">activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION)</span><br><span class="line"><span class="comment">--éšè—æ ‡é¢˜æ </span></span><br><span class="line">activity.ActionBar.hide()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€å•åˆ—è¡¨ç¤ºåˆ—</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E7%AE%80%E5%8D%95%E5%88%97%E8%A1%A8%E7%A4%BA%E5%88%97-2021-11-08%2022:24:10/</url>
    <content><![CDATA[<h1>ç®€å•åˆ—è¡¨ç¤ºåˆ—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åˆ—è¡¨å¸ƒå±€ï¼ŒæŠŠå¸ƒå±€ä»£ç å¤åˆ¶åˆ°è§†å›¾ç¼–è¾‘å™¨é‡Œå¯ä¿®æ”¹ï¼Œä¿®æ”¹å¥½åå†æŠŠä¿®æ”¹å¥½çš„ä»£ç ç²˜è´´åˆ°ä¸‹é¢ã€‚ä»layout=å¤„å¼€å§‹ï¼ˆä¸åŒ…å«&#123;ï¼‰</span></span><br><span class="line"></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">  padding=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    TextView;</span><br><span class="line">    id=<span class="string">&quot;æ ‡é¢˜&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;</span><br><span class="line">    TextView;</span><br><span class="line">    id=<span class="string">&quot;å†…å®¹&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">adp=LuaAdapter(activity,layout)</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯ä»¥è¯¦ç»†è®¾ç½®åˆ—è¡¨idä¸­çš„å†…å®¹ã€‚æ ‡é¢˜=&#123;æ–¹æ³•å=å‚æ•°&#125;</span></span><br><span class="line">adp.add&#123;æ ‡é¢˜=&#123;text=<span class="string">&quot;æˆ‘æ˜¯æ ‡é¢˜&quot;</span>,TextColor=<span class="number">0xff009688</span>&#125;,å†…å®¹=<span class="string">&quot;æˆ‘æ˜¯å†…å®¹&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">adp.add&#123;æ ‡é¢˜=<span class="string">&quot;æˆ‘æ˜¯æ ‡é¢˜&quot;</span>,å†…å®¹=<span class="string">&quot;æˆ‘æ˜¯å†…å®¹&quot;</span>&#125;</span><br><span class="line">adp.add&#123;æ ‡é¢˜=<span class="string">&quot;æˆ‘æ˜¯æ ‡é¢˜&quot;</span>,å†…å®¹=<span class="string">&quot;æˆ‘æ˜¯å†…å®¹&quot;</span>&#125;</span><br><span class="line">adp.add&#123;æ ‡é¢˜=<span class="string">&quot;æˆ‘æ˜¯æ ‡é¢˜&quot;</span>,å†…å®¹=<span class="string">&quot;æˆ‘æ˜¯å†…å®¹&quot;</span>&#125;</span><br><span class="line">åˆ—è¡¨id.Adapter=adp</span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ—è¡¨çš„ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">åˆ—è¡¨id.onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(parent, v, pos,id)</span></span></span><br><span class="line">  a=v.Tag.æ ‡é¢˜.Text</span><br><span class="line">  b=v.Tag.å†…å®¹.Text</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(a)</span><br><span class="line">  <span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªåŠ¨åˆ‡æ¢é€‚åº”ä¸»é¢˜</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%87%AA%E5%8A%A8%E5%88%87%E6%8D%A2%E9%80%82%E5%BA%94%E4%B8%BB%E9%A2%98-2021-11-08%2022:24:49/</url>
    <content><![CDATA[<h1>è‡ªåŠ¨åˆ‡æ¢é€‚åº”ä¸»é¢˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è‡ªåŠ¨åˆ‡æ¢é€‚åº”ä¸»é¢˜</span></span><br><span class="line"><span class="comment">--è½½å…¥åˆ‡æ¢</span></span><br><span class="line"><span class="comment">--æ ¹æ®Android SDKåˆ¤æ–­æ˜¯å¦æ”¯æŒMDä¸»é¢˜ï¼Œå¦åˆ™ä½¿ç”¨Holoä¸»é¢˜</span></span><br><span class="line"><span class="comment">--æ³¨æ„è¦æŠŠä»£ç æ”¾åˆ°activity.setContentView(loadlayout(layout))ä¸Šé¢å»ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> sdk = Build.VERSION.SDK_INT</span><br><span class="line"><span class="keyword">if</span> sdk &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">  theme=... <span class="keyword">or</span> android.R.style.Theme_Material_Light</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  theme=... <span class="keyword">or</span> android.R.style.Theme_Holo_Light</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">activity.setTheme(theme)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç‚¹å‡»æŒ‰é’®åˆ‡æ¢</span></span><br><span class="line">æ§ä»¶id.onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  <span class="keyword">local</span> sdk = Build.VERSION.SDK_INT</span><br><span class="line">  <span class="keyword">if</span> sdk &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> theme==android.R.style.Theme_Material <span class="keyword">then</span></span><br><span class="line">      activity.finish()</span><br><span class="line">      activity.newActivity(<span class="string">&quot;main&quot;</span>,android.R.anim.fade_in,android.R.anim.fade_out,&#123;android.R.style.Theme_Material_Light&#125;)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      activity.finish()</span><br><span class="line">      activity.newActivity(<span class="string">&quot;main&quot;</span>,android.R.anim.fade_in,android.R.anim.fade_out,&#123;android.R.style.Theme_Material&#125;)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">if</span> theme==android.R.style.Theme_Holo <span class="keyword">then</span></span><br><span class="line">      activity.finish()</span><br><span class="line">      activity.newActivity(<span class="string">&quot;main&quot;</span>,android.R.anim.fade_in,android.R.anim.fade_out,&#123;android.R.style.Theme_Holo_Light&#125;)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      activity.finish()</span><br><span class="line">      activity.newActivity(<span class="string">&quot;main&quot;</span>,android.R.anim.fade_in,android.R.anim.fade_out,&#123;android.R.style.Theme_Holo&#125;)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®activityèƒŒæ™¯é¢œè‰²</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AEactivity%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2-2021-11-08%2022:28:41/</url>
    <content><![CDATA[<h1>è®¾ç½®activityèƒŒæ™¯é¢œè‰²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è®¾ç½®activityèƒŒæ™¯é¢œè‰²</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">activity</span>èƒŒæ™¯é¢œè‰²<span class="params">(color)</span></span></span><br><span class="line">  _window = activity.getWindow();</span><br><span class="line">  _window.setBackgroundDrawable(ColorDrawable(color));</span><br><span class="line">  _wlp = _window.getAttributes();</span><br><span class="line">  _wlp.gravity = Gravity.BOTTOM;</span><br><span class="line">  _wlp.width = WindowManager.LayoutParams.MATCH_PARENT;</span><br><span class="line">  _wlp.height = WindowManager.LayoutParams.MATCH_PARENT;<span class="comment">--WRAP_CONTENT</span></span><br><span class="line">  _window.setAttributes(_wlp);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è¯¥å‡½æ•°éœ€è®¾ç½®å¸ƒå±€åä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ä¾‹å­</span></span><br><span class="line">activity.setContentView(LinearLayout(activity))</span><br><span class="line">activityèƒŒæ™¯é¢œè‰²(<span class="number">0xff424242</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®å¡«å……è‰²ï¼Œè®¾ç½®åœ†è§’ï¼Œè®¾ç½®è¾¹æ¡†</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E5%A1%AB%E5%85%85%E8%89%B2%EF%BC%8C%E8%AE%BE%E7%BD%AE%E5%9C%86%E8%A7%92%EF%BC%8C%E8%AE%BE%E7%BD%AE%E8%BE%B9%E6%A1%86-2021-11-08%2022:23:13/</url>
    <content><![CDATA[<h1>è®¾ç½®å¡«å……è‰²ï¼Œè®¾ç½®åœ†è§’ï¼Œè®¾ç½®è¾¹æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">InsideColor = Color.parseColor(<span class="string">&quot;#FFC5BCEB&quot;</span>)</span><br><span class="line">radiu = <span class="number">60</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">drawable = GradientDrawable()</span><br><span class="line">drawable.setShape(GradientDrawable.RECTANGLE)</span><br><span class="line"><span class="comment">--è®¾ç½®å¡«å……è‰²</span></span><br><span class="line">drawable.setColor(InsideColor)</span><br><span class="line"><span class="comment">--è®¾ç½®åœ†è§’ : å·¦ä¸Š å³ä¸Š å³ä¸‹ å·¦ä¸‹</span></span><br><span class="line">drawable.setCornerRadii(&#123;<span class="number">720</span>, <span class="number">600</span>, <span class="number">720</span>, <span class="number">600</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>&#125;);</span><br><span class="line"><span class="comment">--è®¾ç½®è¾¹æ¡† : å®½åº¦ é¢œè‰²</span></span><br><span class="line">drawable.setStroke(<span class="number">2</span>, Color.parseColor(<span class="string">&quot;#FF73AB80&quot;</span>))</span><br><span class="line">æ§ä»¶ID.setBackgroundDrawable(drawable)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®æ—¶é—´</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E6%97%B6%E9%97%B4-2021-11-08%2022:15:50/</url>
    <content><![CDATA[<h1>è®¾ç½®æ—¶é—´</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> æ—¶é—´<span class="params">()</span></span></span><br><span class="line">  hb()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">åäºŒå°æ—¶åˆ¶=<span class="number">1</span></span><br><span class="line"><span class="comment">--æ–‡æœ¬æ§ä»¶çš„IDï½œ</span></span><br><span class="line">asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H:%M:%S&quot;</span>))</span><br><span class="line"><span class="keyword">if</span> åäºŒå°æ—¶åˆ¶==<span class="number">0</span> <span class="keyword">or</span> åäºŒ==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;24&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;00:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;23&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;11:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;22&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;10:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;21&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;9:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;20&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;8:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;19&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;7:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;18&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;6:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;17&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;5:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;16&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;4:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;15&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;3:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;14&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;2:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;13&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;1:%M&quot;</span>))</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hb</span><span class="params">(åäºŒ)</span></span></span><br><span class="line">  asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H:%M:%S&quot;</span>))</span><br><span class="line">  <span class="comment">--æ£€æµ‹æ—¶é—´å¹¶è®¾ç½®æ—¶é—´æ®µ</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;24&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;åŠå¤œ&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;19&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;æ™šä¸Š&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;17&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;å‚æ™š&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;14&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;ä¸‹åˆ&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;12&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;ä¸­åˆ&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;10&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;ä¸Šåˆ&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&gt;=<span class="built_in">tonumber</span>(<span class="string">&quot;7&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;æ—©ä¸Š&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))&lt;=<span class="built_in">tonumber</span>(<span class="string">&quot;5&quot;</span>) <span class="keyword">then</span></span><br><span class="line">    asp2.setText(<span class="string">&quot;æ¸…æ™¨&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> asp.text:<span class="built_in">find</span><span class="string">&quot;00&quot;</span> <span class="keyword">then</span></span><br><span class="line">    asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H:%M:%S&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span> åäºŒå°æ—¶åˆ¶==<span class="number">0</span> <span class="keyword">or</span> åäºŒ==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;24&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;00:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;23&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;11:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;22&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;10:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;21&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;9:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;20&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;8:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;19&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;7:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;18&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;6:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;17&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;5:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;16&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;4:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;15&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;3:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;14&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;2:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;13&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;1:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%S&quot;</span>))&lt;<span class="number">03</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--print(&quot;less than 02&quot;)</span></span><br><span class="line">    <span class="keyword">if</span> åäºŒå°æ—¶åˆ¶==<span class="number">0</span> <span class="keyword">or</span> åäºŒ==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;24&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;00:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;23&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;11:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;22&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;10:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;21&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;9:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;20&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;8:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;19&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;7:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;18&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;6:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;17&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;5:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;16&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;4:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;15&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;3:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;14&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;2:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">elseif</span> <span class="built_in">tonumber</span>(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%H&quot;</span>))==<span class="built_in">tonumber</span>(<span class="string">&quot;13&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        asp.setText(<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;1:%M&quot;</span>))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ·æ–°<span class="params">()</span></span></span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">    Thread.sleep(<span class="number">100</span>)</span><br><span class="line">    call(<span class="string">&quot;æ—¶é—´&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">thread(åˆ·æ–°)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®çŠ¶æ€æ èƒŒæ™¯é¢œè‰²ï¼Œåˆ†å‰²çŠ¶æ€æ </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E7%8A%B6%E6%80%81%E6%A0%8F%E8%83%8C%E6%99%AF%E9%A2%9C%E8%89%B2%EF%BC%8C%E5%88%86%E5%89%B2%E7%8A%B6%E6%80%81%E6%A0%8F-2021-11-08%2022:13:56/</url>
    <content><![CDATA[<h1>è®¾ç½®çŠ¶æ€æ èƒŒæ™¯é¢œè‰²ï¼Œåˆ†å‰²çŠ¶æ€æ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE|WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN)</span><br><span class="line"><span class="comment">--åˆ†å‰²çŠ¶æ€æ ï¼Œå»é™¤é˜´å½±æ•ˆæœ,è‹¥æƒ³æ”¹é¢œè‰²å¿…ç”¨æ­¤æ•ˆæœ</span></span><br><span class="line">activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS | WindowManager.LayoutParams.FLAG_TRANSLUCENT_NAVIGATION);</span><br><span class="line"><span class="comment">--è®¾ç½®çŠ¶æ€æ èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(<span class="number">0xFF7368EA</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®è¾¹æ¡†åœ†è§’å‡½æ•°</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E8%BE%B9%E6%A1%86%E5%9C%86%E8%A7%92%E5%87%BD%E6%95%B0-2021-11-08%2022:14:42/</url>
    <content><![CDATA[<h1>è®¾ç½®è¾¹æ¡†åœ†è§’å‡½æ•°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è®¾ç½®è¾¹æ¡†åœ†è§’å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å¡ç‰‡<span class="params">(è¾¹æ¡†åšåº¦,è¾¹æ¡†é¢œè‰²,èƒŒæ™¯é¢œè‰²,åœ†è§’åº¦)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line">  drawable=GradientDrawable()</span><br><span class="line">  drawable.setShape(GradientDrawable.RECTANGLE)</span><br><span class="line">  drawable.setStroke(è¾¹æ¡†åšåº¦,<span class="built_in">tonumber</span>(è¾¹æ¡†é¢œè‰²))<span class="comment">--è¾¹æ¡†åšåº¦å’ŒèƒŒæ™¯é¢œè‰²</span></span><br><span class="line">  drawable.setColor(<span class="built_in">tonumber</span>(èƒŒæ™¯é¢œè‰²))<span class="comment">--èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">  drawable.setCornerRadius(åœ†è§’åº¦)<span class="comment">--åœ†è§’</span></span><br><span class="line">  <span class="keyword">return</span> drawable</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="comment">--åˆ†åˆ«ä¸º:ID,è¾¹æ¡†åšåº¦,è¾¹æ¡†é¢œè‰²,èƒŒæ™¯é¢œè‰²,åœ†è§’åº¦</span></span><br><span class="line">æ§ä»¶ID.BackgroundDrawable=å¡ç‰‡(<span class="number">3</span>,<span class="number">0xdb00ffe6</span>,<span class="number">0xffffff</span>,<span class="number">35</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®é€‰æ‹©å­—ä½“é£æ ¼</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E9%80%89%E6%8B%A9%E5%AD%97%E4%BD%93%E9%A3%8E%E6%A0%BC-2021-11-08%2022:25:08/</url>
    <content><![CDATA[<h1>è®¾ç½®é€‰æ‹©å­—ä½“é£æ ¼</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Typeface&quot;</span></span><br><span class="line"><span class="comment">--é€‰æ‹©å­—ä½“é£æ ¼ï¼š</span></span><br><span class="line">Typeface=Typeface.DEFAULT<span class="comment">--é»˜è®¤å­—ä½“</span></span><br><span class="line">Typeface=Typeface.DEFAULT_BOLD<span class="comment">--åŠ ç²—å­—ä½“</span></span><br><span class="line">Typeface=Typeface.MONOSPACE<span class="comment">--monospaceå­—ä½“</span></span><br><span class="line">Typeface=Typeface.SANS_SERIF<span class="comment">--sanså­—ä½“</span></span><br><span class="line">Typeface=Typeface.SERIF<span class="comment">--serifå­—ä½“</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è½½å…¥çª—å£ä¼ å‚ï¼Œçª—å£å›è°ƒäº‹ä»¶</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%BD%BD%E5%85%A5%E7%AA%97%E5%8F%A3%E4%BC%A0%E5%8F%82%EF%BC%8C%E7%AA%97%E5%8F%A3%E5%9B%9E%E8%B0%83%E4%BA%8B%E4%BB%B6-2021-11-08%2022:27:33/</url>
    <content><![CDATA[<h1>è½½å…¥çª—å£ä¼ å‚ï¼Œçª—å£å›è°ƒäº‹ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è½½å…¥çª—å£ä¼ å‚</span></span><br><span class="line">activity.newActivity(<span class="string">&quot;çª—å£å&quot;</span>,&#123;å‚æ•°&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ¸å˜åŠ¨ç”»æ•ˆæœçš„ï¼Œä¸­é—´æ˜¯å®‰å“è·³è½¬åŠ¨ç”»ä»£ç </span></span><br><span class="line">activity.newActivity(<span class="string">&quot;çª—å£å&quot;</span>,android.R.anim.fade_in,android.R.anim.fade_out,&#123;å‚æ•°&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--çª—å£å›è°ƒäº‹ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onActivityResult</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è¿”å›é”®ä¸menuå…±å­˜</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%BF%94%E5%9B%9E%E9%94%AE%E4%B8%8Emenu%E5%85%B1%E5%AD%98-2021-11-08%2022:23:50/</url>
    <content><![CDATA[<h1>è¿”å›é”®ä¸menuå…±å­˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ˜¾ç¤ºè¿”å›æŒ‰é’®</span></span><br><span class="line">activity.ActionBar.setDisplayHomeAsUpEnabled(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ·»åŠ menu</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onCreateOptionsMenu</span><span class="params">(menu)</span></span></span><br><span class="line"></span><br><span class="line">  menu.add(<span class="string">&quot;å˜¿å˜¿&quot;</span>) </span><br><span class="line">  menu.add(<span class="string">&quot;å“ˆå“ˆ&quot;</span>) </span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onOptionsItemSelected</span><span class="params">(z)</span></span></span><br><span class="line">  t=z.getTitle()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> t==<span class="string">&quot;å˜¿å˜¿&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä½ ç‚¹å‡»äº†å˜¿å˜¿&quot;</span>)</span><br><span class="line">  <span class="keyword">elseif</span> z==<span class="string">&quot;å“ˆå“ˆ&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(ä½ ç‚¹å‡»äº†å“ˆå“ˆ<span class="string">&quot;)</span></span><br><span class="line"><span class="string"> else</span></span><br><span class="line"><span class="string">    print(&quot;</span>é€€å‡ºç¨‹åº<span class="string">&quot;)</span></span><br><span class="line"><span class="string">    activity.finish()</span></span><br><span class="line"><span class="string">  end</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è¿›åº¦æ¡å˜éŸ³é‡</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E8%BF%9B%E5%BA%A6%E6%9D%A1%E5%8F%98%E9%9F%B3%E9%87%8F-2021-11-08%2022:24:27/</url>
    <content><![CDATA[<h1>è¿›åº¦æ¡å˜éŸ³é‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¯¼å…¥AudioManagerç±»</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">import <span class="string">&quot;android.media.AudioManager&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ³¨æ„æ˜¯æ”¹å˜åª’ä½“éŸ³é‡</span></span><br><span class="line"><span class="comment">--ä½œè€…messy</span></span><br><span class="line"><span class="comment">--seekbarä¸ºè¿›åº¦æ¡ID</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¾—åˆ°éŸ³é¢‘ç®¡ç†å¯¹è±¡</span></span><br><span class="line">mAudioManager = activity.getSystemService(Context.AUDIO_SERVICE);</span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–å½“å‰éŸ³ä¹éŸ³é‡</span></span><br><span class="line">mVolume = mAudioManager.getStreamVolume(AudioManager.STREAM_MUSIC); </span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®ä¸ºseekbaréŸ³é‡çš„æœ€å¤§é˜¶æ•°</span></span><br><span class="line">seekbar.setMax(mAudioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC));</span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¾ç½®seekbarä¸ºå½“å‰éŸ³é‡è¿›åº¦ </span></span><br><span class="line">seekbar.setProgress(mVolume);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç»‘å®šç›‘å¬</span></span><br><span class="line">seekbar.setOnSeekBarChangeListener&#123;</span><br><span class="line">  onProgressChanged=<span class="function"><span class="keyword">function</span><span class="params">(a,i)</span></span></span><br><span class="line">    <span class="comment">--æ‹–åŠ¨seekbaræ—¶æ”¹å˜éŸ³é‡</span></span><br><span class="line">    mAudioManager.setStreamVolume(AudioManager.STREAM_MUSIC, i, <span class="number">1</span>);<span class="comment">--è®¾ç½®1æ˜¾ç¤ºéŸ³é‡è°ƒèŠ‚çª—å£0ä¸ºéšè—</span></span><br><span class="line">    px=<span class="built_in">math</span>.<span class="built_in">floor</span>(i/mAudioManager.getStreamMaxVolume(AudioManager.STREAM_MUSIC)*<span class="number">100</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;éŸ³é‡:&quot;</span>..px..<span class="string">&quot;%&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>é€€å‡ºé¡µé¢ï¼Œé€€å‡ºç¨‹åºï¼Œç»“æŸç¨‹åº</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%80%80%E5%87%BA%E9%A1%B5%E9%9D%A2%EF%BC%8C%E9%80%80%E5%87%BA%E7%A8%8B%E5%BA%8F%EF%BC%8C%E7%BB%93%E6%9D%9F%E7%A8%8B%E5%BA%8F-2021-11-08%2022:22:35/</url>
    <content><![CDATA[<h1>é€€å‡ºé¡µé¢ï¼Œé€€å‡ºç¨‹åºï¼Œç»“æŸç¨‹åº</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--é€€å‡ºé¡µé¢</span></span><br><span class="line">activity.finish()</span><br><span class="line"></span><br><span class="line"><span class="comment">--é€€å‡ºç¨‹åº</span></span><br><span class="line">activity.finish()</span><br><span class="line"></span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line"><span class="comment">--ç»“æŸè¿›ç¨‹</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">exit</span>()</span><br><span class="line"></span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç»“æŸç¨‹åº()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line"></span><br><span class="line">dl.dismiss()å…³é—­å¯¹è¯æ¡†</span><br><span class="line">â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦</span><br><span class="line"></span><br><span class="line"><span class="comment">--å°†dl.showèµ‹å€¼</span></span><br><span class="line">dialog=dl.show()</span><br><span class="line"><span class="comment">--åœ¨æŸæŒ‰é’®ç‚¹å‡»åå…³é—­è¿™ä¸ªå¯¹è¯æ¡†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zc.onClick</span><span class="params">()</span></span></span><br><span class="line">  dialog.dismiss()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>éƒ¨åˆ†å±æ€§ä»£ç </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%83%A8%E5%88%86%E5%B1%9E%E6%80%A7%E4%BB%A3%E7%A0%81-2021-11-08%2022:10:56/</url>
    <content><![CDATA[<h1>éƒ¨åˆ†å±æ€§ä»£ç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å‚ç›´æ–¹å‘ </span></span><br><span class="line"> orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å‚ç›´æ–¹å‘ </span></span><br><span class="line"><span class="comment">--æ°´å¹³æ–¹å‘ </span></span><br><span class="line"> orientation=<span class="string">&quot;horizontal&quot;</span>,<span class="comment">--æ°´å¹³æ–¹å‘ </span></span><br><span class="line"><span class="comment">--å¸ƒå±€å®½åº¦ </span></span><br><span class="line"> layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦ </span></span><br><span class="line"><span class="comment">--å¸ƒå±€é«˜åº¦ </span></span><br><span class="line"> layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦ </span></span><br><span class="line"><span class="comment">--æƒé‡å€¼åˆ†é… </span></span><br><span class="line"> layout_weight=<span class="string">&quot;1&quot;</span>,<span class="comment">--æƒé‡å€¼åˆ†é… </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±æ€§ </span></span><br><span class="line"> gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é¡¶ï¼štopï½œä¸­ï¼šcenterï½œå·¦ï¼šleftï½œå³ï¼šrightï½œåº•ï¼šbottom </span></span><br><span class="line"><span class="comment">--å¸ƒå±€èƒŒæ™¯ </span></span><br><span class="line"> background=<span class="string">&quot;#ffffffff&quot;</span>,<span class="comment">--å¸ƒå±€èƒŒæ™¯ </span></span><br><span class="line"><span class="comment">--æ§ä»¶è®¾ç½®ID </span></span><br><span class="line"> id=<span class="string">&quot;button&quot;</span>,<span class="comment">--æ§ä»¶ID </span></span><br><span class="line"><span class="comment">--å•å‡»äº‹ä»¶ </span></span><br><span class="line"> onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--å•å‡»äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span>,<span class="comment">--å•å‡»äº‹ä»¶ ç»“æŸ </span></span><br><span class="line"><span class="comment">--â†¹å¸ƒå±€è¾¹è· </span></span><br><span class="line"> layout_margin=<span class="string">&quot;8dp&quot;</span>,<span class="comment">--å¸ƒå±€è¾¹è· </span></span><br><span class="line"><span class="comment">--âˆ§å¸ƒå±€é¡¶è· </span></span><br><span class="line"> layout_marginTop=<span class="string">&quot;15dp&quot;</span>,<span class="comment">--å¸ƒå±€é¡¶è· </span></span><br><span class="line"><span class="comment">--ï¼œå¸ƒå±€å·¦è· </span></span><br><span class="line"> layout_marginLeft=<span class="string">&quot;4%w&quot;</span>,<span class="comment">--å¸ƒå±€å·¦è· </span></span><br><span class="line"><span class="comment">--ï¼å¸ƒå±€å³è· </span></span><br><span class="line"> layout_marginRight=<span class="string">&quot;4%w&quot;</span>,<span class="comment">--å¸ƒå±€å³è· </span></span><br><span class="line"><span class="comment">--âˆ¨å¸ƒå±€åº•è· </span></span><br><span class="line"> layout_marginBottom=<span class="string">&quot;15dp&quot;</span>,<span class="comment">--å¸ƒå±€åº•è· </span></span><br><span class="line"><span class="comment">--å¸ƒå±€å¡«å…… </span></span><br><span class="line"> padding=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¸ƒå±€å¡«å…… </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…é¡¶â†‘ç½®ä¸­ </span></span><br><span class="line"> gravity=<span class="string">&quot;top|center&quot;</span>,<span class="comment">--é‡åŠ›å±…é¡¶ï½œç½®ä¸­ </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…åº•â†“ç½®ä¸­ </span></span><br><span class="line"> gravity=<span class="string">&quot;bottom|center&quot;</span>,<span class="comment">--é‡åŠ›å±…åº•ï½œç½®ä¸­ </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…é¡¶â†–ç½®å·¦ </span></span><br><span class="line"> gravity=<span class="string">&quot;top|left&quot;</span>,<span class="comment">--é‡åŠ›å±…é¡¶ï½œç½®å·¦ </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…é¡¶â†—ç½®å³ </span></span><br><span class="line"> gravity=<span class="string">&quot;top|right&quot;</span>,<span class="comment">--é‡åŠ›å±…é¡¶ï½œç½®å³ </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…å·¦â†ç½®ä¸­ </span></span><br><span class="line"> gravity=<span class="string">&quot;left|center&quot;</span>,<span class="comment">--é‡åŠ›å±…å·¦ï½œç½®ä¸­ </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…å³â†’ç½®ä¸­ </span></span><br><span class="line"> gravity=<span class="string">&quot;right|center&quot;</span>,<span class="comment">--é‡åŠ›å±…å³ï½œç½®ä¸­ </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…å·¦â†™ç½®åº• </span></span><br><span class="line"> gravity=<span class="string">&quot;left|bottom&quot;</span>,<span class="comment">--é‡åŠ›å±…å·¦ï½œç½®åº• </span></span><br><span class="line"><span class="comment">--é‡åŠ›å±…å³â†˜ç½®åº• </span></span><br><span class="line"> gravity=<span class="string">&quot;right|bottom&quot;</span>,<span class="comment">--é‡åŠ›å±…å³ï½œç½®åº• </span></span><br><span class="line"><span class="comment">--è§†å›¾è·¯å¾„ </span></span><br><span class="line"> src=<span class="string">&quot;drawable/icon.png&quot;</span>,<span class="comment">--è§†å›¾è·¯å¾„ </span></span><br><span class="line"><span class="comment">--å›¾ç‰‡é¢œè‰² </span></span><br><span class="line"> colorFilter=<span class="string">&quot;#ffffff&quot;</span>,<span class="comment">--å›¾ç‰‡é¢œè‰² </span></span><br><span class="line"><span class="comment">--å›¾ç‰‡æ˜¾ç¤ºç±»å‹ </span></span><br><span class="line"> scaleType=<span class="string">&quot;fitXY&quot;</span>,<span class="comment">--å›¾ç‰‡æ˜¾ç¤ºç±»å‹ï¼šcenterCrop </span></span><br><span class="line"><span class="comment">--æ–‡æœ¬å†…å®¹ </span></span><br><span class="line"> text=<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹ </span></span><br><span class="line"><span class="comment">--æ–‡æœ¬å¤§å° </span></span><br><span class="line"> textSize=<span class="string">&quot;16sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å° </span></span><br><span class="line"><span class="comment">--æ–‡æœ¬é¢œè‰² </span></span><br><span class="line"> textColor=<span class="string">&quot;#ffffff&quot;</span>,<span class="comment">--æ–‡æœ¬é¢œè‰² </span></span><br><span class="line"><span class="comment">--æ–‡æœ¬æ˜¾ç¤ºç±»å‹ </span></span><br><span class="line"> typeface=Typeface.DEFAULT_BOLD,<span class="comment">--æ–‡æœ¬æ˜¾ç¤ºç±»å‹ </span></span><br><span class="line"><span class="comment">--æ–‡æœ¬å¯é€‰å¤åˆ¶ </span></span><br><span class="line"> textIsSelectable=<span class="literal">true</span>,<span class="comment">--å†…å®¹å¯é€‰å¤åˆ¶ </span></span><br><span class="line"><span class="comment">--åœ†è§’åŠå¾„ </span></span><br><span class="line"> radius=<span class="string">&quot;10dp&quot;</span>,<span class="comment">--åœ†è§’åŠå¾„ </span></span><br><span class="line"><span class="comment">--å¡ç‰‡æå‡ </span></span><br><span class="line"> cardElevation=<span class="string">&quot;12dp&quot;</span>,<span class="comment">--å¡ç‰‡æå‡ </span></span><br><span class="line"><span class="comment">--é˜´å½±å±‚æ¬¡ </span></span><br><span class="line"> elevation=<span class="string">&quot;4dp&quot;</span>,<span class="comment">--é˜´å½±å±‚æ¬¡ </span></span><br><span class="line"><span class="comment">--å¡ç‰‡èƒŒæ™¯è‰² </span></span><br><span class="line"> cardBackgroundColor=<span class="string">&quot;#ffffff&quot;</span>,<span class="comment">--å¡ç‰‡èƒŒæ™¯è‰² </span></span><br><span class="line"><span class="comment">--çº½æ‰£èƒŒæ™¯è‰² </span></span><br><span class="line"> backgroundColor=<span class="string">&quot;#8EC0E4&quot;</span>,<span class="comment">--èƒŒæ™¯è‰² </span></span><br><span class="line"><span class="comment">--æ§ä»¶æ˜¾ç¤º/éšè—/ä¸å¯è§† </span></span><br><span class="line"> visibility=<span class="number">8</span>,<span class="comment">--ä¸å¯è§†4--éšè—8--æ˜¾ç¤º0 </span></span><br><span class="line"><span class="comment">--æ§ä»¶é€æ˜åº¦ </span></span><br><span class="line"> alpha=<span class="number">0.6</span>,<span class="comment">--æ§ä»¶é€æ˜åº¦ </span></span><br><span class="line"><span class="comment">--å¼€å…³æ§ä»¶é¢œè‰² </span></span><br><span class="line"> å¡«å†™æ§ä»¶ID.ThumbDrawable.setColorFilter(PorterDuffColorFilter(<span class="number">0xffff0000</span>,PorterDuff.Mode.SRC_ATOP))<span class="comment">--å¼€å…³æ§ä»¶é¢œè‰² </span></span><br><span class="line"><span class="comment">--è¿›åº¦æ¡é¢œè‰² </span></span><br><span class="line"> å¡«å†™æ§ä»¶ID.IndeterminateDrawable.setColorFilter(PorterDuffColorFilter(<span class="number">0xffff0000</span>,PorterDuff.Mode.SRC_ATOP))<span class="comment">--è¿›åº¦æ¡é¢œè‰² </span></span><br><span class="line"><span class="comment">--éšè—å…‰æ ‡ </span></span><br><span class="line"> cursorVisible=<span class="literal">false</span>,<span class="comment">--falseéšè—,trueåˆ™ä¸ºæ˜¾ç¤º </span></span><br><span class="line"><span class="comment">--éšè—åœ†å¼§é˜´å½± </span></span><br><span class="line"> overScrollMode=View.OVER_SCROLL_NEVER,<span class="comment">--éšè—åœ†å¼§é˜´å½± </span></span><br><span class="line"><span class="comment">--è¾“å…¥æ³•ï½œEnteré”® </span></span><br><span class="line"> imeOptions=<span class="string">&quot;actionSearch&quot;</span>,<span class="comment">--è¾“å…¥æ³•Enteré”® </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œé™åˆ¶æœ€å¤šè¾“å…¥ </span></span><br><span class="line"> maxLength=<span class="string">&quot;10&quot;</span>,<span class="comment">--é™åˆ¶æœ€å¤šè¾“å…¥æ–‡å­— </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œåªå¯è¾“å…¥æ•°å­— </span></span><br><span class="line"> inputType=<span class="string">&quot;number&quot;</span>,<span class="comment">--è®¾ç½®åªå¯è¾“å…¥æ•°å­— </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œç¦æ­¢æ¢è¡Œè¾“å…¥ </span></span><br><span class="line"> singleLine=<span class="literal">true</span>,<span class="comment">--ç¦æ­¢æ¢è¡Œè¾“å…¥ </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œéšè—ä¸º*å· </span></span><br><span class="line"> password=<span class="literal">true</span>,<span class="comment">--è‡ªåŠ¨éšè—ä¸º*å· </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œæ–‡å­—è¿‡é•¿éšè— </span></span><br><span class="line"> ellipsize=<span class="string">&quot;end&quot;</span>,<span class="comment">--æ–‡å­—è¿‡é•¿è‡ªåŠ¨éšè— </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œæ°”æ³¡æç¤º </span></span><br><span class="line"> <span class="built_in">error</span>=<span class="string">&quot;è¯·è¾“å…¥&quot;</span>,<span class="comment">--æ°”æ³¡æç¤º </span></span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ï½œä¸ºç©ºæ—¶æ˜¾ç¤º </span></span><br><span class="line"> hint=<span class="string">&quot; è¯·è¾“å…¥&quot;</span><span class="comment">--å†…å®¹ä¸ºç©ºæ—¶æ˜¾ç¤º </span></span><br><span class="line"><span class="comment">--ç¦æ­¢å¼¹å‡ºè¾“å…¥æ³• </span></span><br><span class="line"> focusableInTouchMode=<span class="literal">true</span>,<span class="comment">--ç¦æ­¢å¼¹å‡ºè¾“å…¥æ³• </span></span><br><span class="line"><span class="comment">--ç¦ç”¨ç¼–è¾‘æ¡† </span></span><br><span class="line"> focusable=<span class="literal">false</span>,<span class="comment">--ç¦ç”¨ç¼–è¾‘æ¡† </span></span><br><span class="line"><span class="comment">--éšè—çºµå‘æ»‘æ¡ </span></span><br><span class="line"> verticalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—çºµå‘æ»‘æ¡ </span></span><br><span class="line"><span class="comment">--éšè—æ¨ªå‘æ»‘æ¡ </span></span><br><span class="line"> horizontalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—æ¨ªå‘æ»‘æ¡ </span></span><br><span class="line"><span class="comment">--æ§ä»¶æ˜¯å¦å¯ä½¿ç”¨ </span></span><br><span class="line"> enabled=<span class="literal">false</span>,<span class="comment">--æ˜¯å¦å¯ä½¿ç”¨ </span></span><br><span class="line"><span class="comment">--æ§ä»¶æ˜¯å¦å¯ç‚¹å‡» </span></span><br><span class="line"> focusable=<span class="literal">true</span>,<span class="comment">--æ˜¯å¦å¯ç‚¹å‡» </span></span><br><span class="line"><span class="comment">--è°ƒç”¨ç³»ç»Ÿçª—å£ </span></span><br><span class="line"> fitsSystemWindows=<span class="literal">true</span>,<span class="comment">--è°ƒç”¨ç³»ç»Ÿçª—å£ </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>éƒ¨åˆ†å¸ƒå±€ä»£ç </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%83%A8%E5%88%86%E5%B8%83%E5%B1%80%E4%BB%A3%E7%A0%81-2021-11-08%2022:10:37/</url>
    <content><![CDATA[<h1>éƒ¨åˆ†å¸ƒå±€ä»£ç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ã€Šçº¿æ€§å¸ƒå±€ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;,<span class="comment">--çº¿æ€§å¸ƒå±€ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šå¸§å¸ƒå±€ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  FrameLayout,<span class="comment">--å¸§å¸ƒå±€</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;,<span class="comment">--å¸§å¸ƒå±€ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šç›¸å¯¹å¸ƒå±€ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  RelativeLayout,<span class="comment">--ç›¸å¯¹å¸ƒå±€</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;,<span class="comment">--ç›¸å¯¹å¸ƒå±€ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šç»å¯¹å¸ƒå±€ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  AbsoluteLayout,<span class="comment">--ç»å¯¹å¸ƒå±€</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;,<span class="comment">--ç»å¯¹å¸ƒå±€ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šè¡¨æ ¼å¸ƒå±€ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  TableLayout,<span class="comment">--è¡¨æ ¼å¸ƒå±€</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;,<span class="comment">--è¡¨æ ¼å¸ƒå±€ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šçºµå‘æ»‘åŠ¨æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ScrollView,<span class="comment">--çºµå‘æ»‘åŠ¨æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  overScrollMode=View.OVER_SCROLL_NEVER,<span class="comment">--éšè—åœ†å¼§é˜´å½±</span></span><br><span class="line">  verticalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—çºµå‘æ»‘æ¡</span></span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  &#125;,<span class="comment">--çº¿æ€§å¸ƒå±€ç»“æŸ</span></span><br><span class="line">&#125;,<span class="comment">--çºµå‘æ»‘åŠ¨æ§ä»¶ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šæ¨ªå‘æ»‘åŠ¨æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  HorizontalScrollView,<span class="comment">--æ¨ªå‘æ»‘åŠ¨æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  overScrollMode=View.OVER_SCROLL_NEVER,<span class="comment">--éšè—åœ†å¼§é˜´å½±</span></span><br><span class="line">  horizontalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—æ¨ªå‘æ»‘æ¡</span></span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout,<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">    orientation=<span class="string">&quot;horizontal&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">    gravity=<span class="string">&quot;left|center&quot;</span>,<span class="comment">--é‡åŠ›å±…å·¦ï½œç½®ä¸­</span></span><br><span class="line">  &#125;,<span class="comment">--çº¿æ€§å¸ƒå±€ç»“æŸ</span></span><br><span class="line">&#125;,<span class="comment">--æ¨ªå‘æ»‘åŠ¨æ§ä»¶ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šæ–‡æœ¬æ¡†æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  TextView,<span class="comment">--æ–‡æœ¬æ¡†æ§ä»¶</span></span><br><span class="line">  text=<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  textSize=<span class="string">&quot;15sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  textColor=<span class="string">&quot;#333333&quot;</span>,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">  <span class="comment">--singleLine=true,--ç¦æ­¢æ¢è¡Œè¾“å…¥</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šçº½æ‰£æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  Button,<span class="comment">--çº½æ‰£æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  padding=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¸ƒå±€å¡«å……</span></span><br><span class="line">  text=<span class="string">&quot;çº½æ‰£åç§°&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå›¾ç‰‡æ¡†æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ImageView,<span class="comment">--å›¾ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;56dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;25dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  src=<span class="string">&quot;icon.png&quot;</span>,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šåœ†å½¢å›¾ç‰‡æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  CircleImageView,<span class="comment">--åœ†å½¢å›¾ç‰‡æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;60dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;60dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  src=<span class="string">&quot;icon.png&quot;</span>,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå¡ç‰‡æ¡†æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  CardView,<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;80dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;80dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  cardElevation=<span class="string">&quot;2dp&quot;</span>,<span class="comment">--å¡ç‰‡æå‡</span></span><br><span class="line">  cardBackgroundColor=<span class="string">&quot;#ffffff&quot;</span>,<span class="comment">--å¡ç‰‡èƒŒæ™¯è‰²</span></span><br><span class="line">  radius=<span class="string">&quot;10dp&quot;</span>,<span class="comment">--åœ†è§’åŠå¾„</span></span><br><span class="line">&#125;,<span class="comment">--å¡ç‰‡æ¡†æ§ä»¶ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šç¼–è¾‘æ¡†æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  EditText,<span class="comment">--ç¼–è¾‘æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  hint=<span class="string">&quot;è¾“å…¥å†…å®¹&quot;</span>,<span class="comment">--ç¼–è¾‘æ¡†å†…å®¹ä¸ºç©ºæ—¶æç¤º</span></span><br><span class="line">  textSize=<span class="string">&quot;15sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  singleLine=<span class="literal">true</span>,<span class="comment">--ç¦æ­¢æ¢è¡Œè¾“å…¥</span></span><br><span class="line">  id=<span class="string">&quot;edit&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šæµè§ˆå™¨æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  LuaWebView,<span class="comment">--æµè§ˆå™¨æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  id=<span class="string">&quot;llq&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šè§†é¢‘æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  VideoView,<span class="comment">--è§†é¢‘æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  id=<span class="string">&quot;shiping&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šæ°´å¹³åˆ†å‰²çº¿ã€‹</span><br><span class="line"> æ°´å¹³åˆ†å‰²çº¿=&#123;</span><br><span class="line">  TextView,<span class="comment">--æ°´å¹³åˆ†å‰²çº¿</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;1px&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">  backgroundColor=<span class="string">&quot;#ffbebebe&quot;</span>,<span class="comment">--èƒŒæ™¯è‰²</span></span><br><span class="line">&#125; </span><br><span class="line">ã€Šå‚ç›´åˆ†å‰²çº¿ã€‹</span><br><span class="line"> å‚ç›´åˆ†å‰²çº¿=&#123;</span><br><span class="line">  TextView,<span class="comment">--å‚ç›´åˆ†å‰²çº¿</span></span><br><span class="line">  layout_width=<span class="string">&quot;1px&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">  backgroundColor=<span class="string">&quot;#ffbebebe&quot;</span>,<span class="comment">--èƒŒæ™¯è‰²</span></span><br><span class="line">&#125; </span><br><span class="line">ã€Šé’ˆè§’åˆ†å‰²çº¿ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  CardView,<span class="comment">--é’ˆè§’åˆ†å‰²çº¿</span></span><br><span class="line">  layout_width=<span class="string">&quot;190%w&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;1px&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">  cardBackgroundColor=<span class="string">&quot;#FFBEBEBE&quot;</span>,<span class="comment">--å¡ç‰‡èƒŒæ™¯è‰²</span></span><br><span class="line">  cardElevation=<span class="string">&quot;0dp&quot;</span>,<span class="comment">--å¡ç‰‡æå‡</span></span><br><span class="line">  radius=<span class="string">&quot;200dp&quot;</span>,<span class="comment">--åœ†è§’åŠå¾„</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šè¿›åº¦æ¡æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ProgressBar,<span class="comment">--è¿›åº¦æ¡æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;60dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;60dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå•é€‰æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  RadioGroup,<span class="comment">--å•é€‰æ§ä»¶</span></span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  gravity=<span class="string">&quot;left|center&quot;</span>,<span class="comment">--é‡åŠ›å±…å·¦ï½œç½®ä¸­</span></span><br><span class="line">  &#123;</span><br><span class="line">    RadioButton,<span class="comment">--å•é€‰æŒ‰é’®æ§ä»¶</span></span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">    text=<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">    <span class="comment">--checked=true,--æ˜¯å¦é€‰ä¸­</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,<span class="comment">--å•é€‰æ§ä»¶ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šå¤é€‰æ¡†æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  CheckBox,<span class="comment">--å¤é€‰æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  text=<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  checked=<span class="literal">true</span>,<span class="comment">--æ˜¯å¦é€‰ä¸­</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå¼€å…³æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  Switch,<span class="comment">--å¼€å…³æ§ä»¶</span></span><br><span class="line">  switchMinWidth=<span class="string">&quot;50%w&quot;</span>,<span class="comment">--å¼€å…³æœ€å°å®½åº¦</span></span><br><span class="line">  switchPadding=<span class="string">&quot;10%w&quot;</span>,<span class="comment">--è®¾ç½®å¼€å…³ä¸æ–‡å­—çš„ç©ºç™½è·ç¦»</span></span><br><span class="line">  text=<span class="string">&quot;æ–‡æœ¬å†…å®¹&quot;</span>,<span class="comment">--æ–‡æœ¬å†…å®¹</span></span><br><span class="line">  textSize=<span class="string">&quot;16sp&quot;</span>,<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  textColor=<span class="string">&quot;#ff0000&quot;</span>,<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">  textOff=<span class="string">&quot;å¼€&quot;</span>,<span class="comment">--è®¾ç½®å¼€å…³checkedçš„æ–‡å­—</span></span><br><span class="line">  textOn=<span class="string">&quot;å…³&quot;</span>,<span class="comment">--è®¾ç½®å¼€å…³å…³é—­æ—¶çš„æ–‡å­—Â Â </span></span><br><span class="line">  showText=<span class="literal">true</span>,<span class="comment">--è®¾ç½®æ˜¯å¦æ˜¾ç¤ºå¼€å…³ä¸Šçš„æ–‡å­—ï¼ˆAPI21åŠä»¥ä¸Šï¼‰</span></span><br><span class="line">  id=<span class="string">&quot;kaig&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šé¡µé¢è§†å›¾æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  PageView,<span class="comment">--é¡µé¢è§†å›¾æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_weight=<span class="string">&quot;1&quot;</span>,<span class="comment">--é‡åŠ›åˆ†é…</span></span><br><span class="line">  id=<span class="string">&quot;huadong&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">  pages=&#123;</span><br><span class="line">    é¡µé¢åç§°<span class="number">1</span>,</span><br><span class="line">    é¡µé¢åç§°<span class="number">2</span>,</span><br><span class="line">    é¡µé¢åç§°<span class="number">3</span>,</span><br><span class="line">  &#125;,<span class="comment">--é¡µé¢æ§ä»¶ç»“æŸ</span></span><br><span class="line">&#125;,<span class="comment">--é¡µé¢è§†å›¾æ§ä»¶ç»“æŸ</span></span><br><span class="line"> </span><br><span class="line">ã€Šåˆ—è¡¨è§†å›¾æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ListView,<span class="comment">--åˆ—è¡¨è§†å›¾æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  dividerHeight=<span class="string">&quot;1&quot;</span>,<span class="comment">--åˆ†å‰²çº¿é«˜åº¦</span></span><br><span class="line">  verticalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—æ»‘æ¡</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šç½‘æ ¼æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  GridView,<span class="comment">--ç½‘æ ¼æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">  numColumns=<span class="string">&quot;3&quot;</span>,<span class="comment">--è®¾ç½®åˆ—æ•°</span></span><br><span class="line">  overScrollMode=<span class="string">&quot;2&quot;</span>,<span class="comment">--å»é™¤æ»‘åŠ¨åœ†å¼§å½¢</span></span><br><span class="line">  verticalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—æ»‘æ¡</span></span><br><span class="line">  id=<span class="string">&quot;list&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå †æ ˆè§†å›¾æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  StackView,<span class="comment">--å †æ ˆè§†å›¾æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šè¡¨é¢è§†å›¾æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  SurfaceView,<span class="comment">--è¡¨é¢è§†å›¾æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå¤šçº§åˆ—è¡¨æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ExpandableListView,<span class="comment">--å¤šçº§åˆ—è¡¨æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  dividerHeight=<span class="string">&quot;0&quot;</span>,<span class="comment">--å»æ‰åˆ†å‰²çº¿ï¼Œåˆ™ä¿®æ”¹ä¸º1</span></span><br><span class="line">  verticalScrollBarEnabled=<span class="literal">false</span>,<span class="comment">--éšè—æ»‘æ¡</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šæ‹–åŠ¨æ¡æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  SeekBar,<span class="comment">--æ‹–åŠ¨æ¡æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_weight=<span class="string">&quot;1&quot;</span>,<span class="comment">--é‡åŠ›åˆ†é…</span></span><br><span class="line">  layout_gravity=<span class="string">&quot;center&quot;</span>,<span class="comment">--é‡åŠ›å±…ä¸­</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€ŠæŸ¥çœ‹è§†å›¾æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  View,<span class="comment">--æŸ¥çœ‹è§†å›¾æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;1px&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€ŠæŒ‰é’®æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ToggleButton,<span class="comment">--æŒ‰é’®æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;40%w&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;50dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€Šå›¾ç‰‡æŒ‰é’®æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  ImageButton,<span class="comment">--å›¾ç‰‡æŒ‰é’®æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;50dp&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;50dp&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  src=<span class="string">&quot;icon.png&quot;</span>,<span class="comment">--è§†å›¾è·¯å¾„</span></span><br><span class="line">&#125;, </span><br><span class="line">ã€ŠLuaç¼–è¾‘æ§ä»¶ã€‹</span><br><span class="line"> &#123;</span><br><span class="line">  LuaEditor,<span class="comment">--luaç¼–è¾‘æ¡†æ§ä»¶</span></span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  layout_weight=<span class="string">&quot;1&quot;</span>,<span class="comment">--é‡åŠ›åˆ†é…</span></span><br><span class="line">  id=<span class="string">&quot;edit&quot;</span>,<span class="comment">--æ§ä»¶ID</span></span><br><span class="line">&#125;, </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè‡ªåŠ¨è¡¥å…¨æ–‡æœ¬æ¡†ã€‹</span><br><span class="line">&#123;</span><br><span class="line">AutoCompleteTextView;<span class="comment">--è‡ªåŠ¨è¡¥å…¨æ–‡æœ¬æ¡†</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">Gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¯¹é½æ–¹å¼</span></span><br><span class="line">textColor=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">textSize=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ã€Šè®¡æ—¶å™¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">Chronometer;<span class="comment">--è®¡æ—¶å™¨</span></span><br><span class="line">Gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¯¹é½æ–¹å¼</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¡æ—¶å™¨å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¡æ—¶å™¨é«˜åº¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ã€Šæ—¥æœŸé€‰æ‹©å™¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">DatePicker;<span class="comment">--æ—¥æœŸé€‰æ‹©å™¨</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ—¥æœŸå®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ—¥æœŸé«˜åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ã€ŠæŠ˜å åˆ—è¡¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ExpandableListView;<span class="comment">--æŠ˜å åˆ—è¡¨</span></span><br><span class="line">id=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">ã€Šç½‘æ ¼æ§ä»¶ã€‹</span><br><span class="line">&#123;</span><br><span class="line">GridView;<span class="comment">--ç½‘æ ¼æ§ä»¶</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--ç½‘æ ¼å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--ç½‘æ ¼é«˜åº¦</span></span><br><span class="line">Gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¯¹é½æ–¹å¼</span></span><br><span class="line">NumColumns=<span class="string">&#x27;&#x27;</span>;<span class="comment">--åˆ—æ•°</span></span><br><span class="line"><span class="comment">--ColumnWidth=&#x27;&#x27;;--æ¯ä¸€åˆ—çš„å®½åº¦</span></span><br><span class="line"><span class="comment">--StretchMode=&#x27;&#x27;;--ç¼©æ”¾</span></span><br><span class="line"><span class="comment">--HorizontalSpacing=&#x27;&#x27;;--ä¸¤åˆ—ç›´æ¥çš„è¾¹è·</span></span><br><span class="line"><span class="comment">--VerticalSpacing=&#x27;&#x27;;--ä¸¤è¡Œä¹‹é—´çš„é—´è·</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ¨ªå‘åˆ—è¡¨è§†å›¾ã€‹</span><br><span class="line">&#123;</span><br><span class="line">HorizontalListView;<span class="comment">--æ¨ªå‘åˆ—è¡¨è§†å›¾</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šå›¾ç‰‡æŒ‰é’®ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ImageButton;<span class="comment">--å›¾ç‰‡æŒ‰é’®</span></span><br><span class="line">src=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®é«˜åº¦</span></span><br><span class="line">layout_gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¯¹é½æ–¹å¼</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šåˆ—è¡¨è§†å›¾ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ListView;<span class="comment">--åˆ—è¡¨è§†å›¾</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">DividerHeight=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®åˆ†éš”çº¿å®½åº¦,0è¡¨ç¤ºæ— åˆ†éš”çº¿</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè·‘é©¬ç¯ã€‹</span><br><span class="line">&#123;</span><br><span class="line">MarText;<span class="comment">--è·‘é©¬ç¯</span></span><br><span class="line"><span class="comment">--TextView;--è·‘é©¬ç¯</span></span><br><span class="line">Selected=<span class="literal">true</span>;<span class="comment">--æ–‡æœ¬å¯é€‰</span></span><br><span class="line">ellipsize=<span class="string">&#x27;marquee&#x27;</span>;</span><br><span class="line">singleLine=<span class="literal">true</span>;<span class="comment">--å•è¡Œæ˜¾ç¤º</span></span><br><span class="line">text=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">textColor=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">--æ³¨:æ–‡æœ¬å­—æ•°éœ€è¦å¤§äºå±å¹•å®½æ‰èƒ½æ»šèµ·æ¥</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ•°å€¼é€‰æ‹©å™¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">NumberPicker;<span class="comment">--æ•°å€¼é€‰æ‹©å™¨</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šå›¾ç‰‡ç¼©æ”¾ã€‹</span><br><span class="line">&#123;</span><br><span class="line">PhotoView;<span class="comment">--å›¾ç‰‡ç¼©æ”¾</span></span><br><span class="line">src=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å›¾ç‰‡å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å›¾ç‰‡é«˜åº¦</span></span><br><span class="line">layout_gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å­æ§ä»¶åœ¨çˆ¶å¸ƒå±€ä¸­çš„å¯¹é½æ–¹å¼</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè¿›åº¦æ¡ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ProgressBar;<span class="comment">--è¿›åº¦æ¡</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¿›åº¦æ¡å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¿›åº¦æ¡é«˜åº¦</span></span><br><span class="line">Max=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®æœ€å¤§è¿›åº¦</span></span><br><span class="line">Progress=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®å½“å‰è¿›åº¦</span></span><br><span class="line">SecondaryProgress=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®ç¬¬äºŒè¿›åº¦</span></span><br><span class="line"><span class="comment">--indeterminate=false;--è®¾ç½®æ˜¯å¦ä¸ºä¸æ˜ç¡®è¿›åº¦è¿›åº¦æ¡,trueä¸ºæ˜ç¡®</span></span><br><span class="line"><span class="comment">--indeterminate=false;--æ¨¡ç³Šæ¨¡å¼,trueä¸ºå¼€å¯</span></span><br><span class="line"><span class="comment">--é»˜è®¤æ˜¯åœ†åœˆ</span></span><br><span class="line"><span class="comment">--è¶…å¤§å·åœ†å½¢é£æ ¼</span></span><br><span class="line">style=<span class="string">&#x27;?android:attr/progressBarStyleLarge&#x27;</span>;</span><br><span class="line"><span class="comment">--å°å·é£æ ¼</span></span><br><span class="line">style=<span class="string">&#x27;?android:attr/progressBarStyleSmall&#x27;</span>;</span><br><span class="line"><span class="comment">--æ ‡é¢˜å‹é£æ ¼</span></span><br><span class="line">style=<span class="string">&#x27;?android:attr/progressBarStyleSmallTitle&#x27;</span>;</span><br><span class="line"><span class="comment">--é•¿å½¢è¿›åº¦æ¡</span></span><br><span class="line">style=<span class="string">&#x27;?android:attr/progressBarStyleHorizontal&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€ŠPullingåˆ·æ–°ã€‹</span><br><span class="line">&#123;</span><br><span class="line">PullingLayout;<span class="comment">--Pullingåˆ·æ–°</span></span><br><span class="line">PullUpEnabled=<span class="literal">true</span>;<span class="comment">--ä¸Šæ‹‰åˆ·æ–°</span></span><br><span class="line">PullDownEnabled=<span class="literal">true</span>;<span class="comment">--ä¸‹æ‹‰åˆ·æ–°</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè¯„åˆ†æ¡ã€‹</span><br><span class="line">&#123;</span><br><span class="line">RatingBar;<span class="comment">--è¯„åˆ†æ¡</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¯„åˆ†æ¡å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¯„åˆ†æ¡é«˜åº¦</span></span><br><span class="line"><span class="comment">--NumStars=&#x27;&#x27;;--è®¾ç½®å½“å‰æ˜¾ç¤ºçš„æ˜Ÿæ•°</span></span><br><span class="line"><span class="comment">--Rating=&#x27;&#x27;;--ä¿®æ”¹æ€»å…±çš„æ˜Ÿæ•°</span></span><br><span class="line"><span class="comment">--StepSize=&#x27;&#x27;;--æ˜Ÿå¢åŠ æ—¶çš„æ­¥é•¿</span></span><br><span class="line"><span class="comment">--isIndicator=true;--è®¾ç½®è¯„åˆ†æ¡æ˜¯å¦å¯ç”¨</span></span><br><span class="line"><span class="comment">--å¤§æ ·å¼</span></span><br><span class="line"><span class="comment">--style=&#x27;?android:attr/ratingBarStyleIndicator&#x27;;</span></span><br><span class="line"><span class="comment">--å°æ ·å¼</span></span><br><span class="line"><span class="comment">--style=&#x27;?android:attr/ratingBarStyleSmall&#x27;;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæœç´¢æ§ä»¶ã€‹</span><br><span class="line">&#123;</span><br><span class="line">SearchView;<span class="comment">--æœç´¢æ§ä»¶</span></span><br><span class="line">MaxWidth=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æœ€å¤§å®½åº¦</span></span><br><span class="line">QueryHint=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æœç´¢æ¡†ä¸ºç©ºæ—¶æç¤ºçš„æ–‡æœ¬</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ‹–åŠ¨æ¡æ§ä»¶ã€‹</span><br><span class="line">&#123;</span><br><span class="line">SeekBar;<span class="comment">--æ‹–åŠ¨æ¡æ§ä»¶</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ‹–åŠ¨æ¡å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ‹–åŠ¨æ¡é«˜åº¦</span></span><br><span class="line">Max=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®æœ€å¤§è¿›åº¦</span></span><br><span class="line">Progress=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®å½“å‰è¿›åº¦</span></span><br><span class="line">SecondaryProgress=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è®¾ç½®ç¬¬äºŒè¿›åº¦</span></span><br><span class="line"><span class="comment">--indeterminate=false;--è®¾ç½®æ˜¯å¦ä¸ºä¸æ˜ç¡®è¿›åº¦è¿›åº¦æ¡,trueä¸ºæ˜ç¡®</span></span><br><span class="line"><span class="comment">--indeterminate=false;--æ¨¡ç³Šæ¨¡å¼,trueä¸ºå¼€å¯</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šä¸‹æ‹‰åˆ—è¡¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">Spinner;<span class="comment">--ä¸‹æ‹‰åˆ—è¡¨</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè¡¨æ ¼é¡¹ã€‹</span><br><span class="line">&#123;</span><br><span class="line">TableRow;<span class="comment">--è¡¨æ ¼é¡¹</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¡¨æ ¼å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¡¨æ ¼é«˜åº¦</span></span><br><span class="line">layout_column=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‡å®šè¯¥å•å…ƒæ ¼åœ¨ç¬¬å‡ åˆ—æ˜¾ç¤º</span></span><br><span class="line">layout_span=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‡å®šè¯¥å•å…ƒæ ¼å æ®çš„åˆ—æ•°(é»˜è®¤ä¸º1)</span></span><br><span class="line">Gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¯¹é½æ–¹å¼</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ—¶é—´æ–‡æœ¬ã€‹</span><br><span class="line">&#123;</span><br><span class="line">TextClock;<span class="comment">--æ—¶é—´æ–‡æœ¬</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">layout_gravity=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å­æ§ä»¶åœ¨çˆ¶å¸ƒå±€ä¸­çš„å¯¹é½æ–¹å¼</span></span><br><span class="line">textColor=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">textSize=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">Format24Hour=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">Format12Hour=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">--åä¸¤ä¸ªçš„å±æ€§</span></span><br><span class="line"><span class="comment">--yyyy.MM.dd å¹´.æœˆ.æ—¥,</span></span><br><span class="line"><span class="comment">--EE å‘¨å‡ ,éƒ¨åˆ†æ‰‹æœºä¸Šä¼šæ˜¾ç¤ºæ˜ŸæœŸå‡ </span></span><br><span class="line"><span class="comment">--aa ä¸Šåˆæˆ–ä¸‹åˆ,24å°æ—¶çš„æ—¶å€™ä»€ä¹ˆéƒ½ä¸ä¼šæ˜¾ç¤º,12å°æ—¶çš„æ—¶å€™ä¼šæ˜¾ç¤ºamæˆ–è€…pméƒ¨åˆ†æ‰‹æœºæ˜¾ç¤ºçš„ä¸Šåˆæˆ–ä¸‹åˆ</span></span><br><span class="line"><span class="comment">--MMMM.dd æœˆä»½.æ—¥</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šåˆ‡æ¢æŒ‰é’®ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ToggleButton;<span class="comment">--åˆ‡æ¢æŒ‰é’®</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®é«˜åº¦</span></span><br><span class="line">text=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®åˆå§‹åŒ–æ–‡æœ¬</span></span><br><span class="line">textOff=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®æœªè¢«é€‰ä¸­æ—¶æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">textOn=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æŒ‰é’®è¢«é€‰ä¸­æ—¶æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè§†é¢‘æ§ä»¶ã€‹</span><br><span class="line">&#123;</span><br><span class="line">VideoView;<span class="comment">--è§†é¢‘æ§ä»¶</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--è§†é¢‘å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--è§†é¢‘é«˜åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ°´æ³¢çº¹å¸ƒå±€ã€‹</span><br><span class="line">&#123;</span><br><span class="line">RippleLayout,<span class="comment">--æ°´æ³¢çº¹å¸ƒå±€</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">RippleColor=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ°´æ³¢çº¹é¢œè‰²</span></span><br><span class="line">RippleLineColor=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ°´æ³¢çº¹çº¿æ¡é¢œè‰²</span></span><br><span class="line">Circle=<span class="literal">true</span>;<span class="comment">--é•¿æŒ‰åœ†åœˆ</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ»‘åŠ¨èœå•å¸ƒå±€ã€‹</span><br><span class="line">&#123;</span><br><span class="line">SlidingLayout;<span class="comment">--æ»‘åŠ¨èœå•å¸ƒå±€</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šè¡¨æ ¼å¸ƒå±€ã€‹</span><br><span class="line">&#123;</span><br><span class="line">TableLayout;<span class="comment">--è¡¨æ ¼å¸ƒå±€</span></span><br><span class="line">orientation=<span class="string">&#x27;&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šç½‘æ ¼å¸ƒå±€ã€‹</span><br><span class="line">&#123;</span><br><span class="line">GridLayout;<span class="comment">--ç½‘æ ¼å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">RowCount=<span class="string">&#x27;&#x27;</span>;<span class="comment">--è¡Œæ•°</span></span><br><span class="line">ColumnCount=<span class="string">&#x27;&#x27;</span>;<span class="comment">--åˆ—æ•°</span></span><br><span class="line">layout_width=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šçºµå‘æ»šåŠ¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ScrollView,<span class="comment">--çºµå‘æ»‘åŠ¨</span></span><br><span class="line">layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--é«˜åº¦</span></span><br><span class="line">VerticalScrollBarEnabled=<span class="literal">false</span>;<span class="comment">--éšè—çºµå‘æ»‘æ¡</span></span><br><span class="line"><span class="comment">--å¸ƒå±€å†™è¿™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šæ¨ªå‘æ»šåŠ¨ã€‹</span><br><span class="line">&#123;</span><br><span class="line">HorizontalScrollView,<span class="comment">--æ¨ªå‘æ»‘åŠ¨</span></span><br><span class="line">layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--é«˜åº¦</span></span><br><span class="line">horizontalScrollBarEnabled=<span class="literal">false</span>;<span class="comment">--éšè—æ¨ªå‘æ»‘æ¡</span></span><br><span class="line"><span class="comment">--å¸ƒå±€å†™è¿™</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šå¼€å…³æ§ä»¶ã€‹</span><br><span class="line">&#123;</span><br><span class="line">Switch,<span class="comment">--å¼€å…³æ§ä»¶</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šé€‰æ‹©æŒ‰é’®ã€‹</span><br><span class="line">&#123;</span><br><span class="line">ToggleButton,<span class="comment">--é€‰æ‹©æŒ‰é’®</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šå¤é€‰æ¡†ã€‹</span><br><span class="line">&#123;</span><br><span class="line">CheckBox,<span class="comment">--å¤é€‰æ¡†</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜²æ­¢æŠ“åŒ…</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%98%B2%E6%AD%A2%E6%8A%93%E5%8C%85-2021-11-08%2022:21:46/</url>
    <content><![CDATA[<h1>é˜²æ­¢æŠ“åŒ…</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">back=<span class="literal">false</span></span><br><span class="line">thread(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">    import <span class="string">&quot;java.net.NetworkInterface&quot;</span></span><br><span class="line">    import <span class="string">&quot;java.util.Collections&quot;</span></span><br><span class="line">    import <span class="string">&quot;java.util.Enumeration&quot;</span></span><br><span class="line">    import <span class="string">&quot;java.util.Iterator&quot;</span></span><br><span class="line">    <span class="keyword">local</span> niList = NetworkInterface.getNetworkInterfaces()</span><br><span class="line">    <span class="keyword">if</span> niList ~= <span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">local</span> it = Collections.list(niList).iterator()</span><br><span class="line">      <span class="keyword">while</span> it.hasNext() <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">local</span> intf = it.<span class="built_in">next</span>()</span><br><span class="line">        <span class="keyword">if</span> intf.isUp() <span class="keyword">and</span> intf.getInterfaceAddresses().size() ~= <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">          <span class="keyword">if</span> String(<span class="string">&quot;tun0&quot;</span>).equals(intf.getName()) <span class="keyword">or</span> String(<span class="string">&quot;ppp0&quot;</span>).equals(intf.getName()) <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">            activity.finish()</span><br><span class="line">            back = <span class="literal">true</span></span><br><span class="line">          <span class="keyword">else</span></span><br><span class="line">            <span class="comment">--print(&quot;æœªå¼€å¯VPN&quot;)</span></span><br><span class="line">            back = <span class="literal">false</span></span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    Thread.sleep(<span class="number">1000</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>éšè—é¡¶éƒ¨æ ‡é¢˜æ ï¼Œéšè—æ ‡é¢˜æ </title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%9A%90%E8%97%8F%E9%A1%B6%E9%83%A8%E6%A0%87%E9%A2%98%E6%A0%8F%EF%BC%8C%E9%9A%90%E8%97%8F%E6%A0%87%E9%A2%98%E6%A0%8F-2021-11-08%2022:20:24/</url>
    <content><![CDATA[<h1>éšè—é¡¶éƒ¨æ ‡é¢˜æ ï¼Œéšè—æ ‡é¢˜æ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">éšè—é¡¶éƒ¨æ ‡é¢˜æ â‘ </span><br><span class="line"><span class="comment">--éšè—é¡¶éƒ¨æ ‡é¢˜æ </span></span><br><span class="line">activity.ActionBar.hide()activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">éšè—æ ‡é¢˜æ â‘¡</span><br><span class="line"><span class="comment">--éšè—æ ‡é¢˜æ </span></span><br><span class="line">activity.ActionBar.hide()<span class="comment">--éšè—æ ‡é¢˜æ </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>éœ‡åŠ¨</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%9C%87%E5%8A%A8-2021-11-08%2022:28:23/</url>
    <content><![CDATA[<h1>éœ‡åŠ¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éœ‡åŠ¨</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line"><span class="comment">--å¯¼å…¥åŒ…</span></span><br><span class="line">vibrator = activity.getSystemService(Context.VIBRATOR_SERVICE)</span><br><span class="line">vibrator.vibrate( long&#123;<span class="number">100</span>,<span class="number">800</span>&#125; ,<span class="number">-1</span>)</span><br><span class="line"><span class="comment">--&#123;ç­‰å¾…æ—¶é—´,æŒ¯åŠ¨æ—¶é—´,ç­‰å¾…æ—¶é—´,æŒ¯åŠ¨æ—¶é—´,â€¦&#125;</span></span><br><span class="line"><span class="comment">--&#123;0,1000,500,1000,500,1000&#125;</span></span><br><span class="line"><span class="comment">--åˆ«å¿˜äº†ç”³æ˜æƒé™</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>é¡µå†…æŸ¥æ‰¾</title>
    <url>/2021/11/08/alp%E4%BB%A3%E7%A0%81/%E9%A1%B5%E5%86%85%E6%9F%A5%E6%89%BE-2021-11-08%2022:17:51/</url>
    <content><![CDATA[<h1>é¡µå†…æŸ¥æ‰¾</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">é¦–å…ˆä½ éœ€è¦å†™ä¸€ä¸ªè¾“å…¥æ¡†</span><br><span class="line">EditText</span><br><span class="line">ä¸‹é¢è¿™ä¸ªæ˜¯æŸ¥æ‰¾åŠŸèƒ½ï¼Œè¾“å…¥æ–‡å­— ç„¶åæŸ¥æ‰¾</span><br><span class="line">æµè§ˆå™¨id.findAllAsync(è¾“å…¥æ¡†id.text)</span><br><span class="line"></span><br><span class="line">ä¸‹é¢è¿™ä¸ªæ˜¯æŸ¥æ‰¾åçš„ä¸Šç¿»åŠŸèƒ½ï¼Œä¸Šä¸€ä¸ªå…³é”®è¯</span><br><span class="line">æµè§ˆå™¨id.findNext(<span class="literal">false</span>)</span><br><span class="line"></span><br><span class="line">ä¸‹é¢è¿™ä¸ªæ˜¯æŸ¥æ‰¾åçš„ä¸‹ç¿»åŠŸèƒ½ï¼Œä¸‹ä¸€ä¸ªå…³é”®è¯</span><br><span class="line">æµè§ˆå™¨id.findNext(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">ä¸‹é¢è¿™ä¸ªæ˜¯ åœ¨è¾“å…¥æ—¶åçš„ä¸€ä¸ªè¾“å…¥æ¡†å†…å®¹ç›‘å¬</span><br><span class="line">æ–‡æœ¬å†…å®¹ä¸º å½“å‰æ˜¯ç¬¬å‡ ä¸ªæŸ¥æ‰¾åˆ°çš„å…³é”®è¯ (position+<span class="number">1</span>)ï¼Œå’Œé¡µå†…æ€»å…±æœ‰å‡ ä¸ªå…³é”®è¯ all</span><br><span class="line">æµè§ˆå™¨id.setFindListener&#123;</span><br><span class="line">  onFindResultReceived=<span class="function"><span class="keyword">function</span><span class="params">(position,all, b)</span></span> </span><br><span class="line">    æ–‡æœ¬æ§ä»¶id.setText(<span class="string">&quot;å½“å‰ç¬¬&quot;</span>..(position+<span class="number">1</span>)..<span class="string">&quot;ä¸ªæ–‡ä»¶&quot;</span>..<span class="string">&quot;æ€»å…±æ‰¾åˆ°&quot;</span>..all..<span class="string">&quot;ä¸ª&quot;</span>); </span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">façš„æµè§ˆå™¨idä¸ºwebview æˆ–è€…é¦–å­—æ¯å¤§å†™</span><br><span class="line">å…¶ä»–æµè§ˆå™¨id å¯è‡ªå®šä¹‰å†™æµè§ˆå™¨æ§ä»¶</span><br><span class="line"></span><br><span class="line">éœ€è¦è¾“å…¥æ–‡å­—å°±è‡ªåŠ¨æŸ¥æ‰¾é¡µå†…æ–‡å­—çš„ </span><br><span class="line">å¯ä»¥æŠŠæŸ¥æ‰¾åŠŸèƒ½çš„ä»£ç  æ”¾åˆ° æ–‡æœ¬æ§ä»¶id.setTextçš„é‚£è¡Œçš„ä»£ç çš„ä¸‹ä¸€è¡Œé‡Œè¾¹</span><br><span class="line">æœ‰é—®é¢˜æ‰¾æˆ‘<span class="number">1577315441</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>HtmlTextViewå¯Œæ–‡æœ¬</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/HtmlTextView%E5%AF%8C%E6%96%87%E6%9C%AC-2021-11-07-17-57-24/</url>
    <content><![CDATA[<h1>HtmlTextViewå¯Œæ–‡æœ¬</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;org.sufficientlysecure.htmltextview.*&quot;</span></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    HtmlTextView,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;htv&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">))</span><br><span class="line"></span><br><span class="line"><span class="comment">--Github:https://github.com/PrivacyApps/html-textview.git</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">HtmlTextViewæ˜¯Androidçš„ä¸€ä¸ªæ‰©å±•çš„TextViewç»„ä»¶</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å®ƒå¯ä»¥åŠ è½½HTMLå¹¶å°†å…¶è½¬æ¢ä¸ºå¯æ‰©å±•çš„æ˜¾ç¤ºã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å®ƒæ˜¯WebViewç»„ä»¶çš„æ›¿ä»£å“ï¼ŒWebViewç»„ä»¶åœ¨æŸäº›Androidç‰ˆæœ¬ä¸Šè¡¨ç°å¥‡æ€ªï¼Œåœ¨åŠ è½½æ—¶é—ªçƒï¼Œç­‰ç­‰ã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è¯¥åº“è¿˜åŒ…æ‹¬ä¸€ä¸ªé˜²æ­¢TextViewåœ¨ç‰¹å®šAndroidç‰ˆæœ¬ä¸Šå´©æºƒçš„è§£å†³æ–¹æ¡ˆï¼Œä»¥åŠä»æœ¬åœ°å¯ç»˜åˆ¶æ–‡ä»¶å¤¹æˆ–äº’è”ç½‘åŠ è½½å›¾åƒçš„å¯èƒ½æ€§ã€‚</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- loads html from string and displays cat_pic.png from the app&#x27;s drawable folder</span></span><br><span class="line"> htv.setHtml(<span class="string">&#x27;&lt;h2&gt;Hello world&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;cats&lt;/li&gt;&lt;li&gt;dogs&lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;cat_pic&quot;/&gt;&#x27;</span>,HtmlResImageGetter(htv))</span><br><span class="line"></span><br><span class="line"><span class="comment">--// loads html from string and displays cat_pic.png from the app&#x27;s assets folder</span></span><br><span class="line"><span class="comment">--htv.setHtml(&#x27;&lt;h2&gt;Hello world&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;cats&lt;/li&gt;&lt;li&gt;dogs&lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;cat_pic&quot; /&gt;&#x27;,HtmlAssetsImageGetter(htv));</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--// loads html from string and displays http://www.example.com/cat_pic.png from the Internet</span></span><br><span class="line"><span class="comment">--htv.setHtml(&#x27;&lt;h2&gt;Hello wold&lt;/h2&gt;&lt;img src=&quot;httpç½‘ç»œå›¾ç‰‡åœ°å€&quot; /&gt;&#x27;,HtmlHttpImageGetter(htv));</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>MDé…è‰²å‚è€ƒ</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/MD%E9%85%8D%E8%89%B2%E5%8F%82%E8%80%83-2021-11-07-17-56-13/</url>
    <content><![CDATA[<h1>MDé…è‰²å‚è€ƒ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">çº¢è‰²=<span class="number">0xFFF44336</span></span><br><span class="line">ç²‰çº¢è‰²=<span class="number">0xFFEC407A</span></span><br><span class="line">åŸºä½¬ç´«=<span class="number">0xFF9C27B0</span></span><br><span class="line">æ·±ç´«=<span class="number">0xFF673AB7</span></span><br><span class="line">é›è“=<span class="number">0xFF3F51B5</span></span><br><span class="line">è“è‰²=<span class="number">0xFF2196F3</span></span><br><span class="line">äº®è“=<span class="number">0xFF03A9F4</span></span><br><span class="line">é’è‰²=<span class="number">0xFF00BCD4</span></span><br><span class="line">é¸­ç»¿=<span class="number">0xFF009688</span></span><br><span class="line">åŸè°…ç»¿=<span class="number">0xFF4CAF50</span></span><br><span class="line">äº®ç»¿=<span class="number">0xFF8BC34A</span></span><br><span class="line">é…¸æ©™=<span class="number">0xFFCDDC39</span></span><br><span class="line">é»„è‰²#FFEB3B</span><br><span class="line">ç¥ç€=<span class="number">0xFFFFC107</span></span><br><span class="line">æ©™è‰²=<span class="number">0xFFFF9800</span></span><br><span class="line">æ·±æ©™=<span class="number">0xFFFF5722</span></span><br><span class="line">æ£•è‰²=<span class="number">0xFF795548</span></span><br><span class="line">è“ç°=<span class="number">0xFF607D8B</span></span><br><span class="line">å¤œé—´é’=<span class="number">0xFF80CBC4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">MDé…è‰²å‚è€ƒï¼š</span><br><span class="line">https://www.coolapk.com/apk/com.by_syk.mdcolor</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>YLuaä¸­æ–‡å‡½æ•°åº“</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/YLua%E4%B8%AD%E6%96%87%E5%87%BD%E6%95%B0%E5%BA%93-2021-11-07-17-46-34/</url>
    <content><![CDATA[<h1>YLuaä¸­æ–‡å‡½æ•°åº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åˆ›å»ºä¸€ä¸ªç±»</span></span><br><span class="line"><span class="keyword">local</span> YLua = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:new</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> yswy = &#123;&#125;</span><br><span class="line">  <span class="built_in">setmetatable</span>(yswy, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  <span class="keyword">return</span> yswy</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å®šä¹‰ç±»çš„æˆå‘˜å±æ€§</span></span><br><span class="line">YLua.å½“å‰è„šæœ¬è¿è¡Œç›®å½• = activity.getLuaDir()</span><br><span class="line"></span><br><span class="line">YLua.å±å¹•å®½åº¦ = activity.getWidth()</span><br><span class="line"></span><br><span class="line">YLua.å±å¹•é«˜åº¦ = activity.getHeight()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å®šä¹‰ç±»çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–è„šæœ¬å½“å‰ç›®å½•<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">self</span>.å½“å‰è„šæœ¬è¿è¡Œç›®å½•</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å†™å…¥å‰ªåˆ‡æ¿<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  this.getSystemService(Context.CLIPBOARD_SERVICE).setText(<span class="built_in">tostring</span>(å†…å®¹))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–å‰ªåˆ‡æ¿<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  <span class="keyword">return</span> this.getSystemService(Context.CLIPBOARD_SERVICE).getText()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å­˜å‚¨åº”ç”¨æ•°æ®<span class="params">(key,value)</span></span></span><br><span class="line">  activity.setSharedData(key,value)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–åº”ç”¨æ•°æ®<span class="params">(key)</span></span></span><br><span class="line">  <span class="keyword">local</span> data = activity.getSharedData(key)</span><br><span class="line">  <span class="keyword">return</span> data</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å­˜å‚¨å…¨å±€å˜é‡<span class="params">(åç§°,å†…å®¹)</span></span></span><br><span class="line">  activity.getGlobalData()[åç§°]=å†…å®¹</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–å…¨å±€å˜é‡<span class="params">(åç§°)</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getGlobalData()[åç§°]</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è¿›å…¥é¡µé¢<span class="params">(åç§°,...)</span></span></span><br><span class="line">  activity.newActivity(åç§°,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:é€€å‡ºé¡µé¢<span class="params">()</span></span></span><br><span class="line">  activity.finish()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:ä»£ç æŸ¥é”™<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  <span class="keyword">local</span> <span class="built_in">status</span>,<span class="built_in">error</span>=<span class="built_in">pcall</span>(<span class="built_in">loadstring</span>(å†…å®¹))</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">status</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ä»£ç æœ‰è¯¯ï¼š&quot;</span>,<span class="built_in">error</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è®¾ç½®æ ‡é¢˜<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  activity.setTitle(å†…å®¹)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è®¾ç½®å°æ ‡é¢˜<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  activity.getActionBar().setSubtitle(å†…å®¹)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:URL</span>ç¼–ç <span class="params">(å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;java.net.URLEncoder&quot;</span></span><br><span class="line">  <span class="keyword">return</span> URLEncoder.encode(å†…å®¹)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:URL</span>è§£ç <span class="params">(å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;java.net.URLDecoder&quot;</span></span><br><span class="line">  <span class="keyword">return</span> URLDecoder.decode(å†…å®¹)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:be64</span>ç¼–ç <span class="params">(å†…å®¹)</span></span></span><br><span class="line">  <span class="keyword">local</span> Base64=luajava.bindClass(<span class="string">&quot;android.util.Base64&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> Base64.encodeToString(String(å†…å®¹).getBytes(),Base64.NO_WRAP);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:be64</span>è§£ç <span class="params">(å†…å®¹)</span></span></span><br><span class="line">  <span class="keyword">local</span> Base64=luajava.bindClass(<span class="string">&quot;android.util.Base64&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> String(Base64.decode(å†…å®¹,Base64.DEFAULT)).toString()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–ç½‘ç»œçŠ¶æ€<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE).getActiveNetworkInfo();</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ–°æ–‡ä»¶å¤¹<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)).mkdirs()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ–°æ–‡ä»¶<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)).createNewFile()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ˜¯æ–‡ä»¶å¤¹<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)).isDirectory()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ˜¯æ–‡ä»¶<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)).isFile()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:åˆ é™¤æ–‡ä»¶å¤¹<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> LuaUtil.rmDir(File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:åˆ é™¤æ–‡ä»¶<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">return</span> File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)).delete()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å†™å…¥æ–‡ä»¶<span class="params">(è·¯å¾„,å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="keyword">local</span> f=File(<span class="built_in">tostring</span>(File(<span class="built_in">tostring</span>(è·¯å¾„)).getParentFile())).mkdirs()</span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">tostring</span>(è·¯å¾„),<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹)):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è¯»å–æ–‡ä»¶<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è¿½åŠ å†™å…¥<span class="params">(è·¯å¾„,å†…å®¹)</span></span></span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">tostring</span>(è·¯å¾„),<span class="string">&quot;a+&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹)):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ›¿æ¢æ–‡ä»¶å­—ç¬¦ä¸²<span class="params">(è·¯å¾„,æ—§,æ–°)</span></span></span><br><span class="line">  è·¯å¾„=<span class="built_in">tostring</span>(è·¯å¾„)</span><br><span class="line">  å†…å®¹=<span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„,<span class="string">&quot;w+&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹:<span class="built_in">gsub</span>(æ—§,æ–°))):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ˜¯<span class="title">WiFi</span>ç½‘ç»œ<span class="params">()</span></span></span><br><span class="line">  wifi = activity.Context.getSystemService(Context.WIFI_SERVICE)</span><br><span class="line">  wi = wifi.isWifiEnabled()</span><br><span class="line">  <span class="keyword">if</span> wi==<span class="literal">true</span> <span class="keyword">then</span></span><br><span class="line">    connManager = activity.getSystemService(Context.CONNECTIVITY_SERVICE)</span><br><span class="line">    mWifi = connManager.getNetworkInfo(ConnectivityManager.TYPE_WIFI)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">tostring</span>(mWifi):<span class="built_in">find</span>(<span class="string">&quot;none)&quot;</span>) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æœ‰ç½‘ç»œ<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getApplicationContext().getSystemService(Context.CONNECTIVITY_SERVICE).getActiveNetworkInfo()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ˜¯æ•°æ®ç½‘ç»œ<span class="params">()</span></span></span><br><span class="line">  manager = activity.getSystemService(Context.CONNECTIVITY_SERVICE);</span><br><span class="line">  gprs = manager.getNetworkInfo(ConnectivityManager.TYPE_MOBILE).getState();</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">tostring</span>(gprs)== <span class="string">&quot;CONNECTED&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å®‰è£…åº”ç”¨<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  intent.setDataAndType(Uri.parse(<span class="string">&quot;file://&quot;</span>..è·¯å¾„), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>)</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è¿”å›æ¡Œé¢<span class="params">()</span></span></span><br><span class="line">  activity.moveTaskToBack(<span class="literal">true</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:éšè—çŠ¶æ€æ <span class="params">()</span></span></span><br><span class="line">  activity.getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è®¾ç½®çŠ¶æ€æ é¢œè‰²<span class="params">(a)</span></span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(a)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è®¾ç½®æ ‡é¢˜æ é¢œè‰²<span class="params">(a)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.drawable.ColorDrawable&quot;</span></span><br><span class="line">  activity.ActionBar.setBackgroundDrawable(ColorDrawable(a))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ˜¾ç¤ºæ ‡é¢˜æ <span class="params">()</span></span></span><br><span class="line">  activity.ActionBar.show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:éšè—æ ‡é¢˜æ <span class="params">()</span></span></span><br><span class="line">  activity.ActionBar.hide()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:ç«–å±<span class="params">()</span></span></span><br><span class="line">  activity.setRequestedOrientation(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ¨ªå±<span class="params">()</span></span></span><br><span class="line">  activity.setRequestedOrientation(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:éšæœºæ•°<span class="params">(a,b)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">math</span>.<span class="built_in">random</span>(a,b)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–æ–‡ä»¶å¤§å°<span class="params">(æ–‡ä»¶è·¯å¾„)</span></span></span><br><span class="line">  import <span class="string">&quot;android.text.format.Formatter&quot;</span></span><br><span class="line">  <span class="keyword">return</span> Formatter.formatFileSize(activity,æ–‡ä»¶è·¯å¾„.length())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è°ƒç”¨ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  FileName=<span class="built_in">tostring</span>(File(<span class="built_in">path</span>).Name)</span><br><span class="line">  ExtensionName=FileName:<span class="built_in">match</span>(<span class="string">&quot;.+%.(%w+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  <span class="keyword">if</span> Mime <span class="keyword">then</span></span><br><span class="line">    intent = Intent();</span><br><span class="line">    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">    intent.setAction(Intent.ACTION_VIEW);</span><br><span class="line">    intent.setDataAndType(Uri.fromFile(File(<span class="built_in">path</span>)), Mime);</span><br><span class="line">    activity.startActivity(intent);</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ‰¾ä¸åˆ°å¯ä»¥ç”¨æ¥æ‰“å¼€æ­¤æ–‡ä»¶çš„ç¨‹åº&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:åˆ¤æ–­æ•°ç»„ä¸­å€¼æ˜¯å¦å­˜åœ¨<span class="params">(å­—ç¬¦ä¸²,äºŒç»´è¡¨)</span></span></span><br><span class="line">  <span class="keyword">local</span> ä¸´æ—¶è¡¨=&#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> key,value <span class="keyword">in</span> <span class="built_in">pairs</span>(äºŒç»´è¡¨) <span class="keyword">do</span></span><br><span class="line">    ä¸´æ—¶è¡¨[value] = <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> ä¸´æ—¶è¡¨[å­—ç¬¦ä¸²] <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å–æ–‡ä»¶åç¼€<span class="params">(æ–‡ä»¶å)</span></span></span><br><span class="line">  <span class="keyword">return</span> æ–‡ä»¶å:<span class="built_in">match</span>(<span class="string">&quot;.+%.(%w+)&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å–æ–‡ä»¶åç§°<span class="params">(æ–‡ä»¶å)</span></span></span><br><span class="line">  <span class="keyword">return</span> æ–‡ä»¶å:<span class="built_in">match</span>(<span class="string">&quot;(.+)%.%w+&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å–æ–‡ä»¶å®Œæ•´åç§°<span class="params">(æ–‡ä»¶å)</span></span></span><br><span class="line">  <span class="keyword">return</span> æ–‡ä»¶å:<span class="built_in">match</span>(<span class="string">&quot;.+%/(.+)&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æç¤º<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  Toast.makeText(activity, å†…å®¹,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:åˆ†äº«æ–‡å­—<span class="params">(å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  <span class="keyword">local</span> intent=Intent(Intent.ACTION_SEND);</span><br><span class="line">  intent.setType(<span class="string">&quot;text/plain&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_SUBJECT, <span class="string">&quot;åˆ†äº«&quot;</span>);</span><br><span class="line">  intent.putExtra(Intent.EXTRA_TEXT, <span class="built_in">tostring</span>(å†…å®¹));</span><br><span class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);</span><br><span class="line">  activity.startActivity(Intent.createChooser(intent,<span class="string">&quot;åˆ†äº«åˆ°:&quot;</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:é‡å¯åº”ç”¨<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  <span class="keyword">local</span> intent = activity.getPackageManager().getLaunchIntentForPackage(activity.getPackageName());</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å®‰è£…åº”ç”¨<span class="params">(å®‰è£…åŒ…è·¯å¾„)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">  intent.setDataAndType(Uri.parse(<span class="string">&quot;file://&quot;</span>..å®‰è£…åŒ…è·¯å¾„), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>)</span><br><span class="line">  intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">  activity.startActivity(intent)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ‰“å¼€æŒ‡å®šåº”ç”¨<span class="params">(åŒ…å)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">  this.startActivity(activity.getPackageManager().getLaunchIntentForPackage(åŒ…å))<span class="comment">--å¡«å†™åº”ç”¨åŒ…å</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ£€æŸ¥æ–‡ä»¶å¤¹<span class="params">(ä¸‹è½½ç›®å½•)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.*&quot;</span></span><br><span class="line">  <span class="keyword">if</span> File(ä¸‹è½½ç›®å½•).isDirectory()<span class="keyword">then</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    File(ä¸‹è½½ç›®å½•).mkdirs()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:åŒ…å«æ±‰å­—<span class="params">(sequence)</span></span></span><br><span class="line">  import <span class="string">&quot;java.util.regex.Pattern&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.util.regex.Matcher&quot;</span></span><br><span class="line">  <span class="built_in">format</span> = <span class="string">&quot;[\u4E00-\u9FA5\uF900-\uFA2D]&quot;</span></span><br><span class="line">  result = <span class="literal">false</span></span><br><span class="line">  pattern = Pattern.compile(<span class="built_in">format</span>)</span><br><span class="line">  matcher = pattern.matcher(sequence)</span><br><span class="line">  result = matcher.<span class="built_in">find</span>()</span><br><span class="line">  <span class="keyword">return</span> result</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–çŠ¶æ€æ é«˜åº¦<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.os.Build&quot;</span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">19</span> <span class="keyword">then</span></span><br><span class="line">    resourceId = activity.getResources().getIdentifier(<span class="string">&quot;status_bar_height&quot;</span>, <span class="string">&quot;dimen&quot;</span>, <span class="string">&quot;android&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> activity.getResources().getDimensionPixelSize(resourceId)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ²‰æµ¸çŠ¶æ€æ <span class="params">()</span></span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">19</span> <span class="keyword">then</span></span><br><span class="line">    activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:dp</span>è½¬<span class="title">px</span><span class="params">(sdp)</span></span></span><br><span class="line">  dm=this.getResources().getDisplayMetrics()</span><br><span class="line">  types=&#123;px=<span class="number">0</span>,dp=<span class="number">1</span>,sp=<span class="number">2</span>,pt=<span class="number">3</span>,[<span class="string">&quot;in&quot;</span>]=<span class="number">4</span>,mm=<span class="number">5</span>&#125;</span><br><span class="line">  n,ty=sdp:<span class="built_in">match</span>(<span class="string">&quot;^(%-?[%.%d]+)(%a%a)&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> TypedValue.applyDimension(types[ty],<span class="built_in">tonumber</span>(n),dm)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å¾®ä¿¡æ‰«ä¸€æ‰«<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.ComponentName&quot;</span></span><br><span class="line">  intent = Intent();</span><br><span class="line">  intent.setComponent( ComponentName(<span class="string">&quot;com.tencent.mm&quot;</span>, <span class="string">&quot;com.tencent.mm.ui.LauncherUI&quot;</span>));</span><br><span class="line">  intent.putExtra(<span class="string">&quot;LauncherUI.From.Scaner.Shortcut&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">  intent.setFlags(<span class="number">335544320</span>);</span><br><span class="line">  intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ”¯ä»˜å®æ‰«ä¸€æ‰«<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  uri = Uri.parse(<span class="string">&quot;alipayqr://platformapi/startapp?saId=10000007&quot;</span>);</span><br><span class="line">  intent = Intent(Intent.ACTION_VIEW, uri);</span><br><span class="line">  activity.startActivity(intent);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–è®¾å¤‡æ ‡è¯†ç <span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.provider.SettingsSecure&quot;</span></span><br><span class="line">  <span class="keyword">return</span> Secure.getString(activity.getContentResolver(), Secure.ANDROID_ID)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–<span class="title">IMEI</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  <span class="keyword">return</span> activity.getSystemService(Context.TELEPHONY_SERVICE).getDeviceId()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–çŠ¶æ€æ é«˜åº¦<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> activity.getResources().getDimensionPixelSize(luajava.bindClass(<span class="string">&quot;com.android.internal.Rdimen&quot;</span>)().status_bar_height)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–è®¾å¤‡å‹å·<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> Build.MODEL</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–<span class="title">ROM</span>ç±»å‹<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">upper</span>(Build.MANUFACTURER)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–<span class="title">SDK</span>ç‰ˆæœ¬<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">tonumber</span>(Build.VERSION.SDK)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–å®‰å“ç‰ˆæœ¬<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> Build.VERSION.RELEASE</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–å±å¹•å°ºå¯¸<span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.util.DisplayMetrics&quot;</span></span><br><span class="line">  <span class="keyword">local</span> dm = DisplayMetrics();</span><br><span class="line">  activity.getWindowManager().getDefaultDisplay().getMetrics(dm);</span><br><span class="line">  diagonalPixels = Math.<span class="built_in">sqrt</span>(Math.<span class="built_in">pow</span>(dm.widthPixels, <span class="number">2</span>) + Math.<span class="built_in">pow</span>(dm.heightPixels, <span class="number">2</span>));</span><br><span class="line">  <span class="keyword">return</span> diagonalPixels / (<span class="number">160</span> * dm.density);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–æ‰‹æœºå†…ç½®å­˜å‚¨å‰©ä½™ç©ºé—´<span class="params">()</span></span></span><br><span class="line">  fs = StatFs(Environment.getDataDirectory().getPath())</span><br><span class="line">  <span class="keyword">return</span> æ ¼å¼åŒ–æ–‡ä»¶å¤§å°(fs.getAvailableBytes())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–æ‰‹æœºå†…ç½®å­˜å‚¨ç©ºé—´<span class="params">()</span></span></span><br><span class="line">  <span class="built_in">path</span> = Environment.getExternalStorageDirectory()</span><br><span class="line">  stat = StatFs(<span class="built_in">path</span>.getPath())</span><br><span class="line">  blockSize = stat.getBlockSize()</span><br><span class="line">  totalBlocks = stat.getBlockCount()</span><br><span class="line">  <span class="keyword">return</span> æ ¼å¼åŒ–æ–‡ä»¶å¤§å°(blockSize * totalBlocks)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è§£å‹ç¼©<span class="params">(å‹ç¼©è·¯å¾„,è§£å‹ç¼©è·¯å¾„)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    ZipUtil.unzip(å‹ç¼©è·¯å¾„,è§£å‹ç¼©è·¯å¾„)</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è§£å‹æ–‡ä»¶ &quot;</span>..å‹ç¼©è·¯å¾„..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å‹ç¼©<span class="params">(åŸè·¯å¾„,å‹ç¼©è·¯å¾„,åç§°)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    LuaUtil.zip(åŸè·¯å¾„,å‹ç¼©è·¯å¾„,åç§°)</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å‹ç¼©æ–‡ä»¶ &quot;</span>..åŸè·¯å¾„..<span class="string">&quot; è‡³ &quot;</span>..å‹ç¼©è·¯å¾„..<span class="string">&quot;/&quot;</span>..åç§°..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:é‡å‘½åæ–‡ä»¶<span class="params">(æ—§,æ–°)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(æ—§).renameTo(File(æ–°))</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;é‡å‘½åæ–‡ä»¶ &quot;</span>..æ—§..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:ç§»åŠ¨æ–‡ä»¶<span class="params">(æ—§,æ–°)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    File(æ—§).renameTo(File(æ–°))</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç§»åŠ¨æ–‡ä»¶ &quot;</span>..æ—§..<span class="string">&quot; è‡³ &quot;</span>..æ–°..<span class="string">&quot; å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:æ–‡ä»¶ä¿®æ”¹æ—¶é—´<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  f = File(<span class="built_in">path</span>);</span><br><span class="line">  <span class="built_in">time</span> = f.lastModified()</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">time</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å†…ç½®å­˜å‚¨è·¯å¾„<span class="params">(t)</span></span></span><br><span class="line">  <span class="keyword">return</span> Environment.getExternalStorageDirectory().toString()..<span class="string">&quot;/&quot;</span>..t</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:è·å–è§†é¢‘ç¬¬ä¸€å¸§<span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;android.media.MediaMetadataRetriever&quot;</span></span><br><span class="line">  media = MediaMetadataRetriever()</span><br><span class="line">  media.setDataSource(<span class="built_in">tostring</span>(<span class="built_in">path</span>))</span><br><span class="line">  <span class="keyword">return</span> media.getFrameAtTime()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:px2dp</span><span class="params">(pxValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = this.getResources().getDisplayMetrics().density</span><br><span class="line">  <span class="keyword">return</span> (pxValue / scale + <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:dp2px</span><span class="params">(dpValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = this.getResources().getDisplayMetrics().density</span><br><span class="line">  <span class="keyword">return</span> (dpValue * scale + <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua:sp2px</span><span class="params">(spValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> fontScale = this.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> (spValue * fontScale + <span class="number">0.5</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å…¨å±<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:é€€å‡ºå…¨å±<span class="params">()</span></span></span><br><span class="line">  activity.getWindow().clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">YLua</span>:å¤åˆ¶æ–‡æœ¬<span class="params">(æ–‡æœ¬)</span></span></span><br><span class="line">  activity.getSystemService(Context.CLIPBOARD_SERVICE).setText(æ–‡æœ¬)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">yswy = YLua:new()</span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¿é—®å¯¹è±¡å±æ€§</span></span><br><span class="line"><span class="comment">--print(yswy.å½“å‰è„šæœ¬è¿è¡Œç›®å½•)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¿é—®å¯¹è±¡æ–¹æ³•</span></span><br><span class="line"><span class="comment">--print(yswy:è·å–è„šæœ¬å½“å‰ç›®å½•())</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç±»çš„ç»§æ‰¿</span></span><br><span class="line">ä¸­æ–‡å‡½æ•°åº“ = yswy:new()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¸­æ–‡å‡½æ•°åº“:<span class="title">new</span><span class="params">()</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> yswy:new()</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ´¾ç”Ÿç±»çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¸­æ–‡å‡½æ•°åº“:è·å–å±å¹•é«˜åº¦<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">self</span>.å±å¹•é«˜åº¦</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¦†å†™ç±»çš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¸­æ–‡å‡½æ•°åº“:è·å–è„šæœ¬å½“å‰ç›®å½•<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;ä»€ä¹ˆä¹Ÿæ²¡æœ‰&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¿é—®å¯¹è±¡å±æ€§</span></span><br><span class="line"><span class="comment">--print(ä¸­æ–‡å‡½æ•°åº“.å±å¹•é«˜åº¦)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®¿é—®å¯¹è±¡æ–¹æ³•</span></span><br><span class="line"><span class="built_in">print</span>(ä¸­æ–‡å‡½æ•°åº“:è·å–è„šæœ¬å½“å‰ç›®å½•())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>dpã€spã€pxè½¬æ¢</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/dp%E3%80%81sp%E3%80%81px%E8%BD%AC%E6%8D%A2-2021-11-07-17-55-11/</url>
    <content><![CDATA[<h1>dpã€spã€pxè½¬æ¢</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dp2px</span><span class="params">(dpValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> dpValue * scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">px2dp</span><span class="params">(pxValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> pxValue / scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">px2sp</span><span class="params">(pxValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity;</span><br><span class="line">  <span class="keyword">return</span> pxValue / scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp2px</span><span class="params">(spValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> spValue * scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ä¾‹å­</span></span><br><span class="line"><span class="built_in">print</span>(dp2px(<span class="number">64</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>gmatchç¤ºä¾‹ç®€åŒ–ä½ çš„ä»£ç </title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/gmatch%E7%A4%BA%E4%BE%8B%E7%AE%80%E5%8C%96%E4%BD%A0%E7%9A%84%E4%BB%A3%E7%A0%81-2021-11-07-17-51-39/</url>
    <content><![CDATA[<h1>gmatchç¤ºä¾‹ç®€åŒ–ä½ çš„ä»£ç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ç¨‹åºå¯åŠ¨æ—¶ä¼šæ‰§è¡Œçš„äº‹ä»¶</span></span><br><span class="line"></span><br><span class="line">ä»¥å‰çš„ä»£ç =<span class="string">[==[</span></span><br><span class="line"><span class="string">items=&#123;&#125;</span></span><br><span class="line"><span class="string">for i=1,36 do</span></span><br><span class="line"><span class="string"> table.insert(items,&quot;è§£æğŸŒ&quot;..tostring(i))</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">AlertDialog.Builder(this)</span></span><br><span class="line"><span class="string">.setTitle(&quot;å¤‡ç”¨è§£æ&quot;)</span></span><br><span class="line"><span class="string">.setItems(items,&#123;onClick=function(l,v) </span></span><br><span class="line"><span class="string">    if v==0 then     </span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://jx.1ff1.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==1 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://www.pangujiexi.cc/jiexi.php?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==2 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://v.qiytv.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==3 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://jiexi.bm6ig.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==4 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://t.qiytv.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==5 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://jx.isryun.com/?v=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==6 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://api.69ne.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==7 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://api.aaaak.pw/q/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==8 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://www.xuanbo.top/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==9 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://jsap.attakids.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==10 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://jx. sigyjiexi.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==11 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://www.6g6d.cn/jx/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==12 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://z1.m1907.cn?jx=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==13 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://api.myzch.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==14 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://ysz.myzch.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==15 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://jx.myzch.cn/?v=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==16 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://api.zncss.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==17 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://api.baiyug.vip/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==18 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://123dan.top/jie/xi?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==19 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://jx.fuxing56.com/jiexi/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==20 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://www.1717yun.com/beiyong/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==21 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://vip.mpos.ren/v/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==22 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;jx.sinbinchina.com/?v=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==23 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://api.iztyy.com/jiexi/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==24 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://by.dybhn.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==25 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://v.dybhn.com/index.php?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==26 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;https://www.ckmov.vip/api.php?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==27 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://at520.cn/jx/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==28 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://beijixs.cn/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==29 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://playx.top/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==30 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot; http://bofang.online/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==31 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://api.6uzi.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==32 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://nitian9.com/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==33 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://api.oopw.top/jiexi/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==34 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://mimijiexi.top/?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">    if v==35 then</span></span><br><span class="line"><span class="string">åŠ è½½ç½‘é¡µ(&quot;http://jx.178du.com/jx2.php?url=&quot;..webView.getUrl());</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"> end&#125;)</span></span><br><span class="line"><span class="string">.show()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">]==]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ–°ä»£ç æ¨¡æ¿=<span class="string">[==[</span></span><br><span class="line"><span class="string">items=&#123;&#125;</span></span><br><span class="line"><span class="string">for i=1,36 do</span></span><br><span class="line"><span class="string">  table.insert(items,&quot;è§£æğŸŒ&quot;..tostring(i))</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string">AlertDialog.Builder(this)</span></span><br><span class="line"><span class="string">.setTitle(&quot;å¤‡ç”¨è§£æ&quot;)</span></span><br><span class="line"><span class="string">.setItems(items,&#123;onClick=function(l,v) </span></span><br><span class="line"><span class="string">    local è§£æ=%s</span></span><br><span class="line"><span class="string">    åŠ è½½ç½‘é¡µ(è§£æ[v+1]..tostring(ç½‘é¡µé“¾æ¥))</span></span><br><span class="line"><span class="string">    end&#125;)</span></span><br><span class="line"><span class="string">.show()</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">]==]</span><span class="comment">--è¿™é‡Œçš„%så³å°†è¦æ ¼å¼åŒ–</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¦æ ¼å¼åŒ–çš„=&#123;&#125;<span class="comment">--å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œè¿™é‡Œä¸ºäº†æ–¹ä¾¿å°±ç”¨table</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> t,c <span class="keyword">in</span> ä»¥å‰çš„ä»£ç :<span class="built_in">gmatch</span>(<span class="string">[[åŠ è½½ç½‘é¡µ%(&quot;(.-)&quot;]]</span>) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">table</span>.<span class="built_in">insert</span>(è¦æ ¼å¼åŒ–çš„,t)<span class="comment">--å­—ç¬¦ä¸²çš„è¯ç›´æ¥æ‹¼æ¥å°±è¡Œäº†</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¦‚æœæ˜¯å­—ç¬¦ä¸²å°±ä¸ç”¨dump</span></span><br><span class="line">è¦æ ¼å¼åŒ–çš„=<span class="built_in">dump</span>(è¦æ ¼å¼åŒ–çš„)</span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ é™¤dumpåå‰é¢çš„é”®</span></span><br><span class="line">è¦æ ¼å¼åŒ–çš„=è¦æ ¼å¼åŒ–çš„:<span class="built_in">gsub</span>(<span class="string">&quot;%[.-%].-=&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ ¼å¼åŒ–ä¸€ä¸‹</span></span><br><span class="line">æ–°ä»£ç =<span class="built_in">string</span>.<span class="built_in">format</span>(æ–°ä»£ç æ¨¡æ¿,è¦æ ¼å¼åŒ–çš„)</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¤åˆ¶æ–‡æœ¬(æ–°ä»£ç )--å¤åˆ¶ä¸€ä¸‹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æˆå“åœ¨æ‚¬æµ®çª—ç‚¹å‡»äº‹ä»¶å†…</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‚¬æµ®æŒ‰é’®ç‚¹å‡»æ—¶æ‰§è¡Œçš„äº‹ä»¶</span></span><br><span class="line">items=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">36</span> <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">table</span>.<span class="built_in">insert</span>(items,<span class="string">&quot;è§£æğŸŒ&quot;</span>..<span class="built_in">tostring</span>(i))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">AlertDialog.Builder(this)</span><br><span class="line">.setTitle(<span class="string">&quot;å¤‡ç”¨è§£æ&quot;</span>)</span><br><span class="line">.setItems(items,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(l,v)</span></span> </span><br><span class="line">    <span class="keyword">local</span> è§£æ=&#123;</span><br><span class="line">   <span class="string">&quot;http://jx.1ff1.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://www.pangujiexi.cc/jiexi.php?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://v.qiytv.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://jiexi.bm6ig.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://t.qiytv.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://jx.isryun.com/?v=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://api.69ne.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://api.aaaak.pw/q/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://www.xuanbo.top/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://jsap.attakids.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://jx. sigyjiexi.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://www.6g6d.cn/jx/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://z1.m1907.cn?jx=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://api.myzch.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://ysz.myzch.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://jx.myzch.cn/?v=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://api.zncss.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://api.baiyug.vip/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://123dan.top/jie/xi?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://jx.fuxing56.com/jiexi/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://www.1717yun.com/beiyong/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://vip.mpos.ren/v/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;jx.sinbinchina.com/?v=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://api.iztyy.com/jiexi/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://by.dybhn.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://v.dybhn.com/index.php?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;https://www.ckmov.vip/api.php?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://at520.cn/jx/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://beijixs.cn/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://playx.top/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://bofang.online/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://api.6uzi.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://nitian9.com/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://api.oopw.top/jiexi/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://mimijiexi.top/?url=&quot;</span> ;</span><br><span class="line">   <span class="string">&quot;http://jx.178du.com/jx2.php?url=&quot;</span> ;</span><br><span class="line">  &#125; ;</span><br><span class="line">    åŠ è½½ç½‘é¡µ(è§£æ[v+<span class="number">1</span>]..<span class="built_in">tostring</span>(ç½‘é¡µé“¾æ¥))</span><br><span class="line">    <span class="keyword">end</span>&#125;)</span><br><span class="line">.show()</span><br><span class="line"></span><br><span class="line">ã€‹ã€‹</span><br><span class="line">ã€Šã€Šå®ç°æœºå™¨äººæ— ç¼äº¤æµæºç ï¼Œä¸å¡é¡¿ã€‹ã€‹</span><br><span class="line">ã€Šã€Š <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout,</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">    layout_weight=<span class="string">&quot;1&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      ScrollView,</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">      fillViewport=<span class="string">&quot;true&quot;</span>,</span><br><span class="line">      id=<span class="string">&quot;scrollView&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout,</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">        layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">        background=<span class="string">&quot;#FFFFFFFF&quot;</span>,</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">        paddingLeft=<span class="string">&quot;30dp&quot;</span>,</span><br><span class="line">        paddingRight=<span class="string">&quot;30dp&quot;</span>,</span><br><span class="line">        id=<span class="string">&quot;lt&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout,</span><br><span class="line">    layout_width=<span class="string">&quot;100%w&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;50dp&quot;</span>,</span><br><span class="line">    orientation=<span class="string">&quot;horizontal&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      EditText,</span><br><span class="line">      layout_width=<span class="string">&quot;80%w&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;50dp&quot;</span>,</span><br><span class="line">      textSize=<span class="string">&quot;15sp&quot;</span>,</span><br><span class="line">      id=<span class="string">&quot;et&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      Button,</span><br><span class="line">      layout_width=<span class="string">&quot;20%w&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;50dp&quot;</span>,</span><br><span class="line">      text=<span class="string">&quot;å‘é€&quot;</span>,</span><br><span class="line">      onClick=<span class="string">&quot;å‘é€ä¿¡æ¯&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‘é€ä¿¡æ¯<span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">  a=<span class="built_in">tostring</span>(et.getText())</span><br><span class="line"></span><br><span class="line">  MeLayout=&#123;</span><br><span class="line">    TextView,</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;50dp&quot;</span>,</span><br><span class="line">    Gravity=<span class="string">&quot;center|right&quot;</span>,</span><br><span class="line">    textSize=<span class="string">&quot;18sp&quot;</span>,</span><br><span class="line">    text=a,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  lt.addView(loadlayout(MeLayout))</span><br><span class="line">  dataurl=<span class="string">&quot;http://i.itpk.cn/api.php?question=&quot;</span>..a</span><br><span class="line">  Http.get(dataurl,null,<span class="string">&quot;utf8&quot;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(code,content,cookie,header)</span></span></span><br><span class="line">    RobotLayout=&#123;</span><br><span class="line">      TextView,</span><br><span class="line">      layout_width=<span class="string">&quot;50%w&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;-2&quot;</span>,</span><br><span class="line">      Gravity=<span class="string">&quot;center|left&quot;</span>,</span><br><span class="line">      textSize=<span class="string">&quot;20sp&quot;</span>,</span><br><span class="line">      text=content,</span><br><span class="line">    &#125;</span><br><span class="line">    lt.addView(loadlayout(RobotLayout))</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line">  et.setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">  scrollView.fullScroll(ScrollView.FOCUS_DOWN);</span><br><span class="line"><span class="comment">--ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•ä¸å½±å“å¸ƒå±€</span></span><br><span class="line">activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>lua _G è¡¨</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/lua%20_G%20%E8%A1%A8/</url>
    <content><![CDATA[<h1>lua _G è¡¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--   _Gæ˜¯ä¸€å¼ è¡¨ï¼Œä¿å­˜äº†luaæ‰€ç”¨çš„æ‰€æœ‰å…¨å±€å‡½æ•°å’Œå…¨å±€å˜é‡</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> a,b <span class="keyword">in</span> <span class="built_in">pairs</span>(<span class="built_in">_G</span>) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(a,<span class="string">&quot;\t&quot;</span>,b)</span><br><span class="line">    <span class="keyword">if</span>  <span class="built_in">type</span>(b) == <span class="string">&quot;table&quot;</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> <span class="built_in">pairs</span>(b) <span class="keyword">do</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;\t&quot;</span>,<span class="string">&quot;|--&quot;</span>,x,y)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"> <span class="built_in">_G</span>.<span class="built_in">print</span>(<span class="string">&quot;ä½ å¥½&quot;</span>)</span><br><span class="line"> <span class="built_in">_G</span>[<span class="string">&quot;print&quot;</span>](<span class="string">&quot;ä½ å¥½&quot;</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;_Gä¸­ä¹Ÿä¿å­˜äº†è‡ªèº«&quot;</span>,  <span class="built_in">_G</span> , <span class="built_in">_G</span>.<span class="built_in">_G</span>)</span><br><span class="line"><span class="built_in">_G</span>.<span class="built_in">_G</span>.<span class="built_in">_G</span>.<span class="built_in">_G</span>.<span class="built_in">_G</span>.<span class="built_in">_G</span>[<span class="string">&quot;print&quot;</span>](<span class="string">&quot;ä½ å¥½å•Š&quot;</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">--å…¨å±€å‡½æ•°å’Œå˜é‡ä¼šè‡ªåŠ¨åŠ å…¥åˆ°_Gè¡¨</span></span><br><span class="line"> </span><br><span class="line">a = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myfun</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;è‡ªå®šä¹‰å‡½æ•°&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">_G</span>.a)</span><br><span class="line"><span class="built_in">_G</span>.myfun()</span><br><span class="line"><span class="comment">--æ‰‹åŠ¨è®¾ç½®å…¨å±€å˜é‡</span></span><br><span class="line"><span class="built_in">_G</span>[<span class="string">&quot;b&quot;</span>] = <span class="string">&quot;æ‰‹åŠ¨çš„å…¨å±€å˜é‡&quot;</span></span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>lua test</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/lua%20test-2021-11-07-17-51-11/</url>
    <content><![CDATA[<h1>lua test</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"><span class="comment">--import &quot;layout&quot;</span></span><br><span class="line"><span class="comment">--activity.setTitle(&#x27;AndroLua+&#x27;)</span></span><br><span class="line"><span class="comment">--activity.setTheme(android.R.style.Theme_Holo_Light)</span></span><br><span class="line"><span class="comment">--activity.setContentView(loadlayout(layout))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> _env=&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setmetatable</span>(_env,&#123;</span><br><span class="line"> <span class="built_in">__index</span>=<span class="function"><span class="keyword">function</span><span class="params">(self,key)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">_G</span>[key]</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> str=(<span class="built_in">io</span>.readall(activity.getLuaDir(<span class="string">&quot;func.lua&quot;</span>)))</span><br><span class="line"></span><br><span class="line"><span class="built_in">pcall</span>(<span class="built_in">load</span>(str,<span class="string">&quot;js&quot;</span>,<span class="string">&quot;bt&quot;</span>,_env))</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="built_in">write</span>=&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="built_in">format</span>=<span class="string">[[function %s(...)</span></span><br><span class="line"><span class="string">   return activity.doString([=[%s]=],&#123;...&#125;)</span></span><br><span class="line"><span class="string">end]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--[=[</span></span><br><span class="line"><span class="comment">str=[[manyå­— strings]]</span></span><br><span class="line"><span class="comment">code=&quot;return string.char(&quot;</span></span><br><span class="line"><span class="comment">for i=1,string.len(str) do</span></span><br><span class="line"><span class="comment">code=code..string.byte(string.sub(str,i,i))..&quot;,&quot;</span></span><br><span class="line"><span class="comment">end</span></span><br><span class="line"><span class="comment">code=string.sub(code,0,string.len(code)-1)..&quot;)&quot;</span></span><br><span class="line"><span class="comment">print(code,&quot;nnæ‰§è¡Œç»“æœn&quot;..loadstring(code)())</span></span><br><span class="line"><span class="comment">]=]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">table</span>.size(_env)&gt;<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line"> <span class="built_in">table</span>.<span class="built_in">foreach</span>(_env,<span class="function"><span class="keyword">function</span><span class="params">(k,v)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> dumpStr=<span class="built_in">string</span>.<span class="built_in">dump</span>(v)</span><br><span class="line">  <span class="built_in">table</span>.<span class="built_in">insert</span>(<span class="built_in">write</span>,<span class="built_in">format</span>:<span class="built_in">format</span>(k,dumpStr))</span><br><span class="line"> <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> runStr=<span class="built_in">table</span>.<span class="built_in">concat</span>(<span class="built_in">write</span>,<span class="string">&quot;nn&quot;</span>)</span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">open</span>(activity.getLuaDir(<span class="string">&quot;fua.lua&quot;</span>),<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(runStr):<span class="built_in">close</span>()</span><br><span class="line"><span class="built_in">load</span>(runStr)()</span><br><span class="line"><span class="built_in">print</span>(runStr)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ ‡é¢˜()</span></span><br><span class="line"><span class="built_in">print</span>(dp2px(<span class="number">5</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>luaåˆ›å»ºå¯¹è±¡ï¼Œå¼ºçƒˆæ¨è</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/lua%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E5%BC%BA%E7%83%88%E6%8E%A8%E8%8D%90-2021-11-07-17-45-55/</url>
    <content><![CDATA[<h1>luaåˆ›å»ºå¯¹è±¡ï¼Œå¼ºçƒˆæ¨è</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">å¯¹è±¡=&#123;&#125;</span><br><span class="line"></span><br><span class="line">å¯¹è±¡.åå­—=<span class="literal">nil</span></span><br><span class="line">å¯¹è±¡.çˆ±å¥½=<span class="literal">nil</span></span><br><span class="line">å¯¹è±¡.æ˜Ÿåº§=<span class="literal">nil</span></span><br><span class="line">å¯¹è±¡.å¹´é¾„=<span class="number">16.2</span></span><br><span class="line">å¯¹è±¡.æ€§åˆ«=<span class="string">&quot;å¥³&quot;</span></span><br><span class="line">å¯¹è±¡.å‘è‰²=<span class="string">&quot;é»‘&quot;</span></span><br><span class="line"></span><br><span class="line">å¯¹è±¡.èº«é«˜=<span class="number">163</span><span class="comment">--math.random(150,170)</span></span><br><span class="line">å¯¹è±¡.ä½“é‡=<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">90</span>,<span class="number">106</span>)</span><br><span class="line">å¯¹è±¡.æ€§æ ¼=<span class="string">&quot;å‚»,é˜”çˆ±,çˆ±åƒ,å‘†èŒ,å…¬ä¸»ç—…&quot;</span></span><br><span class="line">å¯¹è±¡.ä¸‰å›´=&#123;å‡¶=<span class="string">&quot;32A&quot;</span>,è¯=<span class="string">&quot;75&quot;</span>,è‡‚=<span class="string">&quot;86&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">å¯¹è±¡.ä¸‹èº«é•¿=<span class="number">0.618</span></span><br><span class="line">å¯¹è±¡.ä¸Šèº«é•¿=<span class="number">0.382</span></span><br><span class="line">å¯¹è±¡.ä»è‚šè„çœ¼åˆ°è„šé•¿=<span class="number">0.9888</span></span><br><span class="line">å¯¹è±¡.è…¿é•¿=<span class="number">74.2</span></span><br><span class="line">å¯¹è±¡.å¤§è…¿=<span class="number">50.5</span></span><br><span class="line">å¯¹è±¡.å°è…¿=<span class="number">32.6</span></span><br><span class="line">å¯¹è±¡.è„šè¸=<span class="number">19.6</span></span><br><span class="line">å¯¹è±¡.è„šç =<span class="number">38</span></span><br><span class="line"></span><br><span class="line">å¯¹è±¡.è¡£æœç å·=<span class="string">&quot;M&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dump</span>(å¯¹è±¡))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>luaå¼‚å¸¸å¤„ç†</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/lua%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-2021-11-07-17-48-45/</url>
    <content><![CDATA[<h1>luaå¼‚å¸¸å¤„ç†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"><span class="comment">--luaæœ‰ä¸¤ä¸ªå‡½æ•°å¯ä»¥æ•è·å¼‚å¸¸</span></span><br><span class="line"><span class="comment">--pcall(fun[,arg1,...])</span></span><br><span class="line"><span class="comment">--xpcall(fun,errfun,[,arg1,...])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¯¹æ¯”ä¸¤ä¸ªå‡½æ•°,xpcallå¤šäº†å¼‚å¸¸å¤„ç†</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(a,b)</span></span></span><br><span class="line"></span><br><span class="line">  a = a+b</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> a</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ­£å¸¸è°ƒç”¨</span></span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">1</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">p=<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">err</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ä¸èƒ½ç›¸åŠ &quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å®‰å…¨è°ƒç”¨,è‹¥å‡ºç°å¼‚å¸¸,åˆ™ä¼šè°ƒç”¨errå‡½æ•°,ç¨‹åºä¸ä¼šå´©æºƒ,ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç </span></span><br><span class="line"><span class="built_in">xpcall</span>(add,err,<span class="number">1</span>,p)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;==========&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> fun=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  import<span class="string">&quot;lg&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">xpcall</span>(fun,</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(e)</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;æŠ¥é”™:n&quot;</span>..e)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ–¹æ³•äºŒ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--é”™è¯¯ç›‘å¬</span></span><br><span class="line"><span class="keyword">local</span> fun=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  import<span class="string">&quot;lg&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç›‘å¬ç»“æŸ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--é”™è¯¯äº‹ä»¶</span></span><br><span class="line">tryCatch=<span class="function"><span class="keyword">function</span><span class="params">(fun)</span></span></span><br><span class="line">  <span class="keyword">local</span> ret,errMessage=<span class="built_in">pcall</span>(fun);</span><br><span class="line">  é”™è¯¯=ret <span class="keyword">and</span> <span class="string">&quot;false&quot;</span> <span class="keyword">or</span> <span class="string">&quot;true&quot;</span></span><br><span class="line">  <span class="comment">--print(&quot;æ˜¯å¦é”™è¯¯:n&quot;..é”™è¯¯..&quot; nnå‡ºé”™ä¿¡æ¯:n&quot; .. (errMessage or &quot;æ— &quot;));</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> é”™è¯¯==<span class="string">&quot;true&quot;</span> <span class="keyword">then</span><span class="comment">--é”™è¯¯æç¤º</span></span><br><span class="line">    <span class="keyword">local</span> ret,errMessage=<span class="built_in">pcall</span>(fun)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;né”™è¯¯è¯¦æƒ…ï¼šn&quot;</span>..errMessage)</span><br><span class="line">   <span class="keyword">else</span><span class="comment">--æ— é”™è¯¯æ­£å¸¸æ‰§è¡Œ</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ²¡æœ‰é”™è¯¯å‘ç”Ÿ&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">tryCatch(fun)<span class="comment">--è°ƒç”¨é”™è¯¯</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>string.dump</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/string.dump-2021-11-07-17-24-52/</url>
    <content><![CDATA[<h1>string.dump</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">7</span>,<span class="number">1</span> <span class="keyword">do</span></span><br><span class="line"> t=<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&quot;ä¸­åäººæ°‘å…±å’Œå›½&quot;</span>,i)</span><br><span class="line"> <span class="built_in">print</span>(t)</span><br><span class="line"> <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">char</span>(t))</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DumpTest</span><span class="params">()</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;string.dump test&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> a = <span class="built_in">string</span>.<span class="built_in">dump</span>(DumpTest)</span><br><span class="line"><span class="comment">--å°†å‡½æ•°DumpTestè½¬æ¢æˆäºŒè¿›åˆ¶ç </span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="keyword">local</span> b = <span class="built_in">loadstring</span>(a)</span><br><span class="line"><span class="comment">--loadstring(string)å¯ä»¥ç”¨æ¥è¿è¡Œä¸€æ®µå­—ç¬¦ä¸²ä»£ç .ç®€å•æ¥è¯´ï¼Œå°±æ˜¯æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆä»£ç ã€‚</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">--æŒ‡é’ˆåœ°å€</span></span><br><span class="line">b()      <span class="comment">--ç»§æ‰¿</span></span><br><span class="line"></span><br><span class="line">ss=<span class="built_in">string</span>.pack(<span class="string">&quot;&gt;&quot;</span>, <span class="number">0x59</span>, <span class="number">0x7a</span>,<span class="number">118</span>,<span class="number">234</span>,<span class="string">&quot;ä¸­æ–‡&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(ss)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>whenç”¨æ³•</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/when%E7%94%A8%E6%B3%95-2021-11-07-17-55-27/</url>
    <content><![CDATA[<h1>whenç”¨æ³•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--whenå°±ç›¸å½“äºç®€åŒ–è¿‡çš„ifï¼Œå¯¹äºä¸€äº›ç®€å•çš„åˆ¤æ–­ä½¿ç”¨whenä¼šçˆ½ä¸å°‘</span></span><br><span class="line"><span class="comment">--ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªæ —å­</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä»¥å‰åˆ¤æ–­è¦è¿™æ ·å†™</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">5</span>&gt;<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--åœ¨androlua+4.3.3æ›´æ–°åå¯ä»¥è¿™æ ·å†™</span></span><br><span class="line">when <span class="number">5</span>&gt;<span class="number">1</span> <span class="built_in">print</span>(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä»¥å‰åˆ¤æ–­è¦è¿™æ ·å†™</span></span><br><span class="line"><span class="keyword">if</span> <span class="number">1</span>&gt;<span class="number">5</span> <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;emmmm&quot;</span>)</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--åœ¨androlua+4.3.3æ›´æ–°åå¯ä»¥è¿™æ ·å†™</span></span><br><span class="line">when <span class="number">1</span>&gt;<span class="number">5</span> <span class="built_in">print</span>(<span class="string">&quot;emmmm&quot;</span>) <span class="keyword">else</span> <span class="built_in">print</span>(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸¤ç§æ¡Œé¢å¿«æ·æ–¹å¼</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E4%B8%A4%E7%A7%8D%E6%A1%8C%E9%9D%A2%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F/</url>
    <content><![CDATA[<h1>ä¸¤ç§æ¡Œé¢å¿«æ·æ–¹å¼</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.ComponentName&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.pm.ShortcutInfo&quot;</span></span><br><span class="line">import <span class="string">&quot;java.util.ArrayList&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.Icon&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;layout&quot;</span></span><br><span class="line">activity.setTheme(android.R.style.Theme_Material_Light_NoActionBar)</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ­¤å·¥ç¨‹éœ€è¦æ‰“åŒ…åè¿è¡Œ</span></span><br><span class="line"><span class="comment">--å¦‚æœä¸æ‰“åŒ…è¿è¡Œï¼Œé‚£ä¹ˆå¿«æ·æ–¹å¼å°†åˆ›å»ºåœ¨è¿™ä¸ªIDEçš„å›¾æ ‡ä¸Š</span></span><br><span class="line"></span><br><span class="line">intent1 = Intent(Intent.ACTION_MAIN);</span><br><span class="line">intent1.setComponent(ComponentName(activity.getPackageName(),<span class="string">&quot;com.androlua.Main&quot;</span>));</span><br><span class="line">intent1.setData(Uri.parse(<span class="string">&quot;num1&quot;</span>));</span><br><span class="line"></span><br><span class="line">intent2 = Intent(Intent.ACTION_MAIN);</span><br><span class="line">intent2.setComponent(ComponentName(activity.getPackageName(),<span class="string">&quot;com.androlua.Main&quot;</span>));</span><br><span class="line">intent2.setData(Uri.parse(<span class="string">&quot;num2&quot;</span>));</span><br><span class="line"></span><br><span class="line">intent3 = Intent(Intent.ACTION_MAIN);</span><br><span class="line">intent3.setComponent(ComponentName(activity.getPackageName(),<span class="string">&quot;com.androlua.Main&quot;</span>));</span><br><span class="line">intent3.setData(Uri.parse(<span class="string">&quot;num3&quot;</span>));</span><br><span class="line"></span><br><span class="line">intent4 = Intent(Intent.ACTION_MAIN);</span><br><span class="line">intent4.setComponent(ComponentName(activity.getPackageName(),<span class="string">&quot;com.androlua.Main&quot;</span>));</span><br><span class="line">intent4.setData(Uri.parse(<span class="string">&quot;num4&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">--id,å¿«æ·æ–¹å¼åå­—,å¿«æ·æ–¹å¼è¢«ç‚¹å‡»åæ‰§è¡Œçš„intent,å¿«æ·æ–¹å¼çš„å›¾æ ‡åœ°å€</span></span><br><span class="line">SHORTCUT_TABLE=&#123;</span><br><span class="line">  &#123;<span class="string">&quot;ID1&quot;</span>,<span class="string">&quot;æ–‡ä»¶&quot;</span>,intent1,activity.getLuaDir()..<span class="string">&quot;/imgs/file.png&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;ID2&quot;</span>,<span class="string">&quot;æ–‡ä»¶å¤¹&quot;</span>,intent2,activity.getLuaDir()..<span class="string">&quot;/imgs/folder.png&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;ID3&quot;</span>,<span class="string">&quot;æ’­æ”¾&quot;</span>,intent3,activity.getLuaDir()..<span class="string">&quot;/imgs/play.png&quot;</span>&#125;,</span><br><span class="line">  &#123;<span class="string">&quot;ID4&quot;</span>,<span class="string">&quot;æœç´¢&quot;</span>,intent4,activity.getLuaDir()..<span class="string">&quot;/imgs/magnify.png&quot;</span>&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¿«æ·æ–¹å¼ç®¡ç†å™¨</span></span><br><span class="line">scm = activity.getSystemService(activity.SHORTCUT_SERVICE);</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¾ªç¯æ·»åŠ åˆ°å¯¹è±¡ArrayList</span></span><br><span class="line">infos = ArrayList();</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(SHORTCUT_TABLE) <span class="keyword">do</span></span><br><span class="line">  si = ShortcutInfo.Builder(this,v[<span class="number">1</span>])</span><br><span class="line">  .setIcon(Icon.createWithBitmap(loadbitmap(v[<span class="number">4</span>])))</span><br><span class="line">  .setShortLabel(v[<span class="number">2</span>])</span><br><span class="line">  .setLongLabel(v[<span class="number">2</span>])</span><br><span class="line">  .setIntent(v[<span class="number">3</span>])</span><br><span class="line">  .build();</span><br><span class="line">  infos.add(si);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ·»åŠ å¿«æ·æ–¹å¼</span></span><br><span class="line">scm.setDynamicShortcuts(infos);</span><br><span class="line"></span><br><span class="line"><span class="comment">--print(&quot;å¿«æ·æ–¹å¼å·²åˆ›å»º,ä¸ä¿¡å»é•¿æŒ‰å›¾æ ‡&quot;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onNewIntent</span><span class="params">(intent)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--è·å¾—ä¼ é€’è¿‡æ¥çš„æ•°æ®å¹¶è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</span></span><br><span class="line">  <span class="keyword">local</span> uriString = <span class="built_in">tostring</span>(intent.getData())</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="string">&quot;num1&quot;</span>==uriString <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    activity.newActivity(<span class="string">&quot;activitys/activity_1&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">elseif</span> <span class="string">&quot;num2&quot;</span>==uriString <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    activity.newActivity(<span class="string">&quot;activitys/activity_2&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">elseif</span> <span class="string">&quot;num3&quot;</span>==uriString <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    activity.newActivity(<span class="string">&quot;activitys/activity_3&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">elseif</span> <span class="string">&quot;num4&quot;</span>==uriString <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    activity.newActivity(<span class="string">&quot;activitys/activity_4&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æƒé™</span></span><br><span class="line">&lt;uses-permission android:name=<span class="string">&quot;android.launcher.permission.READ_SETTINGS&quot;</span> /&gt;</span><br><span class="line">&lt;!<span class="comment">-- å®‰è£…å¿«æ·æ–¹å¼ --&gt;</span></span><br><span class="line">&lt;uses-permission android:name=<span class="string">&quot;android.launcher.permission.INSTALL_SHORTCUT&quot;</span> /&gt;</span><br><span class="line">&lt;!<span class="comment">-- å¸è½½å¿«æ·æ–¹å¼ --&gt;</span></span><br><span class="line">&lt;uses-permission android:name=<span class="string">&quot;android.launcher.permission.UNINSTALL_SHORTCUT&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿™ä¸²ä»£ç æ”¾åœ¨ä¸»é¡µå°±è¡Œ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onNewIntent</span><span class="params">(intent)</span></span></span><br><span class="line"><span class="comment">-- ç‚¹å‡»å¿«æ·æ–¹å¼ä¹‹åæ‰§è¡Œçš„äº‹ä»¶ã€‚</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">tostring</span>(intent.getData()))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å‘æ¡Œé¢å‘é€å¿«æ·æ–¹å¼çš„å‡½æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ¡Œé¢å¿«æ·æ–¹å¼<span class="params">(name,data,bit)</span></span></span><br><span class="line">  import<span class="string">&quot;android.view.animation.Animation$AnimationListener&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.graphics.BitmapFactory&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.content.IntentFilter&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.content.IntentSender&quot;</span></span><br><span class="line">  import<span class="string">&quot;android.content.ServiceConnection&quot;</span></span><br><span class="line">  <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  import<span class="string">&quot;android.graphics.drawable.Icon&quot;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line">  import<span class="string">&quot;android.content.ComponentName&quot;</span></span><br><span class="line">  <span class="keyword">local</span> intent=Intent(<span class="string">&quot;android.intent.action.MAIN&quot;</span>)</span><br><span class="line">  intent.addCategory(<span class="string">&quot;android.intent.category.DEFAULT&quot;</span>)</span><br><span class="line">  intent.setComponent(ComponentName(activity.getPackageName(),<span class="string">&quot;com.androlua.Main&quot;</span>))</span><br><span class="line">  intent.setData(Uri.parse(data))</span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT&gt;= <span class="number">15</span> <span class="keyword">then</span></span><br><span class="line">    intent.addFlags(<span class="number">524288</span>)intent.addFlags(<span class="number">0x08000000</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> Build.VERSION.SDK_INT&gt;=<span class="number">26</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">      import<span class="string">&quot;android.content.pm.ShortcutInfo&quot;</span></span><br><span class="line">      import <span class="string">&quot;android.content.pm.ShortcutManager&quot;</span></span><br><span class="line"></span><br><span class="line">      activity.getSystemService(<span class="string">&quot;shortcut&quot;</span>).requestPinShortcut(ShortcutInfo.Builder(activity,name).setIcon(Icon.createWithResource(activity,R.drawable.icon)).setShortLabel(name).setIntent(intent).build(),<span class="literal">nil</span>)</span><br><span class="line">      æç¤º<span class="number">6</span><span class="string">&quot;æ·»åŠ å¿«æ·æ–¹å¼æˆåŠŸ&quot;</span></span><br><span class="line">    <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">      æç¤º<span class="number">6</span><span class="string">&quot;æ·»åŠ å¿«æ·æ–¹å¼å‡ºé”™&quot;</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">local</span> æ¡Œé¢å¿«æ·æ–¹å¼=Intent(<span class="string">&quot;com.android.launcher.action.INSTALL_SHORTCUT&quot;</span>)</span><br><span class="line">    æ¡Œé¢å¿«æ·æ–¹å¼.putExtra(<span class="string">&quot;android.intent.extra.shortcut.NAME&quot;</span>,name)</span><br><span class="line">    æ¡Œé¢å¿«æ·æ–¹å¼.putExtra(<span class="string">&quot;android.intent.extra.shortcut.INTENT&quot;</span>,intent)</span><br><span class="line">    æ¡Œé¢å¿«æ·æ–¹å¼.putExtra(<span class="string">&quot;duplicate&quot;</span>,<span class="number">0</span>)</span><br><span class="line">    æ¡Œé¢å¿«æ·æ–¹å¼.putExtra(<span class="string">&quot;android.intent.extra.shortcut.ICON&quot;</span>,bit)</span><br><span class="line">    activity.sendBroadcast(æ¡Œé¢å¿«æ·æ–¹å¼)</span><br><span class="line">    æç¤º<span class="number">6</span><span class="string">&quot;å·²æ·»åŠ å¿«æ·æ–¹å¼&quot;</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¹ä¹ä¹˜æ³•</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E4%B9%9D%E4%B9%9D%E4%B9%98%E6%B3%95/</url>
    <content><![CDATA[<h1>ä¹ä¹ä¹˜æ³•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">for</span> m = <span class="number">1</span>,<span class="number">9</span> <span class="keyword">do</span></span><br><span class="line">	s = <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> n = <span class="number">1</span>,m <span class="keyword">do</span></span><br><span class="line">		s=<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%s%d*%d=%d &quot;</span>,s,n,m,n*m)</span><br><span class="line">	<span class="keyword">end</span></span><br><span class="line">	<span class="built_in">print</span>(s)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»£ç æ··æ·†</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E4%BB%A3%E7%A0%81%E6%B7%B7%E6%B7%86-2021-11-07-17-33-21/</url>
    <content><![CDATA[<h1>ä»£ç æ··æ·†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">code=<span class="string">&quot;return string.char(&quot;</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">code=code..<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="built_in">string</span>.<span class="built_in">sub</span>(str,i,i))..<span class="string">&quot;,&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">code=<span class="built_in">string</span>.<span class="built_in">sub</span>(code,<span class="number">0</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(code)<span class="number">-1</span>)..<span class="string">&quot;)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(code,<span class="string">&quot;\n\næ‰§è¡Œç»“æœ\n&quot;</span>..<span class="built_in">loadstring</span>(code)())</span><br><span class="line"></span><br><span class="line">  <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">l=&#123;<span class="built_in">byte</span>(<span class="number">109</span>),<span class="built_in">byte</span>(<span class="number">97</span>),<span class="built_in">byte</span>(<span class="number">110</span>),<span class="built_in">byte</span>(<span class="number">121</span>),<span class="built_in">byte</span>(<span class="number">229</span>),<span class="built_in">byte</span>(<span class="number">173</span>),<span class="built_in">byte</span>(<span class="number">151</span>),<span class="built_in">byte</span>(<span class="number">32</span>),<span class="built_in">byte</span>(<span class="number">115</span>),<span class="built_in">byte</span>(<span class="number">116</span>),<span class="built_in">byte</span>(<span class="number">114</span>),<span class="built_in">byte</span>(<span class="number">105</span>),<span class="built_in">byte</span>(<span class="number">110</span>),<span class="built_in">byte</span>(<span class="number">103</span>),<span class="built_in">byte</span>(<span class="number">115</span>)&#125;</span><br><span class="line">b=<span class="built_in">byte</span>[#l]</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(l)<span class="keyword">do</span></span><br><span class="line">b[k<span class="number">-1</span>]=v</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(String(b))</span><br><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">code=<span class="string">&quot;return string.char(&quot;</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  code=code..<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="built_in">string</span>.<span class="built_in">sub</span>(str,i,i))..<span class="string">&quot;,&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">code=<span class="built_in">string</span>.<span class="built_in">sub</span>(code,<span class="number">0</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(code)<span class="number">-1</span>)..<span class="string">&quot;)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(code,<span class="string">&quot;\n\næ‰§è¡Œç»“æœ\n&quot;</span>..<span class="built_in">loadstring</span>(code)())</span><br><span class="line"></span><br><span class="line">  <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--l=&#123;109,97,110,121,229,173,151,32,115,116,114,105,110,103,115&#125;</span></span><br><span class="line"><span class="comment">--l=&#123;byte(109),byte(97),byte(110),byte(121),byte(229),byte(173),byte(151),byte(32),byte(115),byte(116),byte(114),byte(105),byte(110),byte(103),byte(115)&#125;</span></span><br><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">l=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">table</span>.<span class="built_in">insert</span>(l,<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="built_in">string</span>.<span class="built_in">sub</span>(str,i,i)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">b=<span class="built_in">byte</span>[#l]</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(l)<span class="keyword">do</span></span><br><span class="line">  b[k<span class="number">-1</span>]=v</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dump</span>(l),String(b))</span><br><span class="line"></span><br><span class="line">  <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">code=<span class="string">&quot;return utf8.char(&quot;</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,utf8.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  code=code..utf8.<span class="built_in">byte</span>(utf8.<span class="built_in">sub</span>(str,i,i))..<span class="string">&quot;,&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">code=<span class="built_in">string</span>.<span class="built_in">sub</span>(code,<span class="number">0</span>,utf8.<span class="built_in">len</span>(code)<span class="number">-1</span>)..<span class="string">&quot;)&quot;</span></span><br><span class="line"><span class="built_in">print</span>(code,<span class="string">&quot;\n\næ‰§è¡Œç»“æœ\n&quot;</span>..<span class="built_in">loadstring</span>(code)())</span><br><span class="line"></span><br><span class="line"> <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">--print(return utf8.char(109+9999-7777-2222,97+9999-7777-2222,110+9999-7777-2222,121+9999-7777-2222,23383+9999-7777-2222,32+9999-7777-2222,115+9999-7777-2222,116+9999-7777-2222,114+9999-7777-2222,105+9999-7777-2222,110+9999-7777-2222,103+9999-7777-2222,115+9999-7777-2222))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--print(return utf8.char(109+&#x27;0&#x27;,97+&#x27;0&#x27;,110+&#x27;0&#x27;,121+&#x27;0&#x27;,23383+&#x27;0&#x27;,32+&#x27;0&#x27;,115+&#x27;0&#x27;,116+&#x27;0&#x27;,114+&#x27;0&#x27;,105+&#x27;0&#x27;,110+&#x27;0&#x27;,103+&#x27;0&#x27;,115+&#x27;0&#x27;))		</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">loadstring</span>(<span class="string">[[return utf8.char(109+&#x27;0&#x27;,97+&#x27;0&#x27;,110+&#x27;0&#x27;,121+&#x27;0&#x27;,23383+&#x27;0&#x27;,32+&#x27;0&#x27;,115+&#x27;0&#x27;,116+&#x27;0&#x27;,114+&#x27;0&#x27;,105+&#x27;0&#x27;,110+&#x27;0&#x27;,103+&#x27;0&#x27;,115+&#x27;0&#x27;)]]</span>)())		</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">l=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  l=luajava.astable(String(str).getBytes())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">b=<span class="built_in">byte</span>[#l]</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(l)<span class="keyword">do</span></span><br><span class="line">  b[k<span class="number">-1</span>]=v</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dump</span>(l),String(b))</span><br><span class="line"></span><br><span class="line"> <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">l=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  l=luajava.astable(String(str).toCharArray())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">b=<span class="built_in">char</span>[#l]</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(l)<span class="keyword">do</span></span><br><span class="line">  b[k<span class="number">-1</span>]=<span class="built_in">char</span>(v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dump</span>(l),String(b))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰“å°</span></span><br><span class="line"></span><br><span class="line"> <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DumpTest</span><span class="params">()</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;jj&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> a = <span class="built_in">string</span>.<span class="built_in">dump</span>(DumpTest)</span><br><span class="line"><span class="comment">--å°†å‡½æ•°DumpTestè½¬æ¢æˆäºŒè¿›åˆ¶ç </span></span><br><span class="line"><span class="comment">--print(a)</span></span><br><span class="line"></span><br><span class="line">str=<span class="string">[[=IAPYthkQWr2DFAH7uAABwAAA5BA10aAGv/rglaD4sACTvMb9SVlXsru5BVrUnoyY1Y3gQGsuLhh9pVrLK0jsf38LvVRIJwf42ZqaYPtbw8GYxN+YAICgoACACYkAoDmZgEBQAxxJ6Dk3LjYm1ng1TWg/BsrylFK4VdzSLgmt2/zDKcCpmHkeg==]]</span></span><br><span class="line">code=<span class="string">&quot;return utf8.char(&quot;</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,utf8.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  code=code..utf8.<span class="built_in">byte</span>(utf8.<span class="built_in">sub</span>(str,i,i))..<span class="string">&quot;+9999-7777-2222,&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">code=utf8.<span class="built_in">sub</span>(code,<span class="number">0</span>,utf8.<span class="built_in">len</span>(code)<span class="number">-1</span>)..<span class="string">&quot;)&quot;</span></span><br><span class="line"><span class="comment">--print(&quot;\n\næ‰§è¡Œç»“æœ\n&quot;..loadstring([[return utf8.char(112+9999-7777-2222,114+9999-7777-2222,105+9999-7777-2222,110+9999-7777-2222,116+9999-7777-2222,40+9999-7777-2222,34+9999-7777-2222,106+9999-7777-2222,120+9999-7777-2222,106+9999-7777-2222,120+9999-7777-2222,34+9999-7777-2222,41+9999-7777-2222)		]])())</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">load</span>(<span class="built_in">loadstring</span>(code)())())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">----string.dumpè‡ªæ£€å’Œloadstringè‡ªæ£€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> _mirror_string_dump_c_FUNC=<span class="built_in">string</span>.<span class="built_in">dump</span></span><br><span class="line"><span class="keyword">local</span> _mirror_loadstring_c_FUNC=<span class="built_in">loadstring</span></span><br><span class="line"><span class="keyword">local</span> _proxy_string_dump_c_FUMC</span><br><span class="line"><span class="built_in">loadstring</span>=<span class="function"><span class="keyword">function</span><span class="params">(code,...)</span></span></span><br><span class="line">  <span class="built_in">print</span>(code)</span><br><span class="line">  <span class="keyword">return</span> _mirror_loadstring_c_FUNC(code,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">dump</span>=<span class="function"><span class="keyword">function</span><span class="params">(func,nodebug)</span></span></span><br><span class="line">  <span class="keyword">if</span> nodebug~=<span class="literal">true</span> <span class="keyword">then</span> nodebug=<span class="literal">false</span> <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> func==<span class="built_in">loadstring</span> <span class="keyword">or</span> func==_proxy_string_dump_c_FUMC <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">error</span>(<span class="string">&quot;unable to dump given function&quot;</span>,<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> _mirror_string_dump_c_FUNC(func,nodebug)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">_proxy_string_dump_c_FUMC=<span class="built_in">string</span>.<span class="built_in">dump</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span>(<span class="number">1</span>)<span class="keyword">end</span>))</span><br><span class="line"><span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="built_in">loadstring</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;string.dump test loadstring run here.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"><span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;string.dump test string.dump run here.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"><span class="built_in">loadstring</span>(<span class="string">&quot;print(111)&quot;</span>)()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> _mirror_string_dump_c_FUNC=<span class="built_in">string</span>.<span class="built_in">dump</span></span><br><span class="line"><span class="keyword">local</span> _mirror_loadstring_c_FUNC=<span class="built_in">loadstring</span></span><br><span class="line"><span class="built_in">loadstring</span>=<span class="function"><span class="keyword">function</span><span class="params">(code,...)</span></span></span><br><span class="line">  <span class="built_in">print</span>(code)</span><br><span class="line">  <span class="keyword">return</span> _mirror_loadstring_c_FUNC(code,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">dump</span>=<span class="function"><span class="keyword">function</span><span class="params">(func,nodebug)</span></span></span><br><span class="line">  <span class="keyword">if</span> nodebug~=<span class="literal">true</span> <span class="keyword">then</span> nodebug=<span class="literal">false</span> <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> func==<span class="built_in">loadstring</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">error</span>(<span class="string">&quot;unable to dump given function&quot;</span>,<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> _mirror_string_dump_c_FUNC(func,nodebug)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span>(<span class="number">1</span>)<span class="keyword">end</span>))</span><br><span class="line"><span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="built_in">loadstring</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;string.dump test loadstring run here.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"><span class="built_in">loadstring</span>(<span class="string">&quot;print(111)&quot;</span>)()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">XLInterceptionTool=&#123;</span><br><span class="line">  [<span class="string">&quot;load&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(code,...)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;load:&quot;</span>,code)</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">  [<span class="string">&quot;loadstring&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(code,...)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;loadstring:&quot;</span>,code)</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">  [<span class="string">&quot;loadfile&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(filepath,...)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;loadfile:&quot;</span>,filepath)</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">  [<span class="string">&quot;dofile&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(filepath,...)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dofile:&quot;</span>,filepath)</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">  [<span class="string">&quot;string.dump&quot;</span>]=<span class="function"><span class="keyword">function</span><span class="params">(func,...)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;string.dump:&quot;</span>,func)</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--luaçš„å„ç§åŠ è½½api</span></span><br><span class="line"><span class="keyword">local</span> _mirror_string_dump_c_FUNC=<span class="built_in">string</span>.<span class="built_in">dump</span></span><br><span class="line"><span class="keyword">local</span> _mirror_loadstring_c_FUNC=<span class="built_in">loadstring</span></span><br><span class="line"><span class="keyword">local</span> _mirror_load_c_FUNC=<span class="built_in">load</span></span><br><span class="line"><span class="keyword">local</span> _mirror_loadfile_c_FUNC=<span class="built_in">loadfile</span></span><br><span class="line"><span class="keyword">local</span> _mirror_dofile_c_FUNC=<span class="built_in">dofile</span></span><br><span class="line"><span class="keyword">local</span> _proxy_string_dump_c_FUMC</span><br><span class="line"><span class="built_in">loadstring</span>=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">  XLInterceptionTool[<span class="string">&quot;loadstring&quot;</span>](...)</span><br><span class="line">  <span class="keyword">return</span> _mirror_loadstring_c_FUNC(...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">load</span>=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">  XLInterceptionTool[<span class="string">&quot;load&quot;</span>](...)</span><br><span class="line">  <span class="keyword">return</span> _mirror_load_c_FUNC(...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">loadfile</span>=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">  XLInterceptionTool[<span class="string">&quot;loadfile&quot;</span>](...)</span><br><span class="line">  <span class="keyword">return</span> _mirror_loadfile_c_FUNC(...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">dofile</span>=<span class="function"><span class="keyword">function</span><span class="params">(...)</span></span></span><br><span class="line">  XLInterceptionTool[<span class="string">&quot;dofile&quot;</span>](...)</span><br><span class="line">  <span class="keyword">return</span> _mirror_dofile_c_FUNC(...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">dump</span>=<span class="function"><span class="keyword">function</span><span class="params">(func,nodebug)</span></span></span><br><span class="line">  XLInterceptionTool[<span class="string">&quot;string.dump&quot;</span>](func,nodebug)</span><br><span class="line">  <span class="keyword">if</span> nodebug~=<span class="literal">true</span> <span class="keyword">then</span> nodebug=<span class="literal">false</span> <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> (func==<span class="built_in">loadstring</span> <span class="keyword">or</span></span><br><span class="line">    func==<span class="built_in">load</span> <span class="keyword">or</span></span><br><span class="line">    func==<span class="built_in">loadfile</span> <span class="keyword">or</span></span><br><span class="line">    func==<span class="built_in">dofile</span> <span class="keyword">or</span></span><br><span class="line">    func==_mirror_activity_doString_java_METHOD <span class="keyword">or</span></span><br><span class="line">    func==_proxy_string_dump_c_FUMC) <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">error</span>(<span class="string">&quot;unable to dump given function&quot;</span>,<span class="number">1</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> _mirror_string_dump_c_FUNC(func,nodebug)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">_proxy_string_dump_c_FUMC=<span class="built_in">string</span>.<span class="built_in">dump</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æµ‹è¯•</span></span><br><span class="line">func=<span class="built_in">loadstring</span>(<span class="string">&quot;print(111)&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(func,func())</span><br><span class="line"><span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="built_in">loadstring</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;use string.dump test loadstring run here.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">func=<span class="built_in">load</span>(<span class="string">&quot;print(222)&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(func,func())</span><br><span class="line"><span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="built_in">loadstring</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;use string.dump test load run here.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="built_in">print</span>(<span class="number">1</span>)<span class="keyword">end</span>))</span><br><span class="line"><span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>(<span class="built_in">string</span>.<span class="built_in">dump</span>))</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;use string.dump test string.dump run here.&quot;</span>)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"> <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">    <span class="comment">--ç¬¬ä¸‰æ–¹å±æ€§æ£€æŸ¥å®Œæ¯•</span></span><br><span class="line">    <span class="comment">-----------------------------------------------------------------------------</span></span><br><span class="line">activity.setTitle(utf8.<span class="built_in">char</span>((<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> t=&#123;<span class="number">65</span>,<span class="number">110</span>,<span class="number">100</span>,<span class="number">114</span>,<span class="number">111</span>,<span class="number">76</span>,<span class="number">117</span>,<span class="number">97</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">table</span>.<span class="built_in">unpack</span>(t)</span><br><span class="line">    <span class="keyword">end</span>)()))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(utf8.<span class="built_in">char</span>((<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">local</span> t=&#123;<span class="number">112</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">116</span>,<span class="number">40</span>,<span class="number">39</span>,<span class="number">40857</span>,<span class="number">39</span>,<span class="number">41</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">table</span>.<span class="built_in">unpack</span>(t)</span><br><span class="line">    <span class="keyword">end</span>)()))</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">--print(loadstring([[return utf8.char(109+&#x27;0&#x27;,97+&#x27;0&#x27;,110+&#x27;0&#x27;,121+&#x27;0&#x27;,23383+&#x27;0&#x27;,32+&#x27;0&#x27;,115+&#x27;0&#x27;,116+&#x27;0&#x27;,114+&#x27;0&#x27;,105+&#x27;0&#x27;,110+&#x27;0&#x27;,103+&#x27;0&#x27;,115+&#x27;0&#x27;)]])())		</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">str=<span class="string">[[manyå­— strings]]</span></span><br><span class="line">code=<span class="string">&quot;utf8.char((function() \nlocal t=&#123;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,utf8.<span class="built_in">len</span>(str) <span class="keyword">do</span></span><br><span class="line">  code=code..utf8.<span class="built_in">byte</span>(utf8.<span class="built_in">sub</span>(str,i,i))..<span class="string">&quot;,&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">code=<span class="built_in">string</span>.<span class="built_in">sub</span>(code,<span class="number">0</span>,utf8.<span class="built_in">len</span>(code)<span class="number">-1</span>)..<span class="string">&quot;&#125; \nreturn table.unpack(t) \n end)())&quot;</span></span><br><span class="line"><span class="comment">--print(code,&quot;\n\næ‰§è¡Œç»“æœ\n&quot;..loadstring(code)())</span></span><br><span class="line"><span class="built_in">print</span>(code)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(utf8.<span class="built_in">char</span>((<span class="function"><span class="keyword">function</span><span class="params">()</span></span> </span><br><span class="line"><span class="keyword">local</span> t=&#123;<span class="number">109</span>,<span class="number">97</span>,<span class="number">110</span>,<span class="number">121</span>,<span class="number">23383</span>,<span class="number">32</span>,<span class="number">115</span>,<span class="number">116</span>,<span class="number">114</span>,<span class="number">105</span>,<span class="number">110</span>,<span class="number">103</span>,<span class="number">115</span>&#125; </span><br><span class="line"><span class="keyword">return</span> <span class="built_in">table</span>.<span class="built_in">unpack</span>(t) </span><br><span class="line"> <span class="keyword">end</span>)()))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--åŠ å¯†å·¥å…·</span></span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">encodeBase64</span><span class="params">(source_str)</span></span></span><br><span class="line">    <span class="keyword">local</span> b64chars = <span class="string">&#x27;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&#x27;</span></span><br><span class="line">    <span class="keyword">local</span> s64 = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">local</span> str = source_str</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> #str &gt; <span class="number">0</span> <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">local</span> bytes_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">local</span> buf = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> byte_cnt=<span class="number">1</span>,<span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">            buf = (buf * <span class="number">256</span>)</span><br><span class="line">            <span class="keyword">if</span> #str &gt; <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">                buf = buf + <span class="built_in">string</span>.<span class="built_in">byte</span>(str, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">                str = <span class="built_in">string</span>.<span class="built_in">sub</span>(str, <span class="number">2</span>)</span><br><span class="line">                bytes_num = bytes_num + <span class="number">1</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> group_cnt=<span class="number">1</span>,(bytes_num+<span class="number">1</span>) <span class="keyword">do</span></span><br><span class="line">            <span class="keyword">local</span> b64char = <span class="built_in">math</span>.<span class="built_in">fmod</span>(<span class="built_in">math</span>.<span class="built_in">floor</span>(buf/<span class="number">262144</span>), <span class="number">64</span>) + <span class="number">1</span></span><br><span class="line">            s64 = s64 .. <span class="built_in">string</span>.<span class="built_in">sub</span>(b64chars, b64char, b64char)</span><br><span class="line">            buf = buf * <span class="number">64</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> fill_cnt=<span class="number">1</span>,(<span class="number">3</span>-bytes_num) <span class="keyword">do</span></span><br><span class="line">            s64 = s64 .. <span class="string">&#x27;=&#x27;</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> s64</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Pathjia = gg.prompt(&#123;[1]=&#x27;é€‰æ‹©è¦åŠ å¯†çš„è„šæœ¬&#x27;&#125;, &#123;[1]=&#x27;/storage/emulated/0&#x27;&#125;,&#123;[1]=&#x27;file&#x27;&#125;)</span></span><br><span class="line"><span class="comment">--if Pathjia==nil then</span></span><br><span class="line"><span class="comment">--os.exit()</span></span><br><span class="line"><span class="comment">--end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;/storage/emulated/0/Android/data/com.tencent.mobileqq/Tencent/QQfile_recv/lua.lua&quot;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">assert</span>(file)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">decryption = <span class="string">&#x27;---äº¤æµç¾¤:1033752334\nlocal Yicjm = function(Yicstr)\nlocal b64chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;  \nlocal temp = &#123;&#125;  \nfor i = 1, 64 do    \ntemp[string.sub(b64chars, i, i)] = i  \nend  \ntemp[&quot;=&quot;] = 0  \nlocal str = &quot;&quot;  \nfor i = 1, #Yicstr, 4 do    \nif not (i &gt; #Yicstr) then      \nlocal data = 0      \nlocal str_count = 0      \nfor j = 0, 3 do        \nlocal str1 = string.sub(Yicstr, i + j, i + j)        \nif not temp[str1] then          \nreturn        \nend        \nif temp[str1] &lt; 1 then          \ndata = data * 64        \nelse          \ndata = data * 64 + temp[str1] - 1          \nstr_count = str_count + 1        \nend      \nend      \nfor j = 16, 0, -8 do        \nif str_count &gt; 0 then          \nstr = str .. string.char(math.floor(data / math.pow(2, j)))          \ndata = math.fmod(data, math.pow(2, j))          \nstr_count = str_count - 1        \nend      \nend    \nend  \nend  \nlocal last = tonumber(string.byte(str, string.len(str), string.len(str)))  \nif last == 0 then    \nstr = string.sub(str, 1, string.len(str) - 1)  \nend  \nreturn str\nend \nlocal base64 = Yicjm(&quot;base64åŠ å¯†&quot;)\n\nlocal base64 = load(base64)\n\nload(base64)&#x27;</span></span><br><span class="line"><span class="keyword">local</span> source_str = file:<span class="built_in">read</span>(<span class="string">&#x27;*a&#x27;</span>)file:<span class="built_in">close</span>()</span><br><span class="line">wzdm=encodeBase64(source_str)</span><br><span class="line">wzdm2 = <span class="built_in">string</span>.<span class="built_in">gsub</span>(decryption, <span class="string">&quot;base64åŠ å¯†&quot;</span>,wzdm)</span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;/storage/emulated/0/Android/data/com.tencent.mobileqq/Tencent/QQfile_recv/lua.lua&quot;</span>..<span class="string">&#x27;Bx&#x27;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">file:<span class="built_in">write</span>(wzdm2)</span><br><span class="line">file:<span class="built_in">close</span>()</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;\näº¤æµç¾¤:1033752334\nåŠ å¯†æˆåŠŸ\n&#x27;</span>..<span class="string">&quot;/storage/emulated/0/Android/data/com.tencent.mobileqq/Tencent/QQfile_recv/lua.lua&quot;</span>..<span class="string">&#x27;BX&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼ªåˆ†æç‰ˆæ··æ·†</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E4%BC%AA%E5%88%86%E6%9E%90%E7%89%88%E6%B7%B7%E6%B7%86-2021-11-07-17-50-49/</url>
    <content><![CDATA[<h1>ä¼ªåˆ†æç‰ˆæ··æ·†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Tabgsub</span><span class="params">(str,tab_in,tab_from)</span></span></span><br><span class="line">  str = <span class="built_in">tostring</span>(str)</span><br><span class="line">  <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(tab_in) <span class="keyword">do</span></span><br><span class="line">    v = <span class="built_in">tostring</span>(v)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">type</span>(tab_from)==<span class="string">&quot;table&quot;</span> <span class="keyword">then</span></span><br><span class="line">      str = str:<span class="built_in">gsub</span>(v,tab_from[k])</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      str = str:<span class="built_in">gsub</span>(v,tab_from)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">math</span>.<span class="built_in">randomseed</span>(<span class="built_in">os</span>.<span class="built_in">time</span>())</span><br><span class="line"><span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rand</span><span class="params">(num)</span></span><span class="comment">--ç”Ÿæˆæ··æ·†ç </span></span><br><span class="line">  <span class="keyword">local</span> tab=&#123;<span class="string">&quot;O&quot;</span>,<span class="string">&quot;o&quot;</span>,<span class="string">&quot;0&quot;</span>&#125;</span><br><span class="line">  <span class="keyword">local</span> str=tab[<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">1</span>,#tab<span class="number">-1</span>)]</span><br><span class="line">  <span class="keyword">for</span> i=<span class="number">1</span>,num<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">    str = str..tab[<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">1</span>,#tab)]</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> str</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">inf=&#123;</span><br><span class="line">  <span class="string">&quot;=&quot;</span>,<span class="string">&quot;= +=&quot;</span>,</span><br><span class="line">  <span class="string">&quot; +&quot;</span>,</span><br><span class="line">  <span class="string">&quot;%. +&quot;</span>,<span class="string">&quot; +%.&quot;</span>,</span><br><span class="line">  <span class="string">&quot;%[ +&quot;</span>,<span class="string">&quot; +]&quot;</span>,<span class="string">&quot;%] +%[&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">from=&#123;</span><br><span class="line">  <span class="string">&quot; = &quot;</span>,<span class="string">&quot;==&quot;</span>,</span><br><span class="line">  <span class="string">&quot; &quot;</span>,</span><br><span class="line">  <span class="string">&quot;.&quot;</span>,<span class="string">&quot;.&quot;</span>,</span><br><span class="line">  <span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>,<span class="string">&quot;][&quot;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getInt</span><span class="params">(code)</span></span><span class="comment">--è·å¾—å˜é‡</span></span><br><span class="line">  <span class="keyword">local</span> str=<span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="keyword">local</span> tab=&#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> k <span class="keyword">in</span> code:<span class="built_in">gmatch</span>(<span class="string">&quot;(%S+) = &quot;</span>) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> str:<span class="built_in">find</span>(k) <span class="keyword">and</span> <span class="keyword">not</span> k:<span class="built_in">find</span>(<span class="string">&quot;%[&quot;</span>) <span class="keyword">and</span> <span class="keyword">not</span> k:<span class="built_in">find</span>(<span class="string">&quot;%.&quot;</span>) <span class="keyword">then</span></span><br><span class="line">      tab[#tab+<span class="number">1</span>]=k</span><br><span class="line">      str = str..k..<span class="string">&quot; &quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> tab</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">Man=&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">IntForm</span><span class="params">(code)</span></span><span class="comment">--è°ƒç”¨æ­¤å‡½æ•°ç”¨äºæ›´æ–°æ··æ·†</span></span><br><span class="line">  <span class="keyword">if</span> Man[code]==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> hx</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">true</span></span><br><span class="line">      hx=Rand(<span class="number">8</span>)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">table</span>.<span class="built_in">find</span>(Man,hx) <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    Man[code]=hx</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> Man[code]</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Hxgsub</span><span class="params">(code,tab)</span></span></span><br><span class="line">  code = <span class="string">&quot;&lt;&quot;</span>..code..<span class="string">&quot;&gt;&quot;</span><span class="comment">--æ­¤å¤„è´Ÿè´£æ‰§è¡Œæ›¿æ¢åŠ¨ä½œ</span></span><br><span class="line">  <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(tab) <span class="keyword">do</span></span><br><span class="line">    code = code:<span class="built_in">gsub</span>(<span class="string">&quot;(.)(&quot;</span>..v..<span class="string">&quot;)(.)&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">(r1,r2,r3)</span></span></span><br><span class="line">      <span class="comment">-- r1,r2,r3=tostring(r1),tostring(r2),tostring(r3)</span></span><br><span class="line">      <span class="keyword">if</span> r1:<span class="built_in">find</span><span class="string">&quot;%a&quot;</span> <span class="keyword">or</span> r3:<span class="built_in">find</span><span class="string">&quot;%a&quot;</span> <span class="keyword">and</span> <span class="keyword">not</span> r1:<span class="built_in">find</span><span class="string">&quot;=&quot;</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> r1..r2..r3</span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> r1..IntForm(r2)..r3</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> code:<span class="built_in">gsub</span>(<span class="string">&quot;^&lt;&quot;</span>,<span class="string">&quot;&quot;</span>):<span class="built_in">gsub</span>(<span class="string">&quot;&gt;&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">code=<span class="string">[[</span></span><br><span class="line"><span class="string"> a=ä»£ç æ”¾è¿™é‡Œ</span></span><br><span class="line"><span class="string"> print(a)</span></span><br><span class="line"><span class="string"> if a==1 then</span></span><br><span class="line"><span class="string"> end</span></span><br><span class="line"><span class="string">]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rcode=Tabgsub(code,inf,from)</span><br><span class="line"></span><br><span class="line">hxcode=Hxgsub(code,getInt(rcode))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(hxcode)<span class="comment">--æ··æ·†åå­—ç¬¦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Hi:) </span></span><br><span class="line"><span class="comment">--ä¸æƒ³æ•´è¯æ³•åˆ†æ æ•´äº†ä¸ªæŒ¨æ‰“çš„åšæ³•</span></span><br><span class="line"><span class="comment">--ä¸»è¦æ˜¯rcodeè¿™ä¸ªå˜é‡çš„è¡¨</span></span><br><span class="line"><span class="comment">--ç›®å‰æ²¡å¾—åŠæ³•æ‰«åˆ°å…¨éƒ¨å˜é‡ å› ä¸ºè¿‡æ»¤äº†.é‚£äº›çš„æ‡’å¾—æ•´</span></span><br><span class="line"><span class="comment">--è¿˜æœ‰åœ¨å¯¹äºå¤§é‡ä»£ç çš„æƒ…å†µä¸‹æœ‰å¯èƒ½å‡ºç°æˆ‘æ²¡è€ƒè™‘è¿‡çš„æƒ…å†µå‡ºç°å¯¼è‡´é”™è¯¯</span></span><br><span class="line"><span class="comment">--æ‰€ä»¥ç©ç©å°±å¥½äº†</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¾§è¾¹æ æ»‘åŠ¨</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E4%BE%A7%E8%BE%B9%E6%A0%8F%E6%BB%91%E5%8A%A8-2021-11-07-17-57-41/</url>
    <content><![CDATA[<h1>ä¾§è¾¹æ æ»‘åŠ¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--é”å®š/ç¦æ­¢æ»‘åŠ¨</span></span><br><span class="line">ä¾§æ»‘id.setDrawerLockMode(DrawerLayout.LOCK_MODE_UNLOCKED, Gravity.END);</span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼€å¯æ»‘åŠ¨</span></span><br><span class="line">ä¾§æ»‘id.setDrawerLockMode(DrawerLayout.LOCK_MODE_LOCKED_OPEN,Gravity.END);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºX5WebViewæ§ä»¶</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%85%B3%E4%BA%8EX5WebView%E6%8E%A7%E4%BB%B6-2021-11-07-17-54-54/</url>
    <content><![CDATA[<h1>å…³äºX5WebViewæ§ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.PixelFormat&quot;</span></span><br><span class="line">import<span class="string">&quot;com.tencent.smtt.sdk.WebViewClient&quot;</span></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨æ§ä»¶ WebView;</span></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨ä¹‹å‰å¯¼å…¥X5WebViewæ§ä»¶</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.sdk.WebView&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¿®å¤ä¸Šå±é—ªçƒ</span></span><br><span class="line">activity.getWindow().setFormat(PixelFormat.TRANSLUCENT);</span><br><span class="line"><span class="comment">--åŠ è½½ç½‘é¡µ</span></span><br><span class="line">id.loadUrl(<span class="string">&quot;http://www.baidu.com/&quot;</span>)</span><br><span class="line">webSettings = wv.getSettings();</span><br><span class="line"><span class="comment">--æ”¯æŒJS</span></span><br><span class="line">webSettings.setJavaScriptEnabled(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">--æ— å¹¿å‘Šç™¾åº¦UA</span></span><br><span class="line">APP_NAME_UA=<span class="string">&quot;Mozilla/5.0 (Linux; Android 7.0; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/48.0.2564.116 Mobile Safari/537.36 T7/10.3 SearchCraft/2.6.2 (Baidu; P1 7.0)&quot;</span></span><br><span class="line"><span class="comment">--è‡ªå®šä¹‰UA</span></span><br><span class="line">webSettings.setUserAgentString(webSettings.getUserAgentString()..APP_NAME_UA);</span><br><span class="line"><span class="comment">--è®¾ç½®å­—ä½“å¤§å°:100è¡¨ç¤ºæ­£å¸¸,120è¡¨ç¤ºæ–‡å­—æ”¾å¤§1.2å€</span></span><br><span class="line">webSettings.setTextZoom(<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ˜¾ç¤ºç‰ˆæœ¬</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.sdk.QbSdk&quot;</span></span><br><span class="line">tbsVersion = QbSdk.getTbsVersion(this);</span><br><span class="line">TID = QbSdk.getTID();</span><br><span class="line">qBVersion = QbSdk.getMiniQBVersion(this);</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;TBSç‰ˆæœ¬:&quot;</span>..tbsVersion)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç›‘å¬äº‹ä»¶</span></span><br><span class="line">id.setWebViewClient(WebViewClient()&#123;</span><br><span class="line"></span><br><span class="line">  shouldOverrideUrlLoading=<span class="function"><span class="keyword">function</span><span class="params">(view,url)</span></span></span><br><span class="line"></span><br><span class="line">    view.loadUrl(url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">  onReceivedError=<span class="function"><span class="keyword">function</span><span class="params">(var1,var2,var3,var4)</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç½‘é¡µåŠ è½½å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸è¿”å›é”®äº’äº¤</span></span><br><span class="line"><span class="comment">--ç½‘é¡µä¸è¿”å›é”®ä¹‹é—´çš„äº¤äº’</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(keyCode,event)</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; wv.canGoBack())<span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">    id.goBack()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨AndroLuaX+1.0.0.4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤šä»»åŠ¡-æ–°</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%A4%9A%E4%BB%BB%E5%8A%A1-%E6%96%B0/</url>
    <content><![CDATA[<h1>å¤šä»»åŠ¡-æ–°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua+&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">go</span><span class="params">(...)</span></span></span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  </span><br><span class="line">  <span class="built_in">print</span><span class="string">&quot;mmmmmmm&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a</span><span class="params">(s)</span></span></span><br><span class="line">  <span class="built_in">print</span>(s)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bu</span><span class="params">()</span></span></span><br><span class="line">  task(go,<span class="string">&quot;xxx&quot;</span>,a)</span><br><span class="line">  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">bu()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤šçº¿ç¨‹</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<h1>å¤šçº¿ç¨‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua+&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(a,b)</span></span></span><br><span class="line"><span class="built_in">print</span>(a,b)</span><br><span class="line">call(<span class="string">&quot;run&quot;</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">run</span><span class="params">(c,d)</span></span></span><br><span class="line">  <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(c,d)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">thread(run,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¥½çœ‹çš„å¯¹è¯æ¡†</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%A5%BD%E7%9C%8B%E7%9A%84%E5%AF%B9%E8%AF%9D%E6%A1%86-2021-11-07-17-50-28/</url>
    <content><![CDATA[<h1>å¥½çœ‹çš„å¯¹è¯æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.ComponentName&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--import &quot;layout&quot;</span></span><br><span class="line"><span class="comment">--activity.setTitle(&#x27;AndroLua+&#x27;)</span></span><br><span class="line">activity.setTheme(android.R.style.Theme_DeviceDefault_Light)</span><br><span class="line"><span class="comment">--activity.setContentView(loadlayout(layout))</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨ä¸­è°ƒç”¨</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Typeface&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å­—ä½“<span class="params">(t)</span></span></span><br><span class="line">  <span class="keyword">return</span> Typeface.createFromFile(File(activity.getLuaDir()..<span class="string">&quot;/res/&quot;</span>..t..<span class="string">&quot;.ttf&quot;</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">å¼ºè°ƒè‰²=<span class="number">0xffef7584</span></span><br><span class="line">æ–‡å­—=<span class="number">0xFF212121</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¾“å…¥å¯¹è¯æ¡†<span class="params">(æ ‡é¢˜,HINT,ç‚¹å‡»äº‹ä»¶,ä¸­ç«‹æŒ‰é’®,ä¸­ç«‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶,ç‚¹å‡»æŒ‰é’®ä¹‹åæ˜¯å¦å…³é—­)</span></span></span><br><span class="line">  import <span class="string">&quot;android.app.AlertDialog&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> å…³é—­å¯¹è¯æ¡†<span class="params">()</span></span></span><br><span class="line">    dl.dismiss()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">--è¾“å…¥å¯¹è¯æ¡†</span></span><br><span class="line">  InputLayout=&#123;</span><br><span class="line">    LinearLayout;</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">    Focusable=<span class="literal">true</span>,</span><br><span class="line">    FocusableInTouchMode=<span class="literal">true</span>,</span><br><span class="line">    <span class="comment">--[[ &#123;</span></span><br><span class="line"><span class="comment">      TextView;</span></span><br><span class="line"><span class="comment">      id=&quot;Prompt&quot;,</span></span><br><span class="line"><span class="comment">      textSize=&quot;15sp&quot;,</span></span><br><span class="line"><span class="comment">      layout_marginTop=&quot;10dp&quot;;</span></span><br><span class="line"><span class="comment">      layout_marginLeft=&quot;3dp&quot;,</span></span><br><span class="line"><span class="comment">      layout_width=&quot;80%w&quot;;</span></span><br><span class="line"><span class="comment">      layout_gravity=&quot;center&quot;,</span></span><br><span class="line"><span class="comment">      text=&quot;è¾“å…¥è·¯å¾„:&quot;;</span></span><br><span class="line"><span class="comment">    &#125;;]]</span></span><br><span class="line">    &#123;</span><br><span class="line">      TextView;</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      id=<span class="string">&quot;æ ‡é¢˜b&quot;</span>;</span><br><span class="line">      <span class="comment">--  gravity=&quot;center&quot;;</span></span><br><span class="line">      textColor=æ–‡å­—;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²--#F17F42</span></span><br><span class="line">      layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      textSize=<span class="string">&quot;18sp&quot;</span>;</span><br><span class="line">      <span class="comment">--onClick=å…³é—­å¯¹è¯æ¡†;</span></span><br><span class="line">      padding=<span class="string">&quot;20dp&quot;</span>;</span><br><span class="line">      paddingBottom=<span class="string">&quot;0dp&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      EditText;</span><br><span class="line">      hint=HINT;</span><br><span class="line">      <span class="comment">-- text=&quot;/sdcard/&quot;;</span></span><br><span class="line">      layout_marginTop=<span class="string">&quot;22dp&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;22dp&quot;</span>;</span><br><span class="line">      layout_margin=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      layout_gravity=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">      id=<span class="string">&quot;edit&quot;</span>;</span><br><span class="line">     <span class="comment">-- Typeface=å­—ä½“(&quot;Product&quot;);</span></span><br><span class="line">      <span class="comment">--  cursorVisible=false;--éšè—ç¼–è¾‘æ¡†å…‰æ ‡,è®¾ç½®ä¸ºtrueåˆ™æ˜¾ç¤º</span></span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      FrameLayout;</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        <span class="comment">--layout_gravity=&quot;end&quot;;</span></span><br><span class="line">        &#123;</span><br><span class="line">          CardView;<span class="comment">--å¡ç‰‡æ§ä»¶</span></span><br><span class="line">          id=<span class="string">&quot;floatbuttonm&quot;</span>;</span><br><span class="line">          <span class="comment">--  layout_gravity=&quot;right|bottom&quot;;</span></span><br><span class="line">          CardElevation=<span class="string">&#x27;0dp&#x27;</span>;<span class="comment">--å¡ç‰‡é˜´å½±</span></span><br><span class="line">          <span class="comment">--adjustViewBounds=true,</span></span><br><span class="line">          <span class="comment">-- layout_margin=&quot;24dp&quot;,</span></span><br><span class="line">          layout_width=<span class="string">&#x27;-2&#x27;</span>;<span class="comment">--å¡ç‰‡å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&#x27;-2&#x27;</span>;<span class="comment">--å¡ç‰‡é«˜</span></span><br><span class="line">          radius=<span class="string">&#x27;4dp&#x27;</span>;<span class="comment">--å¡ç‰‡åœ†è§’</span></span><br><span class="line">          CardBackgroundColor=<span class="number">0</span>;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²--#F17F42</span></span><br><span class="line">          <span class="comment">-- Gravity=&quot;center&quot;,</span></span><br><span class="line">          layout_marginRight=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          layout_marginTop=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          layout_marginBottom=<span class="string">&quot;14dp&quot;</span>;</span><br><span class="line">          layout_marginLeft=<span class="string">&quot;8dp&quot;</span>;</span><br><span class="line">          &#123;</span><br><span class="line">            TextView;</span><br><span class="line">            layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">            id=<span class="string">&quot;bu0&quot;</span>;</span><br><span class="line">            gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸­ç«‹&quot;</span>;</span><br><span class="line">            textColor=æ–‡å­—;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²--#F17F42</span></span><br><span class="line">            layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">            textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">            <span class="comment">--  onClick=ä¸­ç«‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶;</span></span><br><span class="line">            paddingRight=<span class="string">&quot;16dp&quot;</span>;</span><br><span class="line">            paddingLeft=<span class="string">&quot;16dp&quot;</span>;</span><br><span class="line">            paddingTop=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">            paddingBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_gravity=<span class="string">&quot;end&quot;</span>;</span><br><span class="line">        <span class="comment">--layout_width=&quot;fill&quot;;</span></span><br><span class="line">        &#123;</span><br><span class="line">          CardView;<span class="comment">--å¡ç‰‡æ§ä»¶</span></span><br><span class="line">          id=<span class="string">&quot;floatbuttonm&quot;</span>;</span><br><span class="line">          <span class="comment">--  layout_gravity=&quot;right|bottom&quot;;</span></span><br><span class="line">          CardElevation=<span class="string">&#x27;0dp&#x27;</span>;<span class="comment">--å¡ç‰‡é˜´å½±</span></span><br><span class="line">          <span class="comment">--adjustViewBounds=true,</span></span><br><span class="line">          <span class="comment">-- layout_margin=&quot;24dp&quot;,</span></span><br><span class="line">          layout_width=<span class="string">&#x27;-2&#x27;</span>;<span class="comment">--å¡ç‰‡å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&#x27;-2&#x27;</span>;<span class="comment">--å¡ç‰‡é«˜</span></span><br><span class="line">          radius=<span class="string">&#x27;4dp&#x27;</span>;<span class="comment">--å¡ç‰‡åœ†è§’</span></span><br><span class="line">          CardBackgroundColor=<span class="number">0</span>;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²--#F17F42</span></span><br><span class="line">          <span class="comment">-- Gravity=&quot;center&quot;,</span></span><br><span class="line">          layout_marginRight=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          layout_marginTop=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          layout_marginBottom=<span class="string">&quot;14dp&quot;</span>;</span><br><span class="line">          &#123;</span><br><span class="line">            TextView;</span><br><span class="line">            layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">            id=<span class="string">&quot;bu1&quot;</span>;</span><br><span class="line">            gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;å–æ¶ˆ&quot;</span>;</span><br><span class="line">            textColor=æ–‡å­—;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²--#F17F42</span></span><br><span class="line">            layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">            textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">            onClick=å…³é—­å¯¹è¯æ¡†;</span><br><span class="line">            paddingRight=<span class="string">&quot;16dp&quot;</span>;</span><br><span class="line">            paddingLeft=<span class="string">&quot;16dp&quot;</span>;</span><br><span class="line">            paddingTop=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">            paddingBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          CardView;<span class="comment">--å¡ç‰‡æ§ä»¶</span></span><br><span class="line">          id=<span class="string">&quot;floatbuttonm&quot;</span>;</span><br><span class="line">          <span class="comment">--  layout_gravity=&quot;right|bottom&quot;;</span></span><br><span class="line">          CardElevation=<span class="string">&#x27;4dp&#x27;</span>;<span class="comment">--å¡ç‰‡é˜´å½±</span></span><br><span class="line">          <span class="comment">--adjustViewBounds=true,</span></span><br><span class="line">          <span class="comment">-- layout_margin=&quot;24dp&quot;,</span></span><br><span class="line">          layout_width=<span class="string">&#x27;-2&#x27;</span>;<span class="comment">--å¡ç‰‡å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&#x27;-2&#x27;</span>;<span class="comment">--å¡ç‰‡é«˜</span></span><br><span class="line">          radius=<span class="string">&#x27;4dp&#x27;</span>;<span class="comment">--å¡ç‰‡åœ†è§’</span></span><br><span class="line">          CardBackgroundColor=å¼ºè°ƒè‰²;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²--#F17F42</span></span><br><span class="line">          <span class="comment">-- Gravity=&quot;center&quot;,</span></span><br><span class="line">          layout_marginRight=<span class="string">&quot;18dp&quot;</span>;</span><br><span class="line">          layout_marginTop=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          layout_marginBottom=<span class="string">&quot;14dp&quot;</span>;</span><br><span class="line">          &#123;</span><br><span class="line">            TextView;</span><br><span class="line">            layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">            id=<span class="string">&quot;bu2&quot;</span>;</span><br><span class="line">            gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ç¡®å®š&quot;</span>;</span><br><span class="line">            textColor=<span class="string">&quot;#ffffff&quot;</span>;</span><br><span class="line">            layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">            textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">            <span class="comment">--onClick=ç‚¹å‡»äº‹ä»¶;</span></span><br><span class="line">            paddingRight=<span class="string">&quot;16dp&quot;</span>;</span><br><span class="line">            paddingLeft=<span class="string">&quot;16dp&quot;</span>;</span><br><span class="line">            paddingTop=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">            paddingBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  tDialog=AlertDialog.Builder(this)</span><br><span class="line">  <span class="comment">--.setTitle(æ ‡é¢˜)</span></span><br><span class="line">  .setView(loadlayout(InputLayout))</span><br><span class="line">  <span class="comment">--[[  .setPositiveButton(&quot;ç¡®å®š&quot;,&#123;onClick=ç‚¹å‡»äº‹ä»¶&#125;)</span></span><br><span class="line"><span class="comment">  .setNeutralButton(ä¸­ç«‹æŒ‰é’®,&#123;onClick=ä¸­ç«‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶&#125;)</span></span><br><span class="line"><span class="comment">  .setNegativeButton(&quot;å–æ¶ˆ&quot;,nil)]]</span></span><br><span class="line">  æ ‡é¢˜b.text=æ ‡é¢˜</span><br><span class="line">  dl=tDialog.show()</span><br><span class="line">  p=dl.getWindow().getAttributes();</span><br><span class="line">  p.width=(activity.Width);</span><br><span class="line">  dl.getWindow().setAttributes(p);</span><br><span class="line">  <span class="comment">-- DialogButtonFilter(tDialog,1,io.open(&quot;/data/data/&quot;..activity.getPackageName()..&quot;/å…¶ä»–éƒ¨ä»¶å¼ºè°ƒè‰²å‚¨å­˜.xml&quot;):read(&quot;*a&quot;))</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.PorterDuffColorFilter&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.PorterDuff&quot;</span></span><br><span class="line">  <span class="comment">--ä¿®æ”¹ç¼–è¾‘æ¡†é¢œè‰²</span></span><br><span class="line">  edit.getBackground().setColorFilter(PorterDuffColorFilter(å¼ºè°ƒè‰²,PorterDuff.Mode.SRC_ATOP));</span><br><span class="line">  æ³¢çº¹(bu1,<span class="number">0xFF7F7F7F</span>)</span><br><span class="line">  æ³¢çº¹(bu2,<span class="number">0xFF7F7F7F</span>)</span><br><span class="line">  æ³¢çº¹(bu0,<span class="number">0xFF7F7F7F</span>)</span><br><span class="line">  <span class="comment">--è®¾ç½®åŠ ç²—</span></span><br><span class="line">  bu1.getPaint().setFakeBoldText(<span class="literal">true</span>)</span><br><span class="line">  <span class="comment">--è®¾ç½®åŠ ç²—</span></span><br><span class="line">  æ ‡é¢˜b.getPaint().setFakeBoldText(<span class="literal">true</span>)</span><br><span class="line">  <span class="comment">--è®¾ç½®åŠ ç²—</span></span><br><span class="line">  bu0.getPaint().setFakeBoldText(<span class="literal">true</span>)</span><br><span class="line">  <span class="comment">--è®¾ç½®åŠ ç²—</span></span><br><span class="line">  bu2.getPaint().setFakeBoldText(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">if</span> ä¸­ç«‹æŒ‰é’®==<span class="string">&quot;&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--æ§ä»¶ä¸å¯è§†</span></span><br><span class="line">    bu0.setVisibility(View.INVISIBLE)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    bu0.text=ä¸­ç«‹æŒ‰é’®</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  bu2.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    ç‚¹å‡»äº‹ä»¶()</span><br><span class="line">    <span class="keyword">if</span> ä¸­ç«‹æŒ‰é’®==<span class="string">&quot;&quot;</span> <span class="keyword">then</span></span><br><span class="line">      å…³é—­å¯¹è¯æ¡†()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  bu0.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    ä¸­ç«‹æŒ‰é’®ç‚¹å‡»äº‹ä»¶()</span><br><span class="line">    <span class="keyword">if</span> ä¸­ç«‹æŒ‰é’®==<span class="string">&quot;&quot;</span> <span class="keyword">then</span></span><br><span class="line">      å…³é—­å¯¹è¯æ¡†()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ³¢çº¹<span class="params">(id,é¢œè‰²)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.res.ColorStateList&quot;</span><span class="keyword">local</span> attrsArray = &#123;android.R.attr.selectableItemBackgroundBorderless&#125;</span><br><span class="line">  <span class="keyword">local</span> typedArray =activity.obtainStyledAttributes(attrsArray)</span><br><span class="line">  ripple=typedArray.getResourceId(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">  Pretend=activity.Resources.getDrawable(ripple)</span><br><span class="line">  Pretend.setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;é¢œè‰²&#125;))</span><br><span class="line">  id.setBackground(Pretend.setColor(ColorStateList(int[<span class="number">0</span>].class&#123;int&#123;&#125;&#125;,int&#123;é¢œè‰²&#125;)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ä¾‹</span></span><br><span class="line">è¾“å…¥å¯¹è¯æ¡†(<span class="string">&quot;QQå¼ºåˆ¶èŠå¤©&quot;</span>,</span><br><span class="line">  <span class="string">&quot;è¾“å…¥QQå·...&quot;</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"> <span class="keyword">if</span> edit.Text == <span class="string">&quot;&quot;</span> <span class="keyword">or</span> #edit.Text &lt; <span class="number">5</span> <span class="keyword">or</span> #edit.Text &gt; <span class="number">10</span> <span class="keyword">then</span></span><br><span class="line">        edit.Error=<span class="string">&quot;è¯·æ­£ç¡®è¾“å…¥&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line"><span class="comment">--QQèŠå¤©</span></span><br><span class="line">url=<span class="string">&quot;mqqwpa://im/chat?chat_type=wpa&amp;uin=&quot;</span>..edit.text</span><br><span class="line">activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span><span class="params">(v)</span></span><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²ä¿ç•™url</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BF%9D%E7%95%99url-2021-11-07-17-55-42/</url>
    <content><![CDATA[<h1>å­—ç¬¦ä¸²ä¿ç•™url</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">string</span>.gkeepUrl=<span class="function"><span class="keyword">function</span><span class="params">(str)</span></span></span><br><span class="line">  <span class="keyword">local</span> strurltab=&#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">string</span>.<span class="built_in">gfind</span>(str,<span class="string">&quot;https?://[-A-Za-z0-9+&amp;@#/%?=~_|!:,.;]+[-A-Za-z0-9+&amp;@#/%=~_|]&quot;</span>) <span class="keyword">do</span></span><br><span class="line">    strurltab[#strurltab+<span class="number">1</span>]=<span class="built_in">string</span>.<span class="built_in">sub</span>(str,i,v)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> strurltab</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è¿”å›çš„æ˜¯tableï¼Œè¯¥æ–¹å¼æ”¯æŒä¿ç•™å¤šä¸ªé“¾æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">str=<span class="string">&quot;MLuaForum https://www.mukapp.top/ Luaä¼˜åŒ–æ€§èƒ½å°ç»“ https://www.mukapp.top/?thread-19.htm&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dump</span>(str:gkeepUrl()))</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> str1=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(<span class="built_in">string</span>.gkeepUrl(str)) <span class="keyword">do</span></span><br><span class="line">  str1=str1..v..<span class="string">&quot; &quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(str1)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—ç¬¦ä¸²ä¿ç•™å’Œè¿‡æ»¤ä¸­æ–‡</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%BF%9D%E7%95%99%E5%92%8C%E8%BF%87%E6%BB%A4%E4%B8%AD%E6%96%87-2021-11-07-17-55-57/</url>
    <content><![CDATA[<h1>å­—ç¬¦ä¸²ä¿ç•™å’Œè¿‡æ»¤ä¸­æ–‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æœ‰ä¸­æ–‡ç¬¦å·ä¼šä¹±ç </span></span><br><span class="line"><span class="built_in">string</span>.filterChinese=<span class="function"><span class="keyword">function</span><span class="params">(str)</span></span><span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">gsub</span>(str,<span class="string">&quot;[u4e00-u9fa5]+&quot;</span>,<span class="string">&quot;&quot;</span>)<span class="keyword">end</span></span><br><span class="line"><span class="built_in">string</span>.keepChinese=<span class="function"><span class="keyword">function</span><span class="params">(str)</span></span><span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">gsub</span>(str,<span class="string">&quot;[^u4e00-u9fa5]+&quot;</span>,<span class="string">&quot;&quot;</span>)<span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">str=<span class="string">&quot;AndLuaJ+æ˜¯ä¸€ä¸ªå¥½ç”¨çš„å¼€å‘å¹³å°&quot;</span></span><br><span class="line"><span class="comment">--è¿‡æ»¤ä¸­æ–‡</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.filterChinese(str))</span><br><span class="line"><span class="built_in">print</span>(str:filterChinese())</span><br><span class="line"><span class="comment">--ä¿ç•™ä¸­æ–‡</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.keepChinese(str))</span><br><span class="line"><span class="built_in">print</span>(str:keepChinese())</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰å…¨åœ°æ‰§è¡Œluaä»£ç </title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%AE%89%E5%85%A8%E5%9C%B0%E6%89%A7%E8%A1%8Clua%E4%BB%A3%E7%A0%81-2021-11-07-17-49-07/</url>
    <content><![CDATA[<h1>å®‰å…¨åœ°æ‰§è¡Œluaä»£ç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å®‰å…¨åœ°æ‰§è¡Œluaä»£ç </span></span><br><span class="line"><span class="built_in">load</span>(<span class="string">[[print(233)]]</span>,<span class="literal">nil</span>,<span class="string">&quot;t&quot;</span>,&#123;</span><br><span class="line"><span class="comment">--è®¾ç½®å¯è°ƒç”¨çš„å‡½æ•°</span></span><br><span class="line">[<span class="string">&quot;print&quot;</span>]=<span class="built_in">print</span>,</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å®ç°-&gt;table.insertï¼Œå¦‚æœé‚£ä¸ªtableé‡Œæœ‰è¿™ä¸ªå€¼å°±ä¸æ·»åŠ </title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%AE%9E%E7%8E%B0-%3Etable.insert%EF%BC%8C%E5%A6%82%E6%9E%9C%E9%82%A3%E4%B8%AAtable%E9%87%8C%E6%9C%89%E8%BF%99%E4%B8%AA%E5%80%BC%E5%B0%B1%E4%B8%8D%E6%B7%BB%E5%8A%A0-2021-11-07-17-34-51/</url>
    <content><![CDATA[<h1>å®ç°-&gt;table.insertï¼Œå¦‚æœé‚£ä¸ªtableé‡Œæœ‰è¿™ä¸ªå€¼å°±ä¸æ·»åŠ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å…ˆéå†ç„¶åå˜é‡true</span></span><br><span class="line">a=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line"></span><br><span class="line">b=&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(a) <span class="keyword">do</span></span><br><span class="line">  b[v]=<span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> v,k <span class="keyword">in</span> <span class="built_in">ipairs</span>(b) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹è¯æ¡†ä¸‰ä¸ªæŒ‰æ‰­</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E5%AF%B9%E8%AF%9D%E6%A1%86%E4%B8%89%E4%B8%AA%E6%8C%89%E6%89%AD/</url>
    <content><![CDATA[<h1></h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua+&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‰æŒ‰é’®å¯¹è¯æ¡†</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span> </span><br><span class="line">dl=AlertDialog.Builder(activity)</span><br><span class="line">.setTitle(<span class="string">&quot;å¯¹è¯æ¡†&quot;</span>).setMessage(<span class="string">&quot;æ‚¨ç¡®å®šé€‰æ‹©é€€å‡ºå—ï¼Ÿ&quot;</span>)</span><br><span class="line">.setPositiveButton(<span class="string">&quot;é€€å‡ºåº”ç”¨&quot;</span>,DialogInterface.OnClickListener&#123;</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">    <span class="comment">--print(&quot;æ‚¨é€‰æ‹©äº†é€€å‡º&quot;)</span></span><br><span class="line">    activity.finish()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line">.setNegativeButton(<span class="string">&quot;è½¬å…¥åå°&quot;</span>,DialogInterface.OnClickListener&#123;</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">    intent = Intent(Intent.ACTION_MAIN);</span><br><span class="line">    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);<span class="comment">--å½“ä½¿ç”¨è¿™ä¸ªæ ‡å¿—æ—¶ï¼Œå¦‚æœä¸€ä¸ªåŒ…å«æ­¤activityçš„taskå·²ç»è¿è¡Œäº†ï¼Œæ–°çš„activityä¸ä¼šå¯åŠ¨ï¼›åŒæ—¶ï¼Œå½“å‰çš„taskå°†ç®€å•çš„è¢«æåˆ°çª—å£æœ€å‰é¢ã€‚æŸ¥çœ‹FLAG_ACTIVITY_MULTIPLE_TASKå¯ä»¥ç¦æ­¢è¿™ä¸ªè¡Œä¸ºã€‚</span></span><br><span class="line">    intent.addCategory(Intent.CATEGORY_HOME);</span><br><span class="line">    this.startActivity(intent);</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;åº”ç”¨å·²ç»è½¬å…¥åå°ï¼Œç›¸å½“äºhomeé”®&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line">.setNeutralButton(<span class="string">&quot;å¾…è®¾ç½®çš„å‘½ä»¤&quot;</span>,<span class="literal">nil</span>); </span><br><span class="line">dl.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰«æä¸­æ–‡</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E6%89%AB%E6%8F%8F%E4%B8%AD%E6%96%87-2021-11-07-17-44-31/</url>
    <content><![CDATA[<h1>æ‰«æä¸­æ–‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">file=luajava.luadir</span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fileList</span><span class="params">(file)</span></span></span><br><span class="line">  <span class="keyword">return</span> luajava.astable(File(<span class="built_in">tostring</span>(file)).listFiles())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">err=&#123;&#125;</span><br><span class="line">import <span class="string">&quot;init&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">nextFile</span><span class="params">(file)</span></span></span><br><span class="line">  <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(fileList(file)) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> File(<span class="built_in">tostring</span>(v)).isDirectory() <span class="keyword">then</span></span><br><span class="line">      nextFile(v)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">tostring</span>(v),<span class="string">&quot;.*/(.-)&quot;</span>):<span class="built_in">gsub</span>(<span class="string">&quot;%p&quot;</span>,<span class="string">&quot;&quot;</span>):<span class="built_in">find</span>(<span class="string">&quot;^(%w*)&quot;</span>) <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;æ–‡ä»¶å†…æœ‰ä¸­æ–‡&quot;</span>..v)</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;æ‰«æå®Œæˆï¼Œæœªå‘ç°ä¸­æ–‡ã€‚&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">nextFile(file)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æœç´¢å</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E6%90%9C%E7%B4%A2%E5%90%8D-2021-11-07-17-43-04/</url>
    <content><![CDATA[<h1>æœç´¢å</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">aa=<span class="string">[[</span></span><br><span class="line"><span class="string">æ–‡ä»¶4667.apk</span></span><br><span class="line"><span class="string">æ–‡ä»¶xkxksk.apk</span></span><br><span class="line"><span class="string">æ–‡ä»¶68464.apk</span></span><br><span class="line"><span class="string">]]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> aa:<span class="built_in">gmatch</span>(<span class="string">&quot;æ–‡ä»¶(.-)%papk&quot;</span>) <span class="keyword">do</span></span><br><span class="line">   <span class="keyword">if</span> <span class="string">&quot;æ–‡ä»¶4667.apk&quot;</span>==<span class="string">&quot;æ–‡ä»¶&quot;</span>..k..<span class="string">&quot;.apk&quot;</span> <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;æ–‡ä»¶&quot;</span>..k..<span class="string">&quot;.apk&quot;</span>)</span><br><span class="line">      <span class="keyword">else</span></span><br><span class="line">     </span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">   </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">png=&#123;<span class="string">&quot;sx&quot;</span>,<span class="string">&quot;777&quot;</span>,<span class="string">&quot;6767777&quot;</span>,<span class="string">&quot;7338&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(png) <span class="keyword">do</span></span><br><span class="line"><span class="keyword">if</span> v:<span class="built_in">find</span>(<span class="string">&#x27;777&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(v)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ— çŠ¶æ€çš„è¿­ä»£å™¨</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8-2021-11-07-17-47-35/</url>
    <content><![CDATA[<h1>æ— çŠ¶æ€çš„è¿­ä»£å™¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ— çŠ¶æ€çš„è¿­ä»£å™¨æ˜¯æŒ‡ä¸ä¿ç•™ä»»ä½•çŠ¶æ€çš„è¿­ä»£å™¨ï¼Œå› æ­¤åœ¨å¾ªç¯ä¸­æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ— çŠ¶æ€è¿­ä»£å™¨é¿å…åˆ›å»ºé—­åŒ…èŠ±è´¹é¢å¤–çš„ä»£ä»·ã€‚</span><br><span class="line"></span><br><span class="line">æ¯ä¸€æ¬¡è¿­ä»£ï¼Œè¿­ä»£å‡½æ•°éƒ½æ˜¯ç”¨ä¸¤ä¸ªå˜é‡ï¼ˆçŠ¶æ€å¸¸é‡å’Œæ§åˆ¶å˜é‡ï¼‰çš„å€¼ä½œä¸ºå‚æ•°è¢«è°ƒç”¨ï¼Œä¸€ä¸ªæ— çŠ¶æ€çš„è¿­ä»£å™¨åªåˆ©ç”¨è¿™ä¸¤ä¸ªå€¼å¯ä»¥è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">è¿™ç§æ— çŠ¶æ€è¿­ä»£å™¨çš„å…¸å‹çš„ç®€å•çš„ä¾‹å­æ˜¯<span class="built_in">ipairs</span>ï¼Œä»–éå†æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ ã€‚</span><br><span class="line"></span><br><span class="line">ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªç®€å•çš„å‡½æ•°æ¥å®ç°è¿­ä»£å™¨ï¼Œå®ç° æ•°å­— n çš„å¹³æ–¹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span><span class="params">(iteratorMaxCount,currentNumber)</span></span></span><br><span class="line">  <span class="keyword">if</span> currentNumber&lt;iteratorMaxCount</span><br><span class="line">    <span class="keyword">then</span></span><br><span class="line">    currentNumber = currentNumber+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> currentNumber, currentNumber*currentNumber</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,n <span class="keyword">in</span> square,<span class="number">3</span>,<span class="number">0</span></span><br><span class="line">  <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(i,n)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">ä»¥ä¸Šå®ä¾‹è¾“å‡ºç»“æœä¸ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">9</span></span><br><span class="line"></span><br><span class="line">è¿­ä»£çš„çŠ¶æ€åŒ…æ‹¬è¢«éå†çš„è¡¨ï¼ˆå¾ªç¯è¿‡ç¨‹ä¸­ä¸ä¼šæ”¹å˜çš„çŠ¶æ€å¸¸é‡ï¼‰å’Œå½“å‰çš„ç´¢å¼•ä¸‹æ ‡ï¼ˆæ§åˆ¶å˜é‡ï¼‰ï¼Œ<span class="built_in">ipairs</span>å’Œè¿­ä»£å‡½æ•°éƒ½å¾ˆç®€å•ï¼Œæˆ‘ä»¬åœ¨Luaä¸­å¯ä»¥è¿™æ ·å®ç°ï¼š</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iter</span> <span class="params">(a, i)</span></span></span><br><span class="line">  i = i + <span class="number">1</span></span><br><span class="line">  <span class="keyword">local</span> v = a[i]</span><br><span class="line">  <span class="keyword">if</span> v <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> i, v</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ipairs</span> <span class="params">(a)</span></span></span><br><span class="line">  <span class="keyword">return</span> iter, a, <span class="number">0</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">å½“Luaè°ƒç”¨<span class="built_in">ipairs</span>(a)å¼€å§‹å¾ªç¯æ—¶ï¼Œä»–è·å–ä¸‰ä¸ªå€¼ï¼šè¿­ä»£å‡½æ•°iterã€çŠ¶æ€å¸¸é‡aã€æ§åˆ¶å˜é‡åˆå§‹å€¼<span class="number">0</span>ï¼›ç„¶åLuaè°ƒç”¨iter(a,<span class="number">0</span>)è¿”å›<span class="number">1</span>,a[<span class="number">1</span>]ï¼ˆé™¤éa[<span class="number">1</span>]=<span class="literal">nil</span>ï¼‰ï¼›ç¬¬äºŒæ¬¡è¿­ä»£è°ƒç”¨iter(a,<span class="number">1</span>)è¿”å›<span class="number">2</span>,a[<span class="number">2</span>]â€¦â€¦ç›´åˆ°ç¬¬ä¸€ä¸ª<span class="literal">nil</span>å…ƒç´ ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æœ€æ–¹ä¾¿çš„äºŒè¿›åˆ¶è°ƒç”¨</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E6%9C%80%E6%96%B9%E4%BE%BF%E7%9A%84%E4%BA%8C%E8%BF%9B%E5%88%B6%E8%B0%83%E7%94%A8-2021-11-07-17-49-56/</url>
    <content><![CDATA[<h1>æœ€æ–¹ä¾¿çš„äºŒè¿›åˆ¶è°ƒç”¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"> <span class="comment">--SCPäºŒè¿›åˆ¶ä¸­æ–‡å‡½æ•°è°ƒç”¨æ¨¡å—(æ‰€æœ‰æ¡†æ¶é€šç”¨)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ã€1ã€‘è°ƒç”¨äºŒè¿›åˆ¶ä¸­æ–‡å‡½æ•°æ¨¡å—åŒ…â†“</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> äºŒè¿›åˆ¶æ‰§è¡Œ<span class="params">(äºŒè¿›åˆ¶è·¯å¾„,äºŒè¿›åˆ¶å¼€å…³æç¤º)</span></span><span class="comment">--ä¸­æ–‡å‡½æ•°</span></span><br><span class="line">äºŒè¿›åˆ¶è°ƒç”¨=activity.getLuaDir(äºŒè¿›åˆ¶è·¯å¾„)<span class="comment">--è‡ªåŠ¨è·å–luaæ–‡ä»¶çš„æ‰§è¡Œè·¯å¾„,åªéœ€å¡«äºŒè¿›åˆ¶åœ¨æ’ä»¶çš„ç›®å½•è·¯å¾„å³å¯</span></span><br><span class="line"><span class="keyword">local</span> Root,<span class="built_in">exit</span>,numb=<span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;su&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> Root==<span class="literal">true</span> <span class="keyword">then</span><span class="comment">--åˆ¤æ–­æœ‰rootåˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤â†“</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;su -c chmod 777 &quot;</span>..äºŒè¿›åˆ¶è°ƒç”¨)<span class="comment">--æˆäºˆ777æƒé™</span></span><br><span class="line">Runtime.getRuntime().exec(<span class="string">&quot;su -c &quot;</span>..äºŒè¿›åˆ¶è°ƒç”¨)<span class="comment">--æ‰§è¡ŒäºŒè¿›åˆ¶åŠŸèƒ½</span></span><br><span class="line"><span class="built_in">print</span>(äºŒè¿›åˆ¶å¼€å…³æç¤º)</span><br><span class="line"><span class="keyword">else</span><span class="comment">--æ²¡æœ‰rootåˆ™æ‰§è¡Œä»¥ä¸‹å‘½ä»¤â†“</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;chmod 777 &quot;</span>..äºŒè¿›åˆ¶è°ƒç”¨)<span class="comment">--æˆäºˆ777æƒé™</span></span><br><span class="line">Runtime.getRuntime().exec(<span class="string">&quot;&quot;</span>..äºŒè¿›åˆ¶è°ƒç”¨)<span class="comment">--æ‰§è¡ŒäºŒè¿›åˆ¶åŠŸèƒ½</span></span><br><span class="line"><span class="built_in">print</span>(äºŒè¿›åˆ¶å¼€å…³æç¤º)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è°ƒç”¨è·¯å¾„å†™å…¥&gt;&gt;&gt;äºŒè¿›åˆ¶æ‰§è¡Œ(äºŒè¿›åˆ¶è·¯å¾„,äºŒè¿›åˆ¶æç¤º)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-------------------------------------------------------------æˆ‘æ˜¯åˆ†å‰²çº¿</span></span><br><span class="line"></span><br><span class="line"><span class="comment">---ã€2ã€‘äºŒè¿›åˆ¶è°ƒç”¨æ¨¡å—åŒ…â†“</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å…¨æªèšç‚¹æ— å</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">a1.OnCheckedChangeListener</span><span class="params">()</span></span></span><br><span class="line"><span class="keyword">if</span> a1.checked <span class="keyword">then</span></span><br><span class="line">äºŒè¿›åˆ¶æ‰§è¡Œ(<span class="string">&quot;libso/a01_on&quot;</span>,<span class="string">&quot;å…¨æªèšç‚¹æ— åå¼€å¯æˆåŠŸ&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">äºŒè¿›åˆ¶æ‰§è¡Œ(<span class="string">&quot;libso/a01_off&quot;</span>,<span class="string">&quot;å…¨æªèšç‚¹æ— åå…³é—­æˆåŠŸ&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F-2021-11-07-17-49-34/</url>
    <content><![CDATA[<h1>æ­£åˆ™è¡¨è¾¾å¼</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">.(ç‚¹): ä¸ä»»ä½•å­—ç¬¦é…å¯¹</span><br><span class="line">%a: ä¸ä»»ä½•å­—æ¯é…å¯¹</span><br><span class="line">%c: ä¸ä»»ä½•æ§åˆ¶ç¬¦é…å¯¹(ä¾‹å¦‚n)</span><br><span class="line">%d: ä¸ä»»ä½•æ•°å­—é…å¯¹</span><br><span class="line">%l: ä¸ä»»ä½•å°å†™å­—æ¯é…å¯¹</span><br><span class="line">%p: ä¸ä»»ä½•æ ‡ç‚¹(punctuation)é…å¯¹</span><br><span class="line">%s: ä¸ç©ºç™½å­—ç¬¦é…å¯¹</span><br><span class="line">%u: ä¸ä»»ä½•å¤§å†™å­—æ¯é…å¯¹</span><br><span class="line">%w: ä¸ä»»ä½•å­—æ¯/æ•°å­—é…å¯¹</span><br><span class="line">%x: ä¸ä»»ä½•åå…­è¿›åˆ¶æ•°é…å¯¹</span><br><span class="line">%z: ä¸ä»»ä½•ä»£è¡¨<span class="number">0</span>çš„å­—ç¬¦é…å¯¹</span><br><span class="line">%x(æ­¤å¤„xæ˜¯éå­—æ¯éæ•°å­—å­—ç¬¦): ä¸å­—ç¬¦xé…å¯¹. ä¸»è¦ç”¨æ¥å¤„ç†è¡¨è¾¾å¼ä¸­æœ‰åŠŸèƒ½çš„å­—ç¬¦(^()%.[]*+-?)çš„é…å¯¹é—®é¢˜, ä¾‹å¦‚%%ä¸%é…å¯¹[æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•[]ä¸­åŒ…å«çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[%w_]ä¸ä»»ä½•å­—æ¯/æ•°å­—, æˆ–ä¸‹åˆ’çº¿ç¬¦å·(_)é…å¯¹[^æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•ä¸åŒ…å«åœ¨[]ä¸­çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[^%s]ä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹</span><br><span class="line"></span><br><span class="line">å½“ä¸Šè¿°çš„å­—ç¬¦ç±»ç”¨å¤§å†™ä¹¦å†™æ—¶, è¡¨ç¤ºä¸éæ­¤å­—ç¬¦ç±»çš„ä»»ä½•å­—ç¬¦é…å¯¹. ä¾‹å¦‚, %Sè¡¨ç¤ºä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹.</span><br><span class="line"></span><br><span class="line">%a  æ˜ŸæœŸç®€å†™</span><br><span class="line">%A  æ˜ŸæœŸå¤§å†™</span><br><span class="line">%b  æœˆä»½ç®€å†™</span><br><span class="line">%B  æœˆä»½å¤§å†™</span><br><span class="line">%c  æ—¥æœŸæ—¶é—´</span><br><span class="line">%d  æœˆä»½å¤©æ•°</span><br><span class="line">%H  å°æ—¶[<span class="number">24</span>è¿›åˆ¶]</span><br><span class="line">%I  å°æ—¶[<span class="number">12</span>è¿›åˆ¶]</span><br><span class="line">%j  å¹´ä¸­ç¬¬å‡ å¤©</span><br><span class="line">%m  æœˆä»½</span><br><span class="line">%M åˆ†é’Ÿ</span><br><span class="line">%p  amæˆ–pm</span><br><span class="line">%S  ç§’æ•°</span><br><span class="line">%w  æ˜ŸæœŸ</span><br><span class="line">%W  ç¬¬å‡ å‘¨</span><br><span class="line">%x  æ—¥æœŸ</span><br><span class="line">%X  æ—¶é—´</span><br><span class="line">%y  ä¸¤ä½æ•°çš„æœˆä»½</span><br><span class="line">%Y å®Œæ•´çš„æœˆä»½</span><br><span class="line">%z  æ—¶åŒº</span><br><span class="line">%% ç™¾åˆ†å·</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%c - æ¥å—ä¸€ä¸ªæ•°å­—, å¹¶å°†å…¶è½¬åŒ–ä¸ºASCIIç è¡¨ä¸­å¯¹åº”çš„å­—ç¬¦</span><br><span class="line">%d, %i - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæœ‰ç¬¦å·çš„æ•´æ•°æ ¼å¼</span><br><span class="line">%o - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºå…«è¿›åˆ¶æ•°æ ¼å¼</span><br><span class="line">%u - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæ— ç¬¦å·æ•´æ•°æ ¼å¼</span><br><span class="line">%x - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯</span><br><span class="line">%X - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯</span><br><span class="line">%e - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯e</span><br><span class="line">%E - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯E</span><br><span class="line">%f - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°æ ¼å¼</span><br><span class="line">%g(%G) - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸º%e(%E, å¯¹åº”%G)åŠ%fä¸­è¾ƒçŸ­çš„ä¸€ç§æ ¼å¼</span><br><span class="line">%q - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶å°†å…¶è½¬åŒ–ä¸ºå¯å®‰å…¨è¢«Luaç¼–è¯‘å™¨è¯»å…¥çš„æ ¼å¼</span><br><span class="line">%s - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶æŒ‰ç…§ç»™å®šçš„å‚æ•°æ ¼å¼åŒ–è¯¥å­—ç¬¦ä¸²</span><br><span class="line">ä¸ºè¿›ä¸€æ­¥ç»†åŒ–æ ¼å¼, å¯ä»¥åœ¨%å·åæ·»åŠ å‚æ•°. å‚æ•°å°†ä»¥å¦‚ä¸‹çš„é¡ºåºè¯»å…¥:</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>) ç¬¦å·: ä¸€ä¸ª+å·è¡¨ç¤ºå…¶åçš„æ•°å­—è½¬ä¹‰ç¬¦å°†è®©æ­£æ•°æ˜¾ç¤ºæ­£å·. é»˜è®¤æƒ…å†µä¸‹åªæœ‰è´Ÿæ•°æ˜¾ç¤ºç¬¦å·.</span><br><span class="line">(<span class="number">2</span>) å ä½ç¬¦: ä¸€ä¸ª<span class="number">0</span>, åœ¨åé¢æŒ‡å®šäº†å­—ä¸²å®½åº¦æ—¶å ä½ç”¨. ä¸å¡«æ—¶çš„é»˜è®¤å ä½ç¬¦æ˜¯ç©ºæ ¼.</span><br><span class="line">(<span class="number">3</span>) å¯¹é½æ ‡è¯†: åœ¨æŒ‡å®šäº†å­—ä¸²å®½åº¦æ—¶, é»˜è®¤ä¸ºå³å¯¹é½, å¢åŠ -å·å¯ä»¥æ”¹ä¸ºå·¦å¯¹é½.</span><br><span class="line">(<span class="number">4</span>) å®½åº¦æ•°å€¼</span><br><span class="line">(<span class="number">5</span>) å°æ•°ä½æ•°/å­—ä¸²è£åˆ‡: åœ¨å®½åº¦æ•°å€¼åå¢åŠ çš„å°æ•°éƒ¨åˆ†n, è‹¥åæ¥f(æµ®ç‚¹æ•°è½¬ä¹‰ç¬¦, å¦‚%<span class="number">6.3</span>f)åˆ™è®¾å®šè¯¥æµ®ç‚¹æ•°çš„å°æ•°åªä¿ç•™nä½, è‹¥åæ¥s(å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦, å¦‚%<span class="number">5.3</span>s)åˆ™è®¾å®šè¯¥å­—ç¬¦ä¸²åªæ˜¾ç¤ºå‰nä½.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å®ä¾‹</span></span><br><span class="line">string1 = <span class="string">&quot;Lua&quot;</span></span><br><span class="line">string2 = <span class="string">&quot;Tutorial&quot;</span></span><br><span class="line">number1 = <span class="number">10</span></span><br><span class="line">number2 = <span class="number">20</span></span><br><span class="line"><span class="comment">-- åŸºæœ¬å­—ç¬¦ä¸²æ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;åŸºæœ¬æ ¼å¼åŒ– %s %s&quot;</span>,string1,string2))</span><br><span class="line"><span class="comment">-- æ—¥æœŸæ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">date</span> = <span class="number">2</span>; month = <span class="number">1</span>; year = <span class="number">2014</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;æ—¥æœŸæ ¼å¼åŒ– %02d/%02d/%03d&quot;</span>, <span class="built_in">date</span>, month, year))</span><br><span class="line"><span class="comment">-- åè¿›åˆ¶æ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%.4f&quot;</span>,<span class="number">1</span>/<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">ä»¥ä¸Šä»£ç æ‰§è¡Œç»“æœä¸ºï¼š</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">åŸºæœ¬æ ¼å¼åŒ– Lua Tutorial</span></span><br><span class="line"><span class="comment">æ—¥æœŸæ ¼å¼åŒ– 02/01/2014</span></span><br><span class="line"><span class="comment">0.3333</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å…¶ä»–ä¾‹å­ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%c&quot;</span>, <span class="number">83</span>)                 <span class="comment">-- è¾“å‡ºS</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%+d&quot;</span>, <span class="number">17.0</span>)              <span class="comment">-- è¾“å‡º+17</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%05d&quot;</span>, <span class="number">17</span>)               <span class="comment">-- è¾“å‡º00017</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%o&quot;</span>, <span class="number">17</span>)                 <span class="comment">-- è¾“å‡º21</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%u&quot;</span>, <span class="number">3.14</span>)               <span class="comment">-- è¾“å‡º3</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%x&quot;</span>, <span class="number">13</span>)                 <span class="comment">-- è¾“å‡ºd</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%X&quot;</span>, <span class="number">13</span>)                 <span class="comment">-- è¾“å‡ºD</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%e&quot;</span>, <span class="number">1000</span>)               <span class="comment">-- è¾“å‡º1.000000e+03</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%E&quot;</span>, <span class="number">1000</span>)               <span class="comment">-- è¾“å‡º1.000000E+03</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%6.3f&quot;</span>, <span class="number">13</span>)              <span class="comment">-- è¾“å‡º13.000</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, <span class="string">&quot;OnenTwo&quot;</span>)         <span class="comment">-- è¾“å‡º&quot;One</span></span><br><span class="line">                                        <span class="comment">-- ã€€ã€€Two&quot;</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)           <span class="comment">-- è¾“å‡ºmonkey</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%10s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)         <span class="comment">-- è¾“å‡º    monkey</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%5.3s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)        <span class="comment">-- è¾“å‡º  mon</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ±‰è¯ºå¡”</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E6%B1%89%E8%AF%BA%E5%A1%94-2021-11-07-17-57-04/</url>
    <content><![CDATA[<h1>æ±‰è¯ºå¡”</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(&#123;</span><br><span class="line">  FrameLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  id=<span class="string">&quot;mFrameLayout&quot;</span>,</span><br><span class="line">&#125;))</span><br><span class="line">activity.setRequestedOrientation(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AINDEX = ... <span class="keyword">or</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¼€å‘è€…:DIFFFFFFT</span></span><br><span class="line"><span class="comment">--QQ:672228275</span></span><br><span class="line"><span class="comment">--æè¿°:è¿™æ˜¯ä¸€æ¬¾å°æ¸¸æˆ,åå­—å«æ±‰è¯ºå¡”å°æ¸¸æˆ</span></span><br><span class="line"><span class="comment">--åŸºæœ¬æ²¡å•¥bugäº†,ä¼˜åŒ–ä¸‹UIå’ŒéŸ³æ•ˆæ•ˆæœä¼šæ›´å¥½</span></span><br><span class="line"><span class="comment">--ä»£ç æ²¡å•¥è§„èŒƒï¼Œå†™çš„æœ‰ç‚¹çƒ‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å®˜ç½‘:http://www.hannuota.cn/</span></span><br><span class="line"><span class="comment">--æ±‰è¯ºå¡”æ¸¸æˆè§„åˆ™:ä½ è¦å°†æ‰€æœ‰çš„ç›’å­ä»TOWER 1ç§»åŠ¨åˆ°TOWER 3</span></span><br><span class="line"><span class="comment">--ä½ æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›’å­ã€‚</span></span><br><span class="line"><span class="comment">--æ¸¸æˆæœ€é‡è¦çš„è§„åˆ™æ˜¯å¤§çš„ç›’å­ä¸èƒ½æ”¾åœ¨å°çš„ç›’å­ä¸Šé¢</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¬è¯´ç‰›é€¼çš„äººç›´æ¥æŒ‘æˆ˜ç¬¬ä¹å…³</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SCREEN_WIDTH = activity.getHeight()</span><br><span class="line">SCREEN_HEIGHT = activity.getWidth()</span><br><span class="line"></span><br><span class="line">MAX_A = SCREEN_WIDTH/<span class="number">3</span></span><br><span class="line">MAX_B = SCREEN_WIDTH/<span class="number">3</span></span><br><span class="line">MAX_C = SCREEN_WIDTH/<span class="number">3</span></span><br><span class="line"></span><br><span class="line">COLOR_TABLE = &#123;</span><br><span class="line">  <span class="string">&quot;#FF800020&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF854F18&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF858500&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF1B850C&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF008585&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF002185&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF640085&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FF850064&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FFC00090&quot;</span>,</span><br><span class="line">  <span class="string">&quot;#FFC02711&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dp2px</span><span class="params">(dp)</span></span></span><br><span class="line">  <span class="keyword">local</span> TypedValue= import <span class="string">&quot;android.util.TypedValue&quot;</span></span><br><span class="line">  <span class="keyword">local</span> a,b=dp:<span class="built_in">match</span>(<span class="string">&quot;^(%-?[%.%d]+)(%a%a)&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> TypedValue.applyDimension(<span class="number">1</span>,<span class="built_in">tonumber</span>(a),activity.getResources().getDisplayMetrics())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">A</span><span class="params">(AINDEX)</span></span></span><br><span class="line">  <span class="keyword">local</span> class = &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> views = &#123;&#125;</span><br><span class="line">  <span class="keyword">local</span> num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  class.AINDEX=AINDEX</span><br><span class="line"></span><br><span class="line">  class.addView=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">    num = num + <span class="number">1</span></span><br><span class="line">    item_w = (SCREEN_WIDTH/<span class="number">3</span>)-dp2px(<span class="string">&quot;20dp&quot;</span>)*(num<span class="number">-1</span>)</span><br><span class="line">    item_x = (SCREEN_WIDTH/<span class="number">3</span>-item_w)/<span class="number">2</span></span><br><span class="line">    item_y = (SCREEN_HEIGHT)-dp2px(<span class="string">&quot;40dp&quot;</span>)*num</span><br><span class="line"></span><br><span class="line">    <span class="keyword">local</span> item = loadlayout(&#123;</span><br><span class="line">      TextView,</span><br><span class="line">      gravity=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">      layout_width=item_w,</span><br><span class="line">      layout_height=<span class="string">&quot;40dp&quot;</span>,</span><br><span class="line">      x=item_x,</span><br><span class="line">      y=item_y,</span><br><span class="line">      tag=<span class="number">0</span>,</span><br><span class="line">      text=<span class="string">&quot;&quot;</span>,</span><br><span class="line">      textSize=<span class="number">0</span>,</span><br><span class="line">      backgroundColor=COLOR_TABLE[num],</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    mFrameLayout.addView(item)</span><br><span class="line">    class.onTouch(item)</span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num == AINDEX <span class="keyword">then</span></span><br><span class="line">      item.Text = <span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  class.a2a=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    item.setX((SCREEN_WIDTH/<span class="number">3</span>-item.getWidth())/<span class="number">2</span>)</span><br><span class="line">    item.setY((SCREEN_HEIGHT)-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views))</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  class.a2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> BQ.a2b(item) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">remove</span>(views,<span class="built_in">table</span>.<span class="built_in">find</span>(views,item))</span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  class.a2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> CQ.a2c(item) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">remove</span>(views,<span class="built_in">table</span>.<span class="built_in">find</span>(views,item))</span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> CQ.win() <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  class.b2a=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> item.getWidth() &gt;= views[#views].getWidth() <span class="keyword">then</span></span><br><span class="line">        BQ.b2b(item)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    BQ.b2a(item)</span><br><span class="line"></span><br><span class="line">    item.setX((SCREEN_WIDTH/<span class="number">3</span>-item.getWidth())/<span class="number">2</span>)</span><br><span class="line">    item.setY((SCREEN_HEIGHT)-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views+<span class="number">1</span>))</span><br><span class="line">    item.tag = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.b2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    BQ.b2b(item)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  class.b2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    BQ.b2c(item)</span><br><span class="line">    <span class="keyword">if</span> CQ.win() <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  class.c2a=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> item.getWidth() &gt;= views[#views].getWidth() <span class="keyword">then</span></span><br><span class="line">        CQ.c2c(item)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    CQ.c2a(item)</span><br><span class="line"></span><br><span class="line">    item.setX((SCREEN_WIDTH/<span class="number">3</span>-item.getWidth())/<span class="number">2</span>)</span><br><span class="line">    item.setY((SCREEN_HEIGHT)-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views+<span class="number">1</span>))</span><br><span class="line">    item.tag = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  class.c2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    CQ.c2b(item)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  class.c2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    CQ.c2c(item)</span><br><span class="line">    <span class="keyword">if</span> CQ.win() <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  class.onTouch=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line"></span><br><span class="line">    item.onTouch=<span class="function"><span class="keyword">function</span><span class="params">(view,event)</span></span></span><br><span class="line">      ACTION = event.getAction()</span><br><span class="line">      <span class="keyword">if</span> ACTION == MotionEvent.ACTION_DOWN <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">elseif</span> ACTION == MotionEvent.ACTION_MOVE <span class="keyword">then</span></span><br><span class="line">        sx = event.getRawX()</span><br><span class="line">        sy = event.getRawY()</span><br><span class="line">        l = view.getLeft()</span><br><span class="line">        t = view.getTop()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> item.Text == <span class="string">&quot;first&quot;</span> <span class="keyword">then</span></span><br><span class="line">          view.setX(sx+l-(view.getWidth()/<span class="number">2</span>))</span><br><span class="line">          view.setY(sy+t-(view.getHeight()/<span class="number">2</span>))</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">       <span class="keyword">elseif</span> ACTION == MotionEvent.ACTION_UP <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> item.Text ~= <span class="string">&quot;first&quot;</span> <span class="keyword">then</span></span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        lastx = event.getRawX()</span><br><span class="line">        lasty = event.getRawY()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> lastx &gt;= <span class="number">0</span> <span class="keyword">and</span> lastx &lt;= SCREEN_WIDTH/<span class="number">3</span> <span class="keyword">then</span></span><br><span class="line">          tag = <span class="number">0</span></span><br><span class="line">         <span class="keyword">elseif</span> lastx &gt;= SCREEN_WIDTH/<span class="number">3</span> <span class="keyword">and</span> lastx &lt;= SCREEN_WIDTH*<span class="number">2</span>/<span class="number">3</span> <span class="keyword">then</span></span><br><span class="line">          tag = <span class="number">1</span></span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">          tag = <span class="number">2</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> item.tag==<span class="number">0</span> <span class="keyword">and</span> tag==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">          class.a2a(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">0</span> <span class="keyword">and</span> tag==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">          class.a2b(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">1</span> <span class="keyword">and</span> tag==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">          class.b2a(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">1</span> <span class="keyword">and</span> tag==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">          class.b2b(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">0</span> <span class="keyword">and</span> tag==<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">          class.a2c(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">2</span> <span class="keyword">and</span> tag==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">          class.c2a(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">2</span> <span class="keyword">and</span> tag==<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">          class.c2c(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">1</span> <span class="keyword">and</span> tag==<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">          class.b2c(item)</span><br><span class="line">         <span class="keyword">elseif</span> item.tag==<span class="number">2</span> <span class="keyword">and</span> tag==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">          class.c2b(item)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> i=<span class="number">1</span>,AINDEX <span class="keyword">do</span></span><br><span class="line">    class.addView()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> class</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">B</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> class = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> views = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  class.a2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> item.getWidth() &gt;= views[#views].getWidth() <span class="keyword">then</span></span><br><span class="line">        AQ.a2a(item)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    item.setX((SCREEN_WIDTH-item.getWidth())/<span class="number">2</span>)</span><br><span class="line">    item.setY(SCREEN_HEIGHT-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views+<span class="number">1</span>))</span><br><span class="line">    item.tag = <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.b2a=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">remove</span>(views,<span class="built_in">table</span>.<span class="built_in">find</span>(views,item))</span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.b2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    item.setX((SCREEN_WIDTH-item.getWidth())/<span class="number">2</span>)</span><br><span class="line">    item.setY(SCREEN_HEIGHT-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views))</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.b2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> CQ.b2c(item) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">remove</span>(views,<span class="built_in">table</span>.<span class="built_in">find</span>(views,item))</span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> CQ.win() <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.c2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> item.getWidth() &gt;= views[#views].getWidth() <span class="keyword">then</span></span><br><span class="line">        CQ.c2c(item)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    item.setX((SCREEN_WIDTH-item.getWidth())/<span class="number">2</span>)</span><br><span class="line">    item.setY(SCREEN_HEIGHT-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views+<span class="number">1</span>))</span><br><span class="line">    item.tag = <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> class</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">C</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> class = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> views = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  class.a2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> item.getWidth() &gt;= views[#views].getWidth() <span class="keyword">then</span></span><br><span class="line">        AQ.a2a(item)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    item.setX(((SCREEN_WIDTH*<span class="number">5</span>)/<span class="number">6</span>)-item.getWidth()/<span class="number">2</span>)</span><br><span class="line">    item.setY(SCREEN_HEIGHT-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views+<span class="number">1</span>))</span><br><span class="line">    item.tag = <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line">    <span class="keyword">if</span> class.win() <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  class.c2a=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">remove</span>(views,<span class="built_in">table</span>.<span class="built_in">find</span>(views,item))</span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.c2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    item.setX(((SCREEN_WIDTH*<span class="number">5</span>)/<span class="number">6</span>)-item.getWidth()/<span class="number">2</span>)</span><br><span class="line">    item.setY(SCREEN_HEIGHT-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views))</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.b2c=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> item.getWidth() &gt;= views[#views].getWidth() <span class="keyword">then</span></span><br><span class="line">        BQ.b2b(item)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    item.setX(((SCREEN_WIDTH*<span class="number">5</span>)/<span class="number">6</span>)-item.getWidth()/<span class="number">2</span>)</span><br><span class="line">    item.setY(SCREEN_HEIGHT-dp2px(<span class="string">&quot;40dp&quot;</span>)*(#views+<span class="number">1</span>))</span><br><span class="line">    item.tag = <span class="number">2</span></span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(views,item)</span><br><span class="line">    <span class="keyword">if</span> class.win() <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.c2b=<span class="function"><span class="keyword">function</span><span class="params">(item)</span></span></span><br><span class="line">    <span class="keyword">if</span> BQ.c2b(item) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">remove</span>(views,<span class="built_in">table</span>.<span class="built_in">find</span>(views,item))</span><br><span class="line">    <span class="keyword">if</span> #views~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      views[#views].Text=<span class="string">&quot;first&quot;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  class.win=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> #views==AQ.AINDEX <span class="keyword">then</span></span><br><span class="line"></span><br><span class="line">      dialog=AlertDialog.Builder(this)</span><br><span class="line">      .setTitle(<span class="string">&quot;Win&quot;</span>)</span><br><span class="line">      .setMessage(<span class="string">&quot;ä½ èµ¢äº†&quot;</span>)</span><br><span class="line">      .setPositiveButton(<span class="string">&quot;ä¸‹ä¸€å…³&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">          activity.finish()</span><br><span class="line">          activity.newActivity(<span class="string">&quot;main&quot;</span>,&#123;AINDEX+<span class="number">1</span>&#125;)</span><br><span class="line">          activity.overridePendingTransition(android.R.anim.fade_in,android.R.anim.fade_out)</span><br><span class="line">        <span class="keyword">end</span>&#125;)</span><br><span class="line">      .setNeutralButton(<span class="string">&quot;é€€å‡ºæ¸¸æˆ&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">          activity.finish()</span><br><span class="line">        <span class="keyword">end</span>&#125;)</span><br><span class="line">      .setNegativeButton(<span class="string">&quot;é‡ç©&quot;</span>,&#123;</span><br><span class="line">        onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">          activity.finish()</span><br><span class="line">          activity.newActivity(<span class="string">&quot;main&quot;</span>,&#123;AINDEX&#125;)</span><br><span class="line">          activity.overridePendingTransition(android.R.anim.fade_in,android.R.anim.fade_out)</span><br><span class="line">        <span class="keyword">end</span>&#125;)</span><br><span class="line">      .show()</span><br><span class="line">      dialog.setCanceledOnTouchOutside(<span class="literal">false</span>);</span><br><span class="line">      dialog.<span class="built_in">create</span>()</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> class</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">AQ = A(AINDEX)</span><br><span class="line">BQ = B()</span><br><span class="line">CQ = C()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mFrameLayout.addView(loadlayout(&#123;</span><br><span class="line">  Button,</span><br><span class="line">  text=<span class="string">&quot;ä¸‹ä¸€å…³&quot;</span>,</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    activity.finish()</span><br><span class="line">    activity.newActivity(<span class="string">&quot;main&quot;</span>,&#123;AINDEX+<span class="number">1</span>&#125;)</span><br><span class="line">    activity.overridePendingTransition(android.R.anim.fade_in,android.R.anim.fade_out)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mFrameLayout.addView(loadlayout(&#123;</span><br><span class="line">  Button,</span><br><span class="line">  text=<span class="string">&quot;æ¸¸æˆè§„åˆ™&quot;</span>,</span><br><span class="line">  x=<span class="string">&quot;100dp&quot;</span>,</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    dialog=AlertDialog.Builder(this)</span><br><span class="line">    .setTitle(<span class="string">&quot;æ¸¸æˆè§„åˆ™&quot;</span>)</span><br><span class="line">    .setMessage(<span class="string">[[ä½ è¦å°†æ‰€æœ‰çš„ç›’å­ä»TOWER 1ç§»åŠ¨åˆ°TOWER 3,ä½ æ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›’å­ã€‚æ¸¸æˆæœ€é‡è¦çš„è§„åˆ™æ˜¯å¤§çš„ç›’å­ä¸èƒ½æ”¾åœ¨å°çš„ç›’å­ä¸Šé¢]]</span>)</span><br><span class="line">    .setPositiveButton(<span class="string">&quot;ç¡®å®š&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">    .show()</span><br><span class="line">    dialog.setCanceledOnTouchOutside(<span class="literal">false</span>)</span><br><span class="line">    dialog.<span class="built_in">create</span>()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">ã€‹ã€‹</span><br><span class="line">ã€Šã€Šè§†åŠ›æ¸¸æˆã€‹ã€‹</span><br><span class="line">ã€Šã€Š<span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    TextView,</span><br><span class="line">    text=<span class="string">&quot;æ¬¢è¿ä½¿ç”¨ã€‚&quot;</span>,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">aa=&#123;</span><br><span class="line"></span><br><span class="line">  GridLayout;</span><br><span class="line">  layout_width=<span class="string">&quot;wrap&quot;</span>;</span><br><span class="line">  layout_height=<span class="string">&quot;wrap&quot;</span>;  </span><br><span class="line">  columnCount=<span class="string">&quot;6&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">vv</span><span class="params">(a)</span></span></span><br><span class="line">  i= &#123;</span><br><span class="line">    Button;</span><br><span class="line">    background=<span class="string">&quot;#FFFFFFFF&quot;</span>;</span><br><span class="line">    id=a;</span><br><span class="line">    layout_width=<span class="string">&quot;16%w&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;50dp&quot;</span>;</span><br><span class="line">    layout_margin=<span class="string">&quot;3&quot;</span>;</span><br><span class="line">    textSize=<span class="string">&quot;12sp&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="built_in">table</span>.<span class="built_in">insert</span>(aa,i)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">42</span>,<span class="number">1</span> <span class="keyword">do</span></span><br><span class="line">  vv(<span class="string">&quot;ee&quot;</span>..i)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(aa))</span><br><span class="line">idd=&#123;ee1,ee2,ee3,ee4,ee5,ee6,</span><br><span class="line">  ee7,ee8,ee9,ee10,ee11,ee12,</span><br><span class="line">  ee13,ee14,ee15,ee16,ee17,ee18,</span><br><span class="line">  ee19,ee20,ee21,ee22,ee23,ee24,</span><br><span class="line">  ee25,ee26,ee27,ee28,ee29,ee30,</span><br><span class="line">  ee31,ee32,ee33,ee34,ee35,ee36&#125;</span><br><span class="line">ff=<span class="number">0</span></span><br><span class="line">bo=<span class="literal">true</span></span><br><span class="line">æ­£ç¡®=<span class="number">0</span></span><br><span class="line">é”™è¯¯=<span class="number">0</span></span><br><span class="line">æç¤º=<span class="number">5</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> éšæœºé¢œè‰²<span class="params">()</span></span></span><br><span class="line">  f1=Integer.toHexString(<span class="number">155</span>+æ­£ç¡®)</span><br><span class="line">  f2=Integer.toHexString(<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">22</span>,<span class="number">255</span>))</span><br><span class="line">  f3=Integer.toHexString(<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">22</span>,<span class="number">255</span>))</span><br><span class="line">  f4=Integer.toHexString(<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">22</span>,<span class="number">255</span>))</span><br><span class="line">  f5=<span class="string">&quot;ff&quot;</span>..f2..f3..f4</span><br><span class="line">  f6=f1..f2..f3..f4</span><br><span class="line">  <span class="keyword">for</span> i=<span class="number">1</span>,#idd <span class="keyword">do</span></span><br><span class="line">    idd[i].BackgroundColor=<span class="built_in">tonumber</span>(f5,<span class="number">16</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  ff=<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">1</span>,<span class="number">36</span>)</span><br><span class="line">  idd[ff].BackgroundColor=<span class="built_in">tonumber</span>(f6,<span class="number">16</span>)</span><br><span class="line">  <span class="keyword">return</span> ff</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">æ—¶é—´=<span class="number">0</span></span><br><span class="line">ti=Ticker()</span><br><span class="line">ti.Period=<span class="number">1000</span></span><br><span class="line">ti.onTick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  æ—¶é—´=æ—¶é—´+<span class="number">1</span></span><br><span class="line">  ee40.setText(<span class="string">&quot;æ—¶é—´n&quot;</span>..æ—¶é—´)</span><br><span class="line">  <span class="keyword">if</span> æ—¶é—´==<span class="number">100</span> <span class="keyword">then</span></span><br><span class="line">    ti.stop()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å·²ç»“æŸ&quot;</span>)</span><br><span class="line">    ee42.setText(<span class="string">&quot;è¯„åˆ†n&quot;</span>..æ­£ç¡®-é”™è¯¯+(æç¤º<span class="number">-5</span>))</span><br><span class="line">    ee39.setClickable(<span class="literal">false</span>)</span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">36</span> <span class="keyword">do</span></span><br><span class="line">      idd[<span class="number">1</span>].setClickable(<span class="literal">false</span>)</span><br><span class="line">      idd[i].BackgroundColor=<span class="number">0xFFFFFFFF</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">ti.start()</span><br><span class="line">éšæœºé¢œè‰²()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,#idd <span class="keyword">do</span></span><br><span class="line">  idd[i].onClick=<span class="function"><span class="keyword">function</span><span class="params">(x)</span></span></span><br><span class="line">    s=<span class="built_in">tostring</span>(x)</span><br><span class="line">    s= s:<span class="built_in">sub</span>(#s<span class="number">-2</span>,#s<span class="number">-1</span>)</span><br><span class="line">    s=<span class="built_in">tonumber</span>(s,<span class="number">16</span>)+<span class="number">1</span></span><br><span class="line">    idd[i].setText(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> s==ff <span class="keyword">then</span></span><br><span class="line">      éšæœºé¢œè‰²()</span><br><span class="line">      æ­£ç¡®=æ­£ç¡®+<span class="number">1</span></span><br><span class="line">      ee42.setText(<span class="string">&quot;è¯„åˆ†n&quot;</span>..æ­£ç¡®-é”™è¯¯+(æç¤º<span class="number">-5</span>))</span><br><span class="line">      ee37.setText(<span class="string">&quot;æ­£ç¡®&quot;</span>..<span class="built_in">tostring</span>(æ­£ç¡®))</span><br><span class="line">      bo=<span class="literal">true</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      é”™è¯¯=é”™è¯¯+<span class="number">1</span></span><br><span class="line">      ee42.setText(<span class="string">&quot;è¯„åˆ†n&quot;</span>..æ­£ç¡®-é”™è¯¯+(æç¤º<span class="number">-5</span>))</span><br><span class="line">      ee38.setText(<span class="string">&quot;é”™è¯¯n&quot;</span>..é”™è¯¯)</span><br><span class="line">      <span class="keyword">if</span> é”™è¯¯==<span class="number">5</span> <span class="keyword">then</span></span><br><span class="line">        ti.stop()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å·²ç»“æŸ&quot;</span>)</span><br><span class="line">        ee42.setText(<span class="string">&quot;è¯„åˆ†n&quot;</span>..æ­£ç¡®-é”™è¯¯+(æç¤º<span class="number">-5</span>))</span><br><span class="line">        ee39.setClickable(<span class="literal">false</span>)</span><br><span class="line">        <span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">36</span> <span class="keyword">do</span></span><br><span class="line">          idd[i].setClickable(<span class="literal">false</span>)</span><br><span class="line">          idd[i].BackgroundColor=<span class="number">0xFFFFFFFF</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">ee37.setText(<span class="string">&quot;æ­£ç¡®n&quot;</span>..æ­£ç¡®)</span><br><span class="line">ee38.setText(<span class="string">&quot;é”™è¯¯n&quot;</span>..é”™è¯¯)</span><br><span class="line">ee39.setText(<span class="string">&quot;æç¤ºn&quot;</span>..æç¤º)</span><br><span class="line">ee40.setText(<span class="string">&quot;æ—¶é—´n&quot;</span>..æ—¶é—´)</span><br><span class="line">ee41.setText(<span class="string">&quot;é‡æ–°n&quot;</span>..<span class="string">&quot;å¼€å§‹&quot;</span>)</span><br><span class="line">ee42.setText(<span class="string">&quot;è¯„åˆ†n&quot;</span>..<span class="string">&quot;0&quot;</span>)</span><br><span class="line"></span><br><span class="line">ee39.onClick=<span class="function"><span class="keyword">function</span><span class="params">(x)</span></span></span><br><span class="line">  <span class="keyword">if</span> bo <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> æç¤º&gt;<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">      æç¤º=æç¤º<span class="number">-1</span></span><br><span class="line">      idd[ff].setText(<span class="string">&quot;^_^&quot;</span>)</span><br><span class="line">      ee42.setText(<span class="string">&quot;è¯„åˆ†n&quot;</span>..æ­£ç¡®-é”™è¯¯+(æç¤º<span class="number">-5</span>))</span><br><span class="line">      ee39.setText(<span class="string">&quot;æç¤ºn&quot;</span>..æç¤º)</span><br><span class="line">      bo=<span class="literal">false</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;æç¤ºæ¬¡æ•°å·²ç”¨å®Œ&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å·²æç¤º,è¯·æ“ä½œ&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">ee41.onClick=<span class="function"><span class="keyword">function</span><span class="params">(x)</span></span></span><br><span class="line">  activity.recreate()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line">  ti.stop()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å†™ä»£ç æ—¶é—´è¿‡é•¿æ˜“å¼•èµ·çœ¼ç–²åŠ³</span></span><br><span class="line"><span class="comment">--æ„æ€ä»£ç æ—¶é—´è¿‡é•¿æ˜“æ‰å¤´å‘</span></span><br><span class="line"><span class="comment">--æ³¨æ„åŠ³é€¸ç»“åˆ</span></span><br><span class="line"><span class="comment">--äºŒå“ˆ+</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç†çº¿æ¸¸æˆ</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E7%90%86%E7%BA%BF%E6%B8%B8%E6%88%8F-2021-11-07-17-56-32/</url>
    <content><![CDATA[<h1>ç†çº¿æ¸¸æˆ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">import <span class="string">&quot;com.androlua.LuaDrawable&quot;</span></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">  gravity=<span class="string">&quot;center&quot;</span>,</span><br><span class="line">  layout_width=<span class="number">-1</span>,</span><br><span class="line">  layout_height=<span class="number">-1</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    TextView,</span><br><span class="line">    text=<span class="string">&quot;ç†çº¿&quot;</span>,</span><br><span class="line">    textSize=<span class="number">20</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    TextView,</span><br><span class="line">    text=<span class="string">&quot;æ¸¸æˆç›®æ ‡ï¼šç§»åŠ¨ç«¯ç‚¹ï¼Œä½¿æ‰€æœ‰çš„çº¿æ¡äº’ä¸ç›¸äº¤ã€‚&quot;</span>,</span><br><span class="line">    textSize=<span class="number">13</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    FrameLayout,</span><br><span class="line">    id=<span class="string">&quot;å±&quot;</span>,</span><br><span class="line">    layout_width=activity.getWidth(),</span><br><span class="line">    layout_height=activity.getWidth(),</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">));</span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">ä½œè€…Rzin</span></span><br><span class="line"><span class="comment">æ²¡å•¥æƒ³è¯´çš„ã€‚</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç«¯ç‚¹å°ºå¯¸=<span class="number">10</span>;<span class="comment">--æ˜¾ç¤ºå°ºå¯¸ï¼Œéè§¦æ‘¸å°ºå¯¸</span></span><br><span class="line">ç«¯ç‚¹é¢œè‰²=<span class="number">0xffaa1144</span>;</span><br><span class="line">çº¿æ¡å®½åº¦=<span class="number">2</span>;</span><br><span class="line">çº¿æ¡é¢œè‰²=<span class="number">0xff4411aa</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> ç«¯ç‚¹=&#123;</span><br><span class="line">  <span class="comment">--å„ç«¯ç‚¹çš„åæ ‡ã€‚</span></span><br><span class="line">  &#123;<span class="number">250</span>,<span class="number">250</span>&#125;,</span><br><span class="line">  &#123;<span class="number">500</span>,<span class="number">500</span>&#125;,</span><br><span class="line">  &#123;<span class="number">300</span>,<span class="number">300</span>&#125;,</span><br><span class="line">  &#123;<span class="number">450</span>,<span class="number">450</span>&#125;,</span><br><span class="line">  &#123;<span class="number">200</span>,<span class="number">400</span>&#125;,</span><br><span class="line">  &#123;<span class="number">100</span>,<span class="number">600</span>&#125;,</span><br><span class="line">  &#123;<span class="number">350</span>,<span class="number">470</span>&#125;,</span><br><span class="line">  &#123;<span class="number">600</span>,<span class="number">180</span>&#125;,</span><br><span class="line">  &#123;<span class="number">350</span>,<span class="number">200</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> çº¿æ¡=&#123;</span><br><span class="line">  <span class="comment">--å„çº¿æ¡çš„ç«¯ç‚¹åºå·ã€‚</span></span><br><span class="line">  &#123;<span class="number">1</span>,<span class="number">3</span>&#125;,</span><br><span class="line">  &#123;<span class="number">2</span>,<span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="number">3</span>,<span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="number">6</span>,<span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="number">2</span>,<span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="number">6</span>,<span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="number">7</span>,<span class="number">1</span>&#125;,</span><br><span class="line">  &#123;<span class="number">6</span>,<span class="number">7</span>&#125;,</span><br><span class="line">  &#123;<span class="number">1</span>,<span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="number">6</span>,<span class="number">8</span>&#125;,</span><br><span class="line">  &#123;<span class="number">2</span>,<span class="number">8</span>&#125;,</span><br><span class="line">  &#123;<span class="number">9</span>,<span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="number">3</span>,<span class="number">2</span>&#125;,</span><br><span class="line">  &#123;<span class="number">9</span>,<span class="number">1</span>&#125;,</span><br><span class="line">  &#123;<span class="number">7</span>,<span class="number">4</span>&#125;,</span><br><span class="line">  &#123;<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ·æ–°å±<span class="params">(p0,p1,p2,p3)</span></span></span><br><span class="line">  <span class="comment">--å‚ï¼šç«¯ç‚¹å°ºå¯¸ï¼Œç«¯ç‚¹é¢œè‰²ï¼Œçº¿æ¡å®½åº¦ï¼Œçº¿æ¡é¢œè‰²ã€‚</span></span><br><span class="line">  å±.setBackground(</span><br><span class="line">  LuaDrawable(</span><br><span class="line">  <span class="function"><span class="keyword">function</span><span class="params">(v0)</span></span></span><br><span class="line">    <span class="keyword">local</span> v1=Paint();<span class="comment">--ç«¯ç‚¹ç”»ç¬”</span></span><br><span class="line">    v1.setColor(p1);</span><br><span class="line">    v1.setStrokeWidth(<span class="number">1</span>);</span><br><span class="line">    v1.setStyle(Paint.Style.FILL);</span><br><span class="line">    v1.setAntiAlias(<span class="literal">true</span>);</span><br><span class="line">    v1.setDither(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">local</span> v2=Paint();<span class="comment">--çº¿æ¡ç”»ç¬”</span></span><br><span class="line">    v2.setColor(p3);</span><br><span class="line">    v2.setStrokeWidth(p2);</span><br><span class="line">    v2.setStyle(Paint.Style.STROKE);</span><br><span class="line">    v2.setAntiAlias(<span class="literal">true</span>);</span><br><span class="line">    v2.setDither(<span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>,#çº¿æ¡,<span class="number">1</span> <span class="keyword">do</span><span class="comment">--ç”»çº¿æ¡</span></span><br><span class="line">      v0.drawLine(</span><br><span class="line">      ç«¯ç‚¹[çº¿æ¡[i][<span class="number">1</span>]][<span class="number">1</span>],ç«¯ç‚¹[çº¿æ¡[i][<span class="number">1</span>]][<span class="number">2</span>],</span><br><span class="line">      ç«¯ç‚¹[çº¿æ¡[i][<span class="number">2</span>]][<span class="number">1</span>],ç«¯ç‚¹[çº¿æ¡[i][<span class="number">2</span>]][<span class="number">2</span>],</span><br><span class="line">      v2);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>,#ç«¯ç‚¹,<span class="number">1</span> <span class="keyword">do</span><span class="comment">--ç”»ç«¯ç‚¹</span></span><br><span class="line">      v0.drawCircle(</span><br><span class="line">      ç«¯ç‚¹[i][<span class="number">1</span>],ç«¯ç‚¹[i][<span class="number">2</span>],</span><br><span class="line">      p0,v1);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  ));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> åˆ¤æ–­ç›¸äº¤<span class="params">()</span></span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> å‘é‡å‰ä¹˜<span class="params">(p0,p1,p2)</span></span></span><br><span class="line">    <span class="keyword">return</span> (p1[<span class="number">1</span>]-p0[<span class="number">1</span>])*(p2[<span class="number">2</span>]-p0[<span class="number">2</span>])-(p1[<span class="number">2</span>]-p0[<span class="number">2</span>])*(p2[<span class="number">1</span>]-p0[<span class="number">1</span>]);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> åˆ¤æ–­<span class="params">(p0,p1)</span></span></span><br><span class="line">    <span class="keyword">local</span> A=&#123;ç«¯ç‚¹[çº¿æ¡[p0][<span class="number">1</span>]][<span class="number">1</span>],ç«¯ç‚¹[çº¿æ¡[p0][<span class="number">1</span>]][<span class="number">2</span>]&#125;;</span><br><span class="line">    <span class="keyword">local</span> B=&#123;ç«¯ç‚¹[çº¿æ¡[p0][<span class="number">2</span>]][<span class="number">1</span>],ç«¯ç‚¹[çº¿æ¡[p0][<span class="number">2</span>]][<span class="number">2</span>]&#125;;</span><br><span class="line">    <span class="keyword">local</span> C=&#123;ç«¯ç‚¹[çº¿æ¡[p1][<span class="number">1</span>]][<span class="number">1</span>],ç«¯ç‚¹[çº¿æ¡[p1][<span class="number">1</span>]][<span class="number">2</span>]&#125;;</span><br><span class="line">    <span class="keyword">local</span> D=&#123;ç«¯ç‚¹[çº¿æ¡[p1][<span class="number">2</span>]][<span class="number">1</span>],ç«¯ç‚¹[çº¿æ¡[p1][<span class="number">2</span>]][<span class="number">2</span>]&#125;;</span><br><span class="line">    <span class="keyword">if</span>(å‘é‡å‰ä¹˜(A,B,C)*å‘é‡å‰ä¹˜(A,B,D)&lt;=<span class="number">0</span></span><br><span class="line">     &amp;&amp;å‘é‡å‰ä¹˜(C,D,A)*å‘é‡å‰ä¹˜(C,D,B)&lt;=<span class="number">0</span></span><br><span class="line">     &amp;&amp;å‘é‡å‰ä¹˜(A,B,C)*å‘é‡å‰ä¹˜(A,B,D)+</span><br><span class="line">       å‘é‡å‰ä¹˜(C,D,A)*å‘é‡å‰ä¹˜(C,D,B)~=<span class="number">0</span>)<span class="keyword">then</span></span><br><span class="line">      <span class="comment">--ç›®å‰å­˜åœ¨çš„bugï¼šæ— æ³•è¯†åˆ«é‡åˆçš„çº¿æ¡ï¼Œå°†è§†ä¸ºä¸ç›¸äº¤ã€‚</span></span><br><span class="line">      <span class="comment">--å…¶å®æ˜¯å› ä¸ºæˆ‘æ‡’çš„å¼„äº†ï¼Œä¹Ÿæ˜¯æœ‰åŠæ³•è§£å†³çš„ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">for</span> i=<span class="number">1</span>,#çº¿æ¡,<span class="number">1</span> <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">for</span> j=i+<span class="number">1</span>,#çº¿æ¡,<span class="number">1</span> <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span>(åˆ¤æ–­(i,j))<span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">é€‰ä¸­ç«¯ç‚¹=<span class="number">0</span>;</span><br><span class="line">å±.onTouch=<span class="function"><span class="keyword">function</span><span class="params">(p0,p1)</span></span></span><br><span class="line">  <span class="keyword">local</span> v0=p1.getAction()&amp;<span class="number">255</span>;</span><br><span class="line">  <span class="keyword">if</span>(v0==<span class="number">0</span>)<span class="keyword">then</span><span class="comment">--åˆ¤æ–­é€‰ä¸­çš„ç«¯ç‚¹</span></span><br><span class="line">    <span class="keyword">local</span> x=p1.getX();</span><br><span class="line">    <span class="keyword">local</span> y=p1.getY();</span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>,#ç«¯ç‚¹,<span class="number">1</span> <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span>(ç«¯ç‚¹[i][<span class="number">1</span>]<span class="number">-21</span>&lt;x&amp;&amp;x&lt;ç«¯ç‚¹[i][<span class="number">1</span>]+<span class="number">21</span></span><br><span class="line">        &amp;&amp;ç«¯ç‚¹[i][<span class="number">2</span>]<span class="number">-21</span>&lt;y&amp;&amp;y&lt;ç«¯ç‚¹[i][<span class="number">2</span>]+<span class="number">21</span>)<span class="keyword">then</span></span><br><span class="line">        é€‰ä¸­ç«¯ç‚¹=i;</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">elseif</span>(v0==<span class="number">2</span>&amp;&amp;é€‰ä¸­ç«¯ç‚¹&gt;<span class="number">0</span>)<span class="comment">--ç§»åŠ¨ç«¯ç‚¹</span></span><br><span class="line">    ç«¯ç‚¹[é€‰ä¸­ç«¯ç‚¹][<span class="number">1</span>]=p1.getX();</span><br><span class="line">    ç«¯ç‚¹[é€‰ä¸­ç«¯ç‚¹][<span class="number">2</span>]=p1.getY();</span><br><span class="line">    åˆ·æ–°å±(ç«¯ç‚¹å°ºå¯¸,ç«¯ç‚¹é¢œè‰²,çº¿æ¡å®½åº¦,çº¿æ¡é¢œè‰²);</span><br><span class="line">   <span class="keyword">elseif</span>(v0==<span class="number">1</span>&amp;&amp;é€‰ä¸­ç«¯ç‚¹&gt;<span class="number">0</span>)<span class="comment">--ç§»åŠ¨ç»“æŸåˆ¤æ–­è¾“èµ¢</span></span><br><span class="line">    <span class="keyword">if</span>(!åˆ¤æ–­ç›¸äº¤())<span class="keyword">then</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;æˆåŠŸç†æ¸…æ‰€æœ‰çº¿æ¡ã€‚&quot;</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    é€‰ä¸­ç«¯ç‚¹=<span class="number">0</span>;</span><br><span class="line">    åˆ·æ–°å±(ç«¯ç‚¹å°ºå¯¸,ç«¯ç‚¹é¢œè‰²,çº¿æ¡å®½åº¦,çº¿æ¡é¢œè‰²);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åˆ·æ–°å±(ç«¯ç‚¹å°ºå¯¸,ç«¯ç‚¹é¢œè‰²,çº¿æ¡å®½åº¦,çº¿æ¡é¢œè‰²);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç”¨å…¶ä»–åº”ç”¨æ‰“å¼€ï¼ˆè‡ªå»ºå¯¹è¯æ¡†å¸ƒå±€)</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E7%94%A8%E5%85%B6%E4%BB%96%E5%BA%94%E7%94%A8%E6%89%93%E5%BC%80%EF%BC%88%E8%87%AA%E5%BB%BA%E5%AF%B9%E8%AF%9D%E6%A1%86%E5%B8%83%E5%B1%80)-2021-11-07-17-45-04/</url>
    <content><![CDATA[<h1>ç”¨å…¶ä»–åº”ç”¨æ‰“å¼€ï¼ˆè‡ªå»ºå¯¹è¯æ¡†å¸ƒå±€)</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  &#123;Button,text=<span class="string">&quot;åˆ†äº«æ–‡å­—&quot;</span>,id=<span class="string">&quot;bt1&quot;</span>;&#125;;</span><br><span class="line">  &#123;Button,text=<span class="string">&quot;åˆ†äº«æ–‡ä»¶&quot;</span>;id=<span class="string">&quot;bt2&quot;</span>;&#125;;</span><br><span class="line">  &#123;Button,text=<span class="string">&quot;æ‰“å¼€é“¾æ¥&quot;</span>;id=<span class="string">&quot;bt3&quot;</span>;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activity.setTheme(R.LuaGo)</span><br><span class="line">activity.setTitle(<span class="string">&quot;ç”¨å…¶ä»–åº”ç”¨æ‰“å¼€ï¼ˆè‡ªå»ºå¯¹è¯æ¡†å¸ƒå±€ï¼‰&quot;</span>)</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bt1.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--æ„å›¾1ï¼ˆåˆ†äº«æ–‡æœ¬ï¼‰</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  intent1= Intent(Intent.ACTION_SEND)</span><br><span class="line">  intent1.setType(<span class="string">&quot;text/plain&quot;</span>)</span><br><span class="line">  intent1.putExtra(Intent.EXTRA_SUBJECT,<span class="string">&quot;æµ‹è¯•&quot;</span>)</span><br><span class="line">  intent1.putExtra(Intent.EXTRA_TEXT, <span class="string">&quot;æµ‹è¯•&quot;</span>)</span><br><span class="line">  openIntent(intent1)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">bt2.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--æ„å›¾2ï¼ˆæ‰“å¼€æ–‡ä»¶ï¼‰</span></span><br><span class="line">  import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.FileProvider&quot;</span></span><br><span class="line">  <span class="built_in">path</span>=activity.getLuaDir()..<span class="string">&quot;/res/path.txt&quot;</span></span><br><span class="line">  FileName=<span class="built_in">tostring</span>(File(<span class="built_in">path</span>).Name)</span><br><span class="line">  ExtensionName=FileName:<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  <span class="keyword">if</span> Mime <span class="keyword">then</span></span><br><span class="line">    intent2 = Intent()</span><br><span class="line">    intent2.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">    intent2.setAction(Intent.ACTION_VIEW);</span><br><span class="line">    <span class="comment">--  intent2.setDataAndType(Uri.fromFile(File(path)), Mime);</span></span><br><span class="line">    intent2.setDataAndType(FileProvider.getUriForFile(this,this.getPackageName(),File(<span class="built_in">path</span>)),Mime)</span><br><span class="line">    intent2.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);<span class="comment">--å…è®¸ä¸´æ—¶çš„è¯»</span></span><br><span class="line">    intent2.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION|Intent.FLAG_GRANT_WRITE_URI_PERMISSION);<span class="comment">--å…è®¸ä¸´æ—¶çš„è¯»å’Œå†™</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ²¡æœ‰åˆé€‚çš„åº”ç”¨æ‰“å¼€è¯¥æ–‡ä»¶&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  openIntent(intent2)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bt3.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  url=<span class="string">&quot;http://baidu.com&quot;</span></span><br><span class="line">  intent3 =Intent(Intent.ACTION_VIEW, Uri.parse(url));</span><br><span class="line">  <span class="comment">-- intent3.setClassName(&quot;com.android.browser&quot;, &quot;com.android.browser.BrowserActivity&quot;);</span></span><br><span class="line">  openIntent(intent3)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">openIntent</span><span class="params">(intent)</span></span></span><br><span class="line">  <span class="comment">--æŸ¥è¯¢æ˜¯å¦æœ‰è¯¥Intentçš„Activity</span></span><br><span class="line">  packageManager =this. getPackageManager();</span><br><span class="line">  activities = packageManager.queryIntentActivities(intent, <span class="number">0</span>);</span><br><span class="line">  <span class="comment">--activitiesé‡Œé¢ä¸ä¸ºç©ºå°±æœ‰ï¼Œå¦åˆ™å°±æ²¡æœ‰</span></span><br><span class="line">  <span class="keyword">if</span> activities.size() ==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">    this.startActivity(intent)</span><br><span class="line">   <span class="keyword">elseif</span> activities.size()&gt;<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">    import <span class="string">&quot;android.content.ComponentName&quot;</span></span><br><span class="line">    import <span class="string">&quot;com.androlua.LuaAdapter&quot;</span></span><br><span class="line">    dialog=AlertDialog.Builder(this)</span><br><span class="line">    .setView(loadlayout&#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      Orientation=<span class="string">&#x27;vertical&#x27;</span>;</span><br><span class="line">      layout_width=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">      layout_height=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">      background=<span class="string">&#x27;#ffffff&#x27;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        GridView;</span><br><span class="line">        numColumns=<span class="number">3</span>;</span><br><span class="line">        layout_width=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">        layout_height=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">        id=<span class="string">&quot;list&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)</span><br><span class="line">    .setTitle(<span class="string">&quot;é€‰æ‹©åº”ç”¨&quot;</span>)</span><br><span class="line">    .show()</span><br><span class="line">    item=&#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      Orientation=<span class="string">&#x27;vertical&#x27;</span>;</span><br><span class="line">      layout_width=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">      layout_height=<span class="string">&#x27;wrap&#x27;</span>;</span><br><span class="line">      gravity=<span class="string">&#x27;center&#x27;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        ImageView;</span><br><span class="line">        layout_width=<span class="string">&#x27;8%w&#x27;</span>;</span><br><span class="line">        layout_height=<span class="string">&#x27;8%w&#x27;</span>;</span><br><span class="line">        layout_margin=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;icon&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        TextView;</span><br><span class="line">        layout_width=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">        layout_height=<span class="string">&#x27;wrap&#x27;</span>;</span><br><span class="line">        gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;name&quot;</span>;</span><br><span class="line">        layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        TextView;</span><br><span class="line">        layout_width=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        layout_height=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;pkgname&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        TextView;</span><br><span class="line">        layout_width=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        layout_height=<span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;actname&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    data=&#123;&#125;</span><br><span class="line">    adp=LuaAdapter(this,data,item)</span><br><span class="line">    list.setAdapter(adp)</span><br><span class="line">    list.onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(l,v,o,n)</span></span></span><br><span class="line">      intent.setComponent(ComponentName(v.Tag.pkgname.text,v.Tag.actname.text));</span><br><span class="line">      this.startActivity(intent)</span><br><span class="line">      dialog.dismiss()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">0</span>,activities.size()<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">      info=activities.get(i)</span><br><span class="line">      adp.add(&#123;pkgname=info.activityInfo.packageName,</span><br><span class="line">        actname=info.activityInfo.name,</span><br><span class="line">        name=info.loadLabel(packageManager),</span><br><span class="line">        icon=info.loadIcon(packageManager)&#125;)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ²¡æœ‰åˆé€‚çš„åº”ç”¨æ‰“å¼€è¯¥å†…å®¹&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç­¾åéªŒè¯</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E7%AD%BE%E5%90%8D%E9%AA%8C%E8%AF%81-2021-11-07-17-47-55/</url>
    <content><![CDATA[<h1>ç­¾åéªŒè¯</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ç­¾åéªŒè¯</span></span><br><span class="line">import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line"><span class="comment">--è·å–åŒ…ç®¡ç†å™¨</span></span><br><span class="line"><span class="keyword">local</span> pm = activity.getPackageManager();</span><br><span class="line"><span class="keyword">local</span> pm=pm.getPackageInfo(activity.getPackageName(),PackageManager.GET_SIGNATURES).signatures[<span class="number">0</span>].hashCode()</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‹é¢è¿™ä¸€æ®µæ˜¯å°†æ ¡éªŒå†…å®¹å¤åˆ¶åˆ°å‰ªåˆ‡æ¿</span></span><br><span class="line"><span class="comment">--æ‰“åŒ…åè‡ªå·±ç­¾åæ‰“å¼€è½¯ä»¶ä¸€é ä¼šè‡ªåŠ¨å¤åˆ¶åˆ°å‰ªåˆ‡æ¿ ç„¶åå¤åˆ¶åˆ°ä¸‹é¢</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">activity.getSystemService(Context.CLIPBOARD_SERVICE)</span><br><span class="line">.setText(<span class="built_in">tostring</span>(pm))<span class="comment">--è¿™ä¸ªè·å–å®Œåè®°å¾—åˆ æ‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å°†è·å–åˆ°çš„ç²˜è´´éªšè¿™ä¸ªpms=åé¢</span></span><br><span class="line"><span class="comment">--ä¾‹å¦‚pms=-94378134</span></span><br><span class="line">pms=</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> pm~=pms <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span><span class="string">&quot;ä¸é€šè¿‡&quot;</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»Ÿè®¡ä¸€ä¸ªç¨‹åºçš„æ€»è¡Œæ•°</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E7%BB%9F%E8%AE%A1%E4%B8%80%E4%B8%AA%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%80%BB%E8%A1%8C%E6%95%B0-2021-11-07-17-51-59/</url>
    <content><![CDATA[<h1>ç»Ÿè®¡ä¸€ä¸ªç¨‹åºçš„æ€»è¡Œæ•°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">è¡Œ=<span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span><span class="params">(catalog,name)</span></span></span><br><span class="line">  <span class="keyword">local</span> n=<span class="number">0</span></span><br><span class="line">  <span class="keyword">local</span> t=<span class="built_in">os</span>.<span class="built_in">clock</span>()</span><br><span class="line">  <span class="keyword">local</span> ret=&#123;&#125;</span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.lang.String&quot;</span></span><br><span class="line">  è¡Œ=<span class="number">0</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">FindFile</span><span class="params">(catalog,name)</span></span></span><br><span class="line">    <span class="keyword">local</span> name=<span class="built_in">tostring</span>(name)</span><br><span class="line">    <span class="keyword">local</span> ls=catalog.listFiles() <span class="keyword">or</span> File&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> æ¬¡æ•°=<span class="number">0</span>,#ls<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--local ç›®å½•=tostring(ls[æ¬¡æ•°])</span></span><br><span class="line">      <span class="keyword">local</span> f=ls[æ¬¡æ•°]</span><br><span class="line">      <span class="keyword">if</span> f.isDirectory() <span class="keyword">then</span><span class="comment">--å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™ç»§ç»­åŒ¹é…</span></span><br><span class="line">        FindFile(f,name)</span><br><span class="line">       <span class="keyword">else</span><span class="comment">--å¦‚æœæ˜¯æ–‡ä»¶åˆ™</span></span><br><span class="line">        n=n+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">1000</span>==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">          <span class="comment">--print(n,os.clock()-t)</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">local</span> nm=f.Name</span><br><span class="line">        <span class="comment">--xpcall(function()</span></span><br><span class="line">          <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">io</span>.<span class="built_in">lines</span>(<span class="built_in">tostring</span>(f)) <span class="keyword">do</span></span><br><span class="line">            è¡Œ=è¡Œ+<span class="number">1</span></span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">        <span class="comment">--end,function(e) end)</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      luajava.clear(f)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  FindFile(catalog,name)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>,è¡Œ)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line"></span><br><span class="line">catalog=File(<span class="string">&quot;/storage/emulated/0/AndroLua/project/ASDæµè§ˆå™¨/&quot;</span>)</span><br><span class="line"></span><br><span class="line">thread(<span class="built_in">find</span>,catalog,<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>èƒ½åœ¨å­é¡µé¢è°ƒç”¨ä¸»é¡µé¢çš„import</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E8%83%BD%E5%9C%A8%E5%AD%90%E9%A1%B5%E9%9D%A2%E8%B0%83%E7%94%A8%E4%B8%BB%E9%A1%B5%E9%9D%A2%E7%9A%84import-2021-11-07-17-32-00/</url>
    <content><![CDATA[<h1>èƒ½åœ¨å­é¡µé¢è°ƒç”¨ä¸»é¡µé¢çš„import</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">åœ¨å¼€å¤´æ”¾<span class="built_in">package</span>.<span class="built_in">path</span>=<span class="built_in">package</span>.<span class="built_in">path</span>..activity.getLuaPath(<span class="string">&quot;../../?.lua;&quot;</span>)</span><br><span class="line">ç„¶åå°±å¯ä»¥importä¸»é¡µä»£ç äº†</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–ç³»ç»Ÿè¯­è¨€</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E7%B3%BB%E7%BB%9F%E8%AF%AD%E8%A8%80-2021-11-07-17-46-51/</url>
    <content><![CDATA[<h1>è·å–ç³»ç»Ÿè¯­è¨€</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è·å–è¯­è¨€</span></span><br><span class="line">Locale.getDefault().getLanguage()</span><br><span class="line"><span class="comment">--ä¸­æ–‡è¿”å›zh</span></span><br><span class="line"><span class="comment">--è‹±æ–‡è¿”å›en</span></span><br><span class="line"><span class="comment">--æ—¥è¯­è¿”å›ja</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–å›½å®¶</span></span><br><span class="line">Locale.getDefault().getCountry()</span><br><span class="line"><span class="comment">--ä¸­å›½è¿”å›CN</span></span><br><span class="line"><span class="comment">--æ—¥æœ¬è¿”å›JP</span></span><br><span class="line"><span class="comment">--å…¶ä»–ç™¾åº¦è¯­è¨€å’Œå›½å®¶ä»£ç </span></span><br><span class="line"></span><br><span class="line">è¯­è¨€=Locale.getDefault().getLanguage()</span><br><span class="line">å›½å®¶=Locale.getDefault().getCountry()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(è¯­è¨€,å›½å®¶)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è“ç‰™</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E8%93%9D%E7%89%99/</url>
    <content><![CDATA[<h1>è“ç‰™</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.bluetooth.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">import <span class="string">&quot;java.util.UUID&quot;</span></span><br><span class="line">import <span class="string">&quot;java.lang.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è®°å¾—ç»™è“ç‰™æƒé™</span></span><br><span class="line"></span><br><span class="line">layout=&#123;</span><br><span class="line">  main=&#123;</span><br><span class="line">    LinearLayout,</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">      TextView,</span><br><span class="line">      text=<span class="string">&quot;è“ç‰™æ“ä½œç¤ºä¾‹æ•™ç¨‹&quot;</span>,</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua+&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line"><span class="comment">--å¸ƒå±€æ–¹å¼</span></span><br><span class="line">layout=LinearLayout(activity)</span><br><span class="line">layout.Orientation=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">activity.setContentView(layout)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºæ§ä»¶</span></span><br><span class="line">txt=TextView(activity)</span><br><span class="line">bbtxt=TextView(activity)</span><br><span class="line">å–æœ¬åœ°è“ç‰™åœ°å€=TextView(activity)</span><br><span class="line">mac=TextView(activity)</span><br><span class="line">btmsg=TextView(activity)</span><br><span class="line">bn1=Button(activity)</span><br><span class="line">en1=EditText(activity)</span><br><span class="line">btkj=Button(activity)</span><br><span class="line">sao=Button(activity)</span><br><span class="line">fuwuqi=Button(activity)</span><br><span class="line">huo=Button(activity)</span><br><span class="line"></span><br><span class="line">å®¢æˆ·ç«¯è¿æ¥=Button(activity)</span><br><span class="line">en2=EditText(activity)</span><br><span class="line">å‘ä¿¡æ¯=Button(activity)</span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿™ä¸ªä¸è§£é‡Š</span></span><br><span class="line">text=<span class="string">&quot;æ£€æµ‹ä¸­ã€‚ã€‚ã€‚&quot;</span></span><br><span class="line">bnock=<span class="literal">false</span></span><br><span class="line">btzt=<span class="string">&quot;&quot;</span></span><br><span class="line">listbt=&#123;&#125;</span><br><span class="line">sockss=<span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è“ç‰™çŠ¶æ€é“¾è¡¨ï¼Œstatebt()åœ¨è°ƒç”¨</span></span><br><span class="line">zt=&#123;[<span class="string">&quot;10&quot;</span>]=<span class="string">&quot;ã€å·±å¼€å¯ã€‘&quot;</span>,[<span class="string">&quot;11&quot;</span>]=<span class="string">&quot;ã€å¼€å¯ä¸­ã€‘&quot;</span>,[<span class="string">&quot;12&quot;</span>]=<span class="string">&quot;ã€å·±å…³é—­ã€‘&quot;</span>,[<span class="string">&quot;13&quot;</span>]=<span class="string">&quot;ã€å…³é—­ä¸­ã€‘&quot;</span>,[<span class="string">&quot;14&quot;</span>]=<span class="string">&quot;ã€æœªçŸ¥ã€‚ã€‚ã€‘&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–è“ç‰™é€‚é…å™¨</span></span><br><span class="line">bt=BluetoothAdapter.getDefaultAdapter()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ¤æ–­è“ç‰™æ˜¯å¦æ‰“å¼€</span></span><br><span class="line"><span class="keyword">if</span> bt.isEnabled() <span class="keyword">then</span> </span><br><span class="line">  bnock=<span class="literal">true</span></span><br><span class="line">  bn1.setText(<span class="string">&quot;å…³é—­è“ç‰™&quot;</span>)   </span><br><span class="line">  <span class="keyword">else</span> </span><br><span class="line">  bnock=<span class="literal">false</span></span><br><span class="line">  bn1.setText(<span class="string">&quot;å¼€å¯è“ç‰™&quot;</span>)  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰“å¼€è“ç‰™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">openbt</span><span class="params">()</span></span></span><br><span class="line">  bt.enable()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰«æ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">listbt</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­æ˜¯å¦åœ¨æ‰«æä¸­</span></span><br><span class="line">   <span class="keyword">local</span> nn=<span class="built_in">tostring</span>(bt.getBondedDevices())</span><br><span class="line">  <span class="comment">--å¤„ç†åœ°å€  ç‰¹ä¹ˆçš„æ€»æ„Ÿè§‰é‚£ä¸å¯¹ï¼Œæ”¹æˆªå–å­—ç¬¦</span></span><br><span class="line"><span class="comment">--  local tx=string.gsub(nn,&quot;%[&quot;,&quot;&quot;)</span></span><br><span class="line"><span class="comment">--  local ty=string.gsub(tx,&quot;%]&quot;,&quot;&quot;)</span></span><br><span class="line">    <span class="keyword">local</span> ty=<span class="built_in">string</span>.<span class="built_in">sub</span>(nn,<span class="number">2</span>,<span class="number">18</span>)</span><br><span class="line">   <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">len</span>(ty) &gt; <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">     bt.cancelDiscovery()</span><br><span class="line">     bbtxt.setText(<span class="string">&quot;å·±è·å–é…å¯¹æ•°æ®&quot;</span>)</span><br><span class="line">     sao.setText(<span class="string">&quot;å¼€å¯æ‰«æ&quot;</span>)</span><br><span class="line">     en1.setText(ty)</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line">   </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³é—­æ‰«æ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">closesaomiao</span><span class="params">()</span></span></span><br><span class="line">  bt.cancelDiscovery()</span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å…³é—­è“ç‰™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">closebt</span><span class="params">()</span></span></span><br><span class="line">  bt.disable()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿™ä¸ªä¸è§£é‡Šäº†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">msg</span><span class="params">(text)</span></span></span><br><span class="line">  <span class="built_in">print</span>(text)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">statebt</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--è·å–stateçŠ¶æ€ è¿”å›intå€¼</span></span><br><span class="line">  <span class="keyword">local</span> xx=bt.getState()</span><br><span class="line">  <span class="comment">--è¿™é‡Œå¯ä»¥ä¸ç”¨tostring,æ”¹ä¸‹é“¾è¡¨æ—¢å¯</span></span><br><span class="line">  <span class="keyword">local</span> yy=<span class="built_in">tostring</span>(xx)</span><br><span class="line">  <span class="keyword">return</span> zt[yy]</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--çŠ¶æ€æ˜¾ç¤º  12è¡¨ç¤ºæ‰“å¼€çŠ¶å†µ</span></span><br><span class="line">txt.setText(<span class="string">&quot;å½“å‰è“ç‰™çŠ¶æ€:&quot;</span>)</span><br><span class="line"><span class="comment">--bbtxt.setText(statebt())</span></span><br><span class="line"></span><br><span class="line">å–æœ¬åœ°è“ç‰™åœ°å€.setText(<span class="string">&quot;æˆ‘çš„è“ç‰™MACåœ°å€:&quot;</span>..bt.getName())</span><br><span class="line"></span><br><span class="line">mac.setText(bt.getAddress())</span><br><span class="line"></span><br><span class="line">btmsg.setText(<span class="string">&quot;ä¿¡æ¯æ¡†:&quot;</span>)</span><br><span class="line">en1.setText(<span class="string">&quot;\n\tæ­£åœ¨ç­‰å¾…è”æœºã€‚ã€‚\n\t&quot;</span>)</span><br><span class="line"><span class="comment">--ç¼–è¾‘æ¡†ä¸å¯ç¼–è¾‘</span></span><br><span class="line"><span class="comment">--en1.setFocusable(false)</span></span><br><span class="line"></span><br><span class="line">btkj.setText(<span class="string">&quot;ç”³è¯·è“ç‰™è®¾å¤‡å¯è§&quot;</span>)</span><br><span class="line">sao.setText(<span class="string">&quot;è·å–åœ°å€&quot;</span>)</span><br><span class="line">fuwuqi.setText(<span class="string">&quot;å¼€å¯æœåŠ¡å™¨&quot;</span>)</span><br><span class="line">huo.setText(<span class="string">&quot;MACæ˜¯å¦å¯ç”¨&quot;</span>)</span><br><span class="line">å®¢æˆ·ç«¯è¿æ¥.setText(<span class="string">&quot;å®¢æˆ·ç«¯ç›´è¿&quot;</span>)</span><br><span class="line">en2.setText(<span class="string">&quot;è¾“äº†å†…å®¹&quot;</span>)</span><br><span class="line"></span><br><span class="line">å‘ä¿¡æ¯.setText(<span class="string">&quot;å‘é€ä¿¡æ¯&quot;</span>)</span><br><span class="line"></span><br><span class="line">layout.addView(txt)</span><br><span class="line">layout.addView(bbtxt)</span><br><span class="line">layout.addView(å–æœ¬åœ°è“ç‰™åœ°å€)</span><br><span class="line">layout.addView(mac)</span><br><span class="line">layout.addView(bn1)</span><br><span class="line">layout.addView(btmsg)</span><br><span class="line">layout.addView(en1)</span><br><span class="line">layout.addView(btkj)</span><br><span class="line">layout.addView(sao)</span><br><span class="line">layout.addView(fuwuqi)</span><br><span class="line">layout.addView(huo)</span><br><span class="line">layout.addView(å®¢æˆ·ç«¯è¿æ¥)</span><br><span class="line">layout.addView(en2)</span><br><span class="line">layout.addView(å‘ä¿¡æ¯)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bn1.onClick</span><span class="params">()</span></span></span><br><span class="line">  <span class="keyword">if</span> bt.isEnabled() <span class="keyword">then</span></span><br><span class="line">    closebt()</span><br><span class="line">    bn1.setText(<span class="string">&quot;å¼€å¯è“ç‰™&quot;</span>)</span><br><span class="line">    bn1.setTextColor(<span class="number">0xff000000</span>)</span><br><span class="line">    bbtxt.setText(statebt())</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    openbt()</span><br><span class="line">    bn1.setText(<span class="string">&quot;å…³é—­è“ç‰™&quot;</span>)</span><br><span class="line">    bn1.setTextColor(<span class="number">0xffff0000</span>)</span><br><span class="line">    bbtxt.setText(statebt())</span><br><span class="line">    <span class="keyword">end</span> </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">btkj.onClick</span><span class="params">()</span></span></span><br><span class="line">   <span class="keyword">local</span> kj=Intent(bt.ACTION_REQUEST_DISCOVERABLE)</span><br><span class="line">   <span class="comment">--è¯´å¥½çš„ç”³è¯·3600ç§’å‘¢ï¼Ÿç³»ç»Ÿåªç»™120ç§’ï¼fuck !</span></span><br><span class="line">   kj.putExtra(bt.EXTRA_DISCOVERABLE_DURATION,<span class="number">3600</span>)</span><br><span class="line">   activity.startActivity(kj)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sao.onClick</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--è·å–å·±é…å¯¹çš„æ²¡å¤‡åˆ—è¡¨</span></span><br><span class="line">  <span class="keyword">if</span> bt.isDiscovering() <span class="keyword">then</span></span><br><span class="line">    bbtxt.setText(<span class="string">&quot;è“ç‰™æ‰«æå·±å…³é—­ã€‚ã€‚&quot;</span>)</span><br><span class="line">    bt.cancelDiscovery()</span><br><span class="line">    sao.setText(<span class="string">&quot;å…³é—­æ‰«æ&quot;</span>)</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">    bbtxt.setText(<span class="string">&quot;è“ç‰™æ‰«æå·±å¼€å¯ã€‚ã€‚&quot;</span>)</span><br><span class="line">    bt.startDiscovery()</span><br><span class="line">    sao.setText(<span class="string">&quot;å¼€å¯æ‰«æ&quot;</span>)</span><br><span class="line">    listbt() </span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"> <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fuwuqi.onClick</span><span class="params">()</span></span></span><br><span class="line"> <span class="comment">--çº¿ç¨‹è¿ç”¨   </span></span><br><span class="line">  <span class="keyword">if</span> bt.isEnabled() <span class="keyword">then</span></span><br><span class="line">   thread(fuwu,<span class="number">1</span>)  </span><br><span class="line">   <span class="built_in">print</span> <span class="string">&quot;å·±å¼€æœåŠ¡å™¨ï¼Œç­‰å¾…å®¢æˆ·è¿æ¥ï¼&quot;</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   <span class="built_in">print</span><span class="string">&quot;è“ç‰™æœªæ‰“å¼€&quot;</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fuwu</span><span class="params">(txt)</span></span></span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.bluetooth.*&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.util.UUID&quot;</span></span><br><span class="line">  bt=BluetoothAdapter.getDefaultAdapter()</span><br><span class="line">  <span class="keyword">local</span> xt=<span class="string">&quot;fa87c0d0-afac-11de-8a39-0800200c9a66&quot;</span></span><br><span class="line">  <span class="keyword">local</span> xy=<span class="string">&quot;00001101-0000-1000-8000-00805F9B34FB&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> btbt=UUID.fromString(xy)</span><br><span class="line">  </span><br><span class="line">  serverSocket=bt.listenUsingRfcommWithServiceRecord(<span class="string">&quot;çº¢ç±³æ‰‹æœº&quot;</span>,btbt)</span><br><span class="line">  socks=serverSocket.accept()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> socks==<span class="literal">nil</span> <span class="keyword">then</span></span><br><span class="line">     socks.<span class="built_in">close</span>()</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;å·±è¿æ¥ä¸€ä¸ªè®¾å¤‡&quot;</span>)</span><br><span class="line">   sockss=socks</span><br><span class="line">   <span class="built_in">print</span>(socks)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> socks~=<span class="literal">nil</span> <span class="keyword">do</span></span><br><span class="line">  <span class="keyword">if</span> bt.isEnabled() <span class="keyword">then</span></span><br><span class="line">    bttext=socks.getInputStream()</span><br><span class="line">    bs=<span class="built_in">byte</span>[<span class="number">1024</span>]</span><br><span class="line">    data=bttext.<span class="built_in">read</span>(bs)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">tostring</span>(String(bs)))</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span><span class="string">&quot;è“ç‰™æœªæ‰“å¼€æˆ–å·±å…³é—­&quot;</span></span><br><span class="line">  <span class="keyword">end</span>  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--çº¿ç¨‹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">huo.onClick</span><span class="params">()</span></span>  </span><br><span class="line"><span class="keyword">local</span> nnx=<span class="built_in">tostring</span>(bt.getBondedDevices())</span><br><span class="line"><span class="keyword">local</span> tyx=<span class="built_in">string</span>.<span class="built_in">sub</span>(nnx,<span class="number">2</span>,<span class="number">18</span>)</span><br><span class="line"> xxx=bt.checkBluetoothAddress(tyx)</span><br><span class="line"> en1.setText(<span class="built_in">tostring</span>(xxx))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å‘ä¿¡æ¯.<span class="title">onClick</span><span class="params">()</span></span></span><br><span class="line"> </span><br><span class="line">   <span class="built_in">print</span>(sockss)</span><br><span class="line">   </span><br><span class="line">  <span class="comment">-- å†™æ•°æ®=socks.getOutputStream()</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£æUnicodeç </title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E8%A7%A3%E6%9E%90Unicode%E7%A0%81-2021-11-07-17-32-48/</url>
    <content><![CDATA[<h1>è§£æUnicodeç </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">unicode2utf8</span><span class="params">(s)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">loadstring</span>(<span class="string">[[return &quot;]]</span>..s</span><br><span class="line">  :<span class="built_in">gsub</span>(<span class="string">&quot;\\&quot;</span>,<span class="string">&quot;\\\\&quot;</span>)</span><br><span class="line">  :<span class="built_in">gsub</span>(<span class="string">&quot;\\\\u&quot;</span>,<span class="string">&quot;\\u&quot;</span>)</span><br><span class="line">  :<span class="built_in">gsub</span>(<span class="string">&quot;\&quot;&quot;</span>,<span class="string">&quot;\\\&quot;&quot;</span>)..<span class="string">[[&quot;]]</span>)()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è§£æcjson</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E8%A7%A3%E6%9E%90cjson-2021-11-07-17-45-28/</url>
    <content><![CDATA[<h1>è§£æcjson</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¯¼å…¥</span></span><br><span class="line">JSON=import <span class="string">&quot;cjson&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--jsonå­—ç¬¦ä¸²</span></span><br><span class="line">json_str=<span class="string">[==[</span></span><br><span class="line"><span class="string">[</span></span><br><span class="line"><span class="string">    &#123;</span></span><br><span class="line"><span class="string">		&quot;title&quot;: &quot;ç¬¬ä¸€æœ¬ä¹¦&quot;,</span></span><br><span class="line"><span class="string">		&quot;bookId&quot;: &quot;book_1&quot;</span></span><br><span class="line"><span class="string">	&#125;,</span></span><br><span class="line"><span class="string">	&#123;</span></span><br><span class="line"><span class="string">		&quot;title&quot;: &quot;ç¬¬äºŒæœ¬ä¹¦&quot;,</span></span><br><span class="line"><span class="string">		&quot;bookId&quot;: &quot;book_2&quot;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">]</span></span><br><span class="line"><span class="string">]==]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è§£æjson</span></span><br><span class="line">json_o=JSON.decode(json_str)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰“å°table</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dump</span>(json_o))</span><br><span class="line"></span><br><span class="line"><span class="comment">--éå†æ‰“å°table</span></span><br><span class="line"><span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(json_o) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(v.title,v.bookId)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·‘é©¬ç¯æ–‡æœ¬æ§ä»¶</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E8%B7%91%E9%A9%AC%E7%81%AF%E6%96%87%E6%9C%AC%E6%8E%A7%E4%BB%B6-2021-11-07-17-48-24/</url>
    <content><![CDATA[<h1>è·‘é©¬ç¯æ–‡æœ¬æ§ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">è·‘é©¬ç¯æ–‡æœ¬æ§ä»¶å¿…é¡»åŠ å…¥ä»¥ä¸‹å±æ€§æ‰èƒ½ä½¿ç”¨</span><br><span class="line">ellipsize=<span class="string">&quot;marquee&quot;</span>;</span><br><span class="line">focusableInTouchMode=<span class="literal">true</span>;</span><br><span class="line">focusable=<span class="literal">true</span>;</span><br><span class="line">singleLine=<span class="literal">true</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>éå†è®¾ç½®å­—ä½“</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E9%81%8D%E5%8E%86%E8%AE%BE%E7%BD%AE%E5%AD%97%E4%BD%93-2021-11-07-17-47-13/</url>
    <content><![CDATA[<h1>éå†è®¾ç½®å­—ä½“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éå†è®¾ç½®å­—ä½“</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Typeface&quot;</span></span><br><span class="line">font=Typeface.<span class="built_in">create</span>(<span class="string">&quot;å®‹ä½“&quot;</span>,Typeface.BOLD)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setFont</span><span class="params">(view)</span></span></span><br><span class="line">  <span class="keyword">if</span> luajava.instanceof(view,TextView) <span class="keyword">then</span></span><br><span class="line">    view.setTypeface(font)</span><br><span class="line">   <span class="keyword">elseif</span> luajava.instanceof(view,ViewGroup) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">0</span>,view.getChildCount()<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">      setFont(view.getChildAt(i))</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">--æ¥æºï¼šæŸ¯å—</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">setFont(activity.getDecorView())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>é‡åŠ›çƒ</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E9%87%8D%E5%8A%9B%E7%90%83-2021-11-07-17-52-50/</url>
    <content><![CDATA[<h1>é‡åŠ›çƒ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line">import <span class="string">&quot;android.hardware.Sensor&quot;</span></span><br><span class="line">import <span class="string">&quot;android.hardware.SensorEvent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.hardware.SensorEventListener&quot;</span></span><br><span class="line">import <span class="string">&quot;android.hardware.SensorManager&quot;</span></span><br><span class="line"><span class="comment">--å°ç»µç¾Š233 1935528751</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuffColorFilter&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuff&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.ColorDrawable&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--åŸç‰©ç†ä¼ æ„Ÿå™¨æ”¹é€ æˆé‡åŠ›çƒï¼Œå€¾æ–œè§’åº¦è¶Šå¤§ï¼Œå°çƒåŠ é€Ÿåº¦è¶Šå¤§</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--dpè½¬px--</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dp2px</span><span class="params">(dpValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = this.getResources().getDisplayMetrics().density</span><br><span class="line">  <span class="keyword">return</span> (dpValue * scale)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">R=dp2px(<span class="number">30</span>)</span><br><span class="line">W=activity.getWidth()</span><br><span class="line">H=activity.getHeight()</span><br><span class="line">xc=W/<span class="number">2</span>-R<span class="comment">--çƒä½äºä¸­å¿ƒæ—¶å·¦ä¸Šè§’xåæ ‡</span></span><br><span class="line">yc=H/<span class="number">2</span>-R<span class="comment">--çƒä½äºä¸­å¿ƒæ—¶å·¦ä¸Šè§’yåæ ‡</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  id=<span class="string">&quot;nio&quot;</span>;</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    RelativeLayout;</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    background=<span class="string">&quot;#FFFFFF&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">    id=<span class="string">&quot;ht&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      CardElevation=<span class="string">&quot;4dp&quot;</span>;</span><br><span class="line">      radius=<span class="string">&quot;30dp&quot;</span>;</span><br><span class="line">      layout_width=<span class="string">&quot;60dp&quot;</span>;</span><br><span class="line">      background=<span class="string">&quot;#0090ff&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;60dp&quot;</span>;</span><br><span class="line">      layout_marginTop=<span class="string">&quot;90dp&quot;</span>;</span><br><span class="line">      layout_marginLeft=<span class="string">&quot;100dp&quot;</span>;</span><br><span class="line">      id=<span class="string">&quot;ho&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        Button;</span><br><span class="line">        style=<span class="string">&quot;?android:attr/buttonBarButtonStyle&quot;</span>;</span><br><span class="line">        textColor=<span class="string">&quot;#FFFFFF&quot;</span>;</span><br><span class="line">        layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">        text=<span class="string">&quot;+&quot;</span>;</span><br><span class="line">        textSize=<span class="string">&quot;30dp&quot;</span>;</span><br><span class="line">        id=<span class="string">&quot;hy&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      TextView;</span><br><span class="line">      id=<span class="string">&quot;tv&quot;</span>,</span><br><span class="line">      gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">      text=<span class="string">[==[è¿™æ˜¯ä¸€ä¸ªä¼ æ„Ÿå™¨çš„ç‰©ç†æ•ˆæœï¼Œä¸æ˜¯å¾ˆå¥½ï¼Œä½†æ˜¯...]==]</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      TextView;</span><br><span class="line">      layout_marginTop=<span class="string">&quot;100dp&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">vx=<span class="number">0</span></span><br><span class="line">vy=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">ä¼ æ„Ÿå™¨ = activity.getSystemService(Context.SENSOR_SERVICE)</span><br><span class="line"><span class="keyword">local</span> åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨ = ä¼ æ„Ÿå™¨.getDefaultSensor(Sensor.TYPE_ACCELEROMETER)</span><br><span class="line">sensorEventListener=SensorEventListener(&#123;</span><br><span class="line">  onSensorChanged=<span class="function"><span class="keyword">function</span><span class="params">(event)</span></span></span><br><span class="line">    ax = event.values[<span class="number">0</span>]</span><br><span class="line">    ay = event.values[<span class="number">1</span>]</span><br><span class="line">    vx=vx-ax</span><br><span class="line">    vy=vy+ay</span><br><span class="line">    <span class="keyword">if</span> vx&lt;R-W/<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">      ho.setX(<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">elseif</span> vx&gt;W/<span class="number">2</span>-R <span class="keyword">then</span></span><br><span class="line">      ho.setX(W<span class="number">-2</span>*R)</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      ho.setX(xc+vx)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> vy&lt;R-H/<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">      ho.setY(<span class="number">0</span>)</span><br><span class="line">     <span class="keyword">elseif</span> vy&gt;H/<span class="number">2</span>-R <span class="keyword">then</span></span><br><span class="line">      ho.setY(H<span class="number">-2</span>*R)</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      ho.setY(yc+vy)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>,<span class="literal">nil</span></span><br><span class="line">&#125;)</span><br><span class="line">ä¼ æ„Ÿå™¨.registerListener(sensorEventListener, åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨, SensorManager.SENSOR_DELAY_NORMAL)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line">  ä¼ æ„Ÿå™¨.unregisterListener(sensorEventListener)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">ã€‹ã€‹</span><br><span class="line">ã€Šã€Šå…³äºQQDialogã€‹ã€‹</span><br><span class="line">ã€Šã€Š</span><br><span class="line">import <span class="string">&quot;java.lang.Override&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.qq.widget.*&quot;</span></span><br><span class="line"><span class="comment">--QQDialog</span></span><br><span class="line">MyDialog=QQDialog(this);<span class="comment">--è®¾ç½®å¼¹çª—è¿›å‡ºåŠ¨ç”»</span></span><br><span class="line">MyDialog.setViewLine(QQDialog.setLineColor.BLUE);<span class="comment">--è®¾ç½®é¡¶éƒ¨çº¿æ¡é¢œè‰²</span></span><br><span class="line">MyDialog.setTitle(<span class="string">&quot;æ ‡é¢˜&quot;</span>,QQDialog.setColors.DEFAULT);<span class="comment">--è®¾ç½®æ ‡é¢˜æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">MyDialog.setMessage(<span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªæŒ‰é’®çš„å¯¹è¯æ¡†&quot;</span>);<span class="comment">--è®¾ç½®å¼¹çª—å†…å®¹</span></span><br><span class="line">MyDialog.setPositiveButton(<span class="string">&quot;ç¡®å®šæŒ‰é’®&quot;</span>,QQDialog.setColors.DEFAULT,<span class="comment">--è®¾ç½®æŒ‰é’®æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">&#123;onClick = <span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">MyDialog.dismiss();<span class="comment">--å…³é—­å¯¹è¯æ¡†</span></span><br><span class="line"><span class="keyword">end</span>&#125;);</span><br><span class="line">MyDialog.show();<span class="comment">--æ˜¾ç¤ºå¯¹è¯æ¡†</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--QQMenuDialog</span></span><br><span class="line">MyMenuDialog=MenuDialog(this);<span class="comment">--è®¾ç½®å¼¹çª—è¿›å‡ºåŠ¨ç”»</span></span><br><span class="line">MyMenuDialog.setTitle(<span class="string">&quot;è¿™æ˜¯èœå•æ çš„æ ‡é¢˜&quot;</span>,MenuDialog.setTextColor.DEFAULT);<span class="comment">--è®¾ç½®æ ‡é¢˜æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">MyMenuDialog.setButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,MenuDialog.setTextColor.BLACK);<span class="comment">--è®¾ç½®å–æ¶ˆæŒ‰é’®æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">MyMenuDialog.addItem(<span class="string">&quot;é€‰é¡¹ä¸€&quot;</span>,MenuDialog.setTextColor.BLACK,<span class="comment">--è®¾ç½®é€‰é¡¹æ–‡å­—åŠé¢œè‰²</span></span><br><span class="line">&#123;onClick = <span class="function"><span class="keyword">function</span><span class="params">()</span></span><span class="comment">--æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span>&#125;);</span><br><span class="line">MyMenuDialog.show();<span class="comment">--æ˜¾ç¤ºå¼¹çª—</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--QQProgress</span></span><br><span class="line">QQProgress.showPorgressBar(this, <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªè¿›åº¦æ¡&quot;</span>,QQProgress.setTheme.DEFAULT);</span><br><span class="line"></span><br><span class="line"><span class="comment">--QQToast</span></span><br><span class="line">QQToast.makeText(this, <span class="string">&quot;è¿™æ˜¯ä¸€ä¸ªæç¤º&quot;</span>,QQToast.setBackgroundColors.DEFAULT).show();</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨AndroLuaX+1.0.0.4</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>é™é»˜å®‰è£…</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E9%9D%99%E9%BB%98%E5%AE%89%E8%A3%85/</url>
    <content><![CDATA[<h1>é™é»˜å®‰è£…</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;AndroLua+&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é™é»˜å®‰è£…<span class="params">(cmd)</span></span></span><br><span class="line"><span class="keyword">local</span> p=<span class="built_in">io</span>.<span class="built_in">popen</span>(<span class="string">&quot;su -c pm install &quot;</span>..cmd)</span><br><span class="line">  s=p:<span class="built_in">read</span>(<span class="string">&quot;*all&quot;</span>)</span><br><span class="line">  p:<span class="built_in">close</span>()</span><br><span class="line">  <span class="keyword">return</span> s</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="string">&quot;å¼€å§‹å®‰è£…ã€‚ã€‚ã€‚&quot;</span></span><br><span class="line"></span><br><span class="line">é™é»˜å®‰è£…(<span class="string">&quot;/sdcard/demo.apk&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>é£æœºå¤§æˆ˜</title>
    <url>/2021/11/07/lua%E4%BB%A3%E7%A0%81/%E9%A3%9E%E6%9C%BA%E5%A4%A7%E6%88%98-2021-11-07-17-52-27/</url>
    <content><![CDATA[<h1>é£æœºå¤§æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.PorterDuff&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;é£æœºå¤§æˆ˜/wsdx&#x27;</span>)</span><br><span class="line">activity.setTheme(android.R.style.Theme_Holo_Light)</span><br><span class="line">activity.setContentView(loadlayout(&#123;</span><br><span class="line">  RelativeLayout;</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  background=<span class="string">&quot;#fe000000&quot;</span>;</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  id=<span class="string">&quot;back&quot;</span>;</span><br><span class="line">&#125;))</span><br><span class="line"></span><br><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="comment">--ç”»é¢åˆ·æ–°æ¬¡æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">config</span> = &#123;</span><br><span class="line">  air_width = <span class="number">160</span>,</span><br><span class="line">  air_height = <span class="number">320</span>,</span><br><span class="line">  <span class="comment">--é£æœºå®½é«˜</span></span><br><span class="line"></span><br><span class="line">  pop_width = <span class="number">30</span>,</span><br><span class="line">  pop_height = <span class="number">30</span>,</span><br><span class="line">  <span class="comment">--å­å¼¹å®½é«˜</span></span><br><span class="line"></span><br><span class="line">  ene_width = <span class="number">160</span>,</span><br><span class="line">  ene_height = <span class="number">320</span>,</span><br><span class="line">  <span class="comment">--æ•Œäººå®½é«˜</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--ç›¸å…³é…ç½®</span></span><br><span class="line"></span><br><span class="line">pos = &#123;</span><br><span class="line">  x = <span class="number">400</span>,</span><br><span class="line">  y = <span class="number">1000</span>,</span><br><span class="line">  size = &#123;<span class="built_in">config</span>.air_width,<span class="built_in">config</span>.air_height&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--è®°å½•é£æœºä½ç½®</span></span><br><span class="line"></span><br><span class="line">enes = &#123;</span><br><span class="line">  &#123;x=<span class="number">100</span>,y=<span class="number">0</span>,speed=&#123;<span class="number">0</span>,<span class="number">1</span>&#125;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--æ•Œäºº</span></span><br><span class="line"></span><br><span class="line">pops = &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ†æ•°</span></span><br><span class="line">score = &#123;</span><br><span class="line">kill = <span class="number">0</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">back.onTouch = <span class="function"><span class="keyword">function</span><span class="params">(v,e)</span></span></span><br><span class="line">  pos.x = e.x<span class="number">-75</span></span><br><span class="line">  pos.y =e.y<span class="number">-160</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">daf</span><span class="params">(c)</span></span></span><br><span class="line">  <span class="comment">--æ ¸å¿ƒï¼šç»˜åˆ¶å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> width = c.getWidth()</span><br><span class="line">  <span class="keyword">local</span> height = c.getHeight()</span><br><span class="line"></span><br><span class="line">  <span class="comment">--c.drawColor(Color.TRANSPARENT,PorterDuff.Mode.CLEAR);</span></span><br><span class="line">  <span class="keyword">local</span> pa = Paint()</span><br><span class="line">  pa.setColor(<span class="number">0xFF0000ff</span>)</span><br><span class="line">  pa.setStyle(pa.style.FILL)</span><br><span class="line">  c.drawRect(pos.x,pos.y,pos.x+<span class="built_in">config</span>.air_width,pos.y+<span class="built_in">config</span>.air_height,pa)</span><br><span class="line">  pa.setTextSize(<span class="number">50</span>)</span><br><span class="line">  pa.setColor(<span class="number">0xFFFFFFFF</span>)</span><br><span class="line">  c.drawText(<span class="string">&quot;é£æœº&quot;</span>,pos.x+<span class="number">30</span>,pos.y+<span class="number">160</span>,pa)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> k,ep <span class="keyword">in</span> <span class="built_in">pairs</span>(pops) <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ep.from == <span class="string">&quot;e&quot;</span> <span class="keyword">then</span></span><br><span class="line">      pa.setColor(<span class="number">0xFFFF0000</span>)</span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      pa.setColor(<span class="number">0xFF0000FF</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">--ç»˜åˆ¶å­å¼¹</span></span><br><span class="line">    c.drawRect(ep.x,ep.y,ep.x+ep.size[<span class="number">1</span>],ep.y+ep.size[<span class="number">2</span>],pa)</span><br><span class="line"></span><br><span class="line">    respeed(ep)</span><br><span class="line"></span><br><span class="line">    ep.from = ep.from <span class="keyword">or</span> <span class="string">&quot;a&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> checkscreen(ep,width,height) <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">remove</span>(pops,k)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k,en <span class="keyword">in</span> <span class="built_in">pairs</span>(enes) <span class="keyword">do</span></span><br><span class="line">      <span class="keyword">if</span> isBit(ep,en) <span class="keyword">and</span> ep.from == <span class="string">&quot;a&quot;</span> <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">table</span>.<span class="built_in">remove</span>(enes,k)</span><br><span class="line">        score.kill = score.kill + <span class="number">1</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> isBit(ep,pos) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> ep.from == <span class="string">&quot;e&quot;</span> <span class="keyword">then</span></span><br><span class="line">        <span class="comment">--å¤±è´¥</span></span><br><span class="line">        activity.finish()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  pa.setColor(<span class="number">0xFF00FF00</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> k,ep <span class="keyword">in</span> <span class="built_in">pairs</span>(enes) <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">--ç»˜åˆ¶æ•Œäºº</span></span><br><span class="line"></span><br><span class="line">    c.drawRect(ep.x,ep.y,ep.x+ep.size[<span class="number">1</span>],ep.y+ep.size[<span class="number">2</span>],pa)</span><br><span class="line"></span><br><span class="line">    respeed(ep)</span><br><span class="line"></span><br><span class="line">    pa.setColor(<span class="number">0xFFFFFFFF</span>)</span><br><span class="line">    c.drawText(<span class="string">&quot;æ•Œäºº&quot;</span>,ep.x+<span class="number">30</span>,ep.y+<span class="number">160</span>,pa)</span><br><span class="line"></span><br><span class="line">    pa.setColor(<span class="number">0xFF00FF00</span>)</span><br><span class="line">    <span class="keyword">if</span> checkscreen(ep,width,height) <span class="keyword">then</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">remove</span>(enes,k)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> isBit(ep,pos) <span class="keyword">then</span></span><br><span class="line">      activity.finish()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--åˆ†æ•°</span></span><br><span class="line">  pa.setColor(<span class="number">0xFF000000</span>)</span><br><span class="line">  pa.setTextSize(<span class="number">50</span>)</span><br><span class="line">  c.drawText(<span class="string">&quot;å¾—åˆ†: &quot;</span>..score.kill, <span class="number">50</span>, <span class="number">80</span>, pa)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> c</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">da = LuaDrawable(daf)</span><br><span class="line">back.setBackground(da)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ffi</span><span class="params">()</span></span></span><br><span class="line">  back.invalidate()</span><br><span class="line">  count = count + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> count &gt;= <span class="number">20000</span> <span class="keyword">then</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> count % <span class="number">35</span> == <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">    shut(&#123;x = pos.x + (<span class="built_in">config</span>.air_width/<span class="number">2</span>),y= pos.y + (<span class="built_in">config</span>.air_height/<span class="number">2</span>),from = <span class="string">&quot;a&quot;</span>,speed=&#123;<span class="number">0</span>,<span class="number">-20</span>&#125;&#125;)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k,en <span class="keyword">in</span> <span class="built_in">pairs</span>(enes) <span class="keyword">do</span></span><br><span class="line">      shut(&#123;x = en.x + (en.size[<span class="number">1</span>]/<span class="number">2</span>),y = en.y + (en.size[<span class="number">2</span>]*<span class="number">1.2</span>),from = <span class="string">&quot;e&quot;</span>,speed=&#123;<span class="number">0</span>,<span class="number">20</span>&#125;&#125;)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> count % <span class="number">50</span> == <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--ç”Ÿæˆæ–°æ•Œäºº</span></span><br><span class="line">    <span class="keyword">local</span> en = &#123;&#125;</span><br><span class="line">    en.x = <span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">1</span>,<span class="number">2000</span>)</span><br><span class="line">    en.y = <span class="number">0</span></span><br><span class="line">    en.speed = &#123;<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">-20</span>,<span class="number">20</span>),<span class="built_in">math</span>.<span class="built_in">random</span>(<span class="number">1</span>,<span class="number">20</span>)&#125;</span><br><span class="line">    en.size = &#123;<span class="built_in">config</span>.ene_width,<span class="built_in">config</span>.ene_height&#125;</span><br><span class="line">    <span class="built_in">table</span>.<span class="built_in">insert</span>(enes,en)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fi</span><span class="params">()</span></span></span><br><span class="line">  call(<span class="string">&quot;ffi&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">gt = timer(fi,<span class="number">100</span>,<span class="number">10</span>)</span><br><span class="line"><span class="comment">--åˆ·æ–°ç”»é¢</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">respeed</span><span class="params">(en)</span></span></span><br><span class="line">  <span class="comment">--ååº”é€Ÿåº¦</span></span><br><span class="line">  en.x = en.x + en.speed[<span class="number">1</span>]</span><br><span class="line">  en.y = en.y + en.speed[<span class="number">2</span>]</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkscreen</span><span class="params">(en,w,h)</span></span></span><br><span class="line">  <span class="comment">--æ£€æŸ¥æ˜¯å¦è¶…å‡ºå±å¹•</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (en.x &gt; w <span class="keyword">or</span> en.x &lt; <span class="number">0</span>) <span class="keyword">or</span> (en.y&gt;h <span class="keyword">or</span> en.y &lt; <span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadpos</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--åŠ è½½å±æ€§</span></span><br><span class="line">  <span class="keyword">for</span> k,en <span class="keyword">in</span> <span class="built_in">pairs</span>(pops) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> en.size <span class="keyword">then</span></span><br><span class="line">      en.size = &#123;&#125;</span><br><span class="line">      en.size[<span class="number">1</span>] = <span class="built_in">config</span>.pop_width</span><br><span class="line">      en.size[<span class="number">2</span>] = <span class="built_in">config</span>.pop_height</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> k,en <span class="keyword">in</span> <span class="built_in">ipairs</span>(enes) <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> en.size <span class="keyword">then</span></span><br><span class="line">      en.size = &#123;&#125;</span><br><span class="line">      en.size[<span class="number">1</span>] = <span class="built_in">config</span>.ene_width</span><br><span class="line">      en.size[<span class="number">2</span>] = <span class="built_in">config</span>.ene_height</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isBit</span><span class="params">(en1,en2)</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­ç¢°æ’</span></span><br><span class="line">  <span class="keyword">local</span> po1 = &#123;en1.x,en1.y&#125;</span><br><span class="line">  <span class="comment">--ä¸€å·å·¦ä¸Šç‚¹</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> po2 = &#123;en1.x+en1.size[<span class="number">1</span>],en1.y+en1.size[<span class="number">2</span>]&#125;</span><br><span class="line">  <span class="comment">--ä¸€å·å³ä¸‹ç‚¹</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--local po3 = &#123;en2.x,en2.y&#125;</span></span><br><span class="line">  <span class="comment">--äºŒå·å·¦ä¸Šç‚¹</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--local po4 = &#123;en2.x+en2.size[1],en2.y+en2.size[2]&#125;</span></span><br><span class="line">  <span class="comment">--äºŒå·å³ä¸‹ç‚¹</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">local</span> po4 = &#123;en2.x+en2.size[<span class="number">1</span>],en2.y&#125;</span><br><span class="line">  <span class="comment">--äºŒå·å·¦ä¸‹ç‚¹</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (po1[<span class="number">1</span>] &gt; en2.x <span class="keyword">and</span> po1[<span class="number">1</span>] &lt; en2.x+en2.size[<span class="number">1</span>]) <span class="keyword">and</span> (po1[<span class="number">2</span>] &gt; en2.y <span class="keyword">and</span> po1[<span class="number">2</span>] &lt; en2.y + en2.size[<span class="number">2</span>]) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (po2[<span class="number">1</span>] &gt; en2.x <span class="keyword">and</span> po2[<span class="number">1</span>] &lt; en2.x+en2.size[<span class="number">1</span>]) <span class="keyword">and</span> (po2[<span class="number">2</span>] &gt; en2.y <span class="keyword">and</span> po2[<span class="number">2</span>] &lt; en2.y + en2.size[<span class="number">2</span>]) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (po4[<span class="number">1</span>] &gt; en2.x <span class="keyword">and</span> po4[<span class="number">1</span>] &lt; en2.x+en2.size[<span class="number">1</span>]) <span class="keyword">and</span> (po4[<span class="number">2</span>] &gt; en2.y <span class="keyword">and</span> po4[<span class="number">2</span>] &lt; en2.y + en2.size[<span class="number">2</span>]) <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">loadpos()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onStop</span><span class="params">()</span></span></span><br><span class="line">  gt.stop()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">shut</span><span class="params">(o)</span></span></span><br><span class="line">  <span class="keyword">local</span> o = o <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">  <span class="keyword">local</span> en = o <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">  en.size = o.size <span class="keyword">or</span> &#123;<span class="built_in">config</span>.pop_width,<span class="built_in">config</span>.pop_height&#125;</span><br><span class="line">  en.speed = o.speed <span class="keyword">or</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;</span><br><span class="line">  en.x = o.x <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  en.y = o.y <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  <span class="built_in">table</span>.<span class="built_in">insert</span>(pops,en)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>luaä»£ç </category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™å…¥æ–‡ä»¶(è‡ªåŠ¨åˆ›å»ºçˆ¶æ–‡ä»¶å¤¹)</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6(%E8%87%AA%E5%8A%A8%E5%88%9B%E5%BB%BA%E7%88%B6%E6%96%87%E4%BB%B6%E5%A4%B9)-2021-11-08%2013:23:10/</url>
    <content><![CDATA[<h1>å†™å…¥æ–‡ä»¶(è‡ªåŠ¨åˆ›å»ºçˆ¶æ–‡ä»¶å¤¹)</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> å†™å…¥æ–‡ä»¶<span class="params">(è·¯å¾„,å†…å®¹)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  f=File(<span class="built_in">tostring</span>(File(<span class="built_in">tostring</span>(è·¯å¾„)).getParentFile())).mkdirs()</span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">tostring</span>(è·¯å¾„),<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹)):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™å…¥æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6-2021-11-08%2013:22:54/</url>
    <content><![CDATA[<h1>å†™å…¥æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">io</span>.<span class="built_in">open</span>(æ–‡ä»¶è·¯å¾„,<span class="string">&quot;w&quot;</span>):<span class="built_in">write</span>(<span class="string">&quot;å†…å®¹&quot;</span>):<span class="built_in">close</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ›å»ºæ–°æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%9B%E5%BB%BA%E6%96%B0%E6%96%87%E4%BB%B6-2021-11-08%2013:21:34/</url>
    <content><![CDATA[<h1>åˆ›å»ºæ–°æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä½¿ç”¨Fileç±»</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(æ–‡ä»¶è·¯å¾„).createNewFile()</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨ioåº“</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;/sdcard/aaaa&quot;</span>, <span class="string">&#x27;w&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ›å»ºæ–°æ–‡ä»¶å¤¹</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%9B%E5%BB%BA%E6%96%B0%E6%96%87%E4%BB%B6%E5%A4%B9-2021-11-08%2013:21:51/</url>
    <content><![CDATA[<h1>åˆ›å»ºæ–°æ–‡ä»¶å¤¹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä½¿ç”¨Fileç±»</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(æ–‡ä»¶å¤¹è·¯å¾„).mkdir()</span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹</span></span><br><span class="line">File(æ–‡ä»¶å¤¹è·¯å¾„).mkdirs()</span><br><span class="line"></span><br><span class="line"><span class="comment">--shell</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&#x27;mkdir &#x27;</span>..æ–‡ä»¶å¤¹è·¯å¾„)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9-2021-11-08%2013:24:14/</url>
    <content><![CDATA[<h1>åˆ é™¤æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä½¿ç”¨Fileç±»</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(æ–‡ä»¶è·¯å¾„).delete()</span><br><span class="line"><span class="comment">--ä½¿ç”¨osæ–¹æ³•</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">remove</span> (filename)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ¤æ–­æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å­˜ä¸å­˜åœ¨</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9%E5%AD%98%E4%B8%8D%E5%AD%98%E5%9C%A8-2021-11-08%2013:27:30/</url>
    <content><![CDATA[<h1>åˆ¤æ–­æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹å­˜ä¸å­˜åœ¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(è·¯å¾„).exists()</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨io</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">file_exists</span><span class="params">(path)</span></span></span><br><span class="line"><span class="keyword">local</span> f=<span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">path</span>,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> f~=<span class="literal">nil</span> <span class="keyword">then</span> <span class="built_in">io</span>.<span class="built_in">close</span>(f) <span class="keyword">return</span> <span class="literal">true</span> <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ¤æ–­æ˜¯ä¸æ˜¯ç³»ç»Ÿéšè—æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%A4%E6%96%AD%E6%98%AF%E4%B8%8D%E6%98%AF%E7%B3%BB%E7%BB%9F%E9%9A%90%E8%97%8F%E6%96%87%E4%BB%B6-2021-11-08%2013:27:52/</url>
    <content><![CDATA[<h1>åˆ¤æ–­æ˜¯ä¸æ˜¯ç³»ç»Ÿéšè—æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(è·¯å¾„).isHidden()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ¤æ–­è·¯å¾„æ˜¯ä¸æ˜¯æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%A4%E6%96%AD%E8%B7%AF%E5%BE%84%E6%98%AF%E4%B8%8D%E6%98%AF%E6%96%87%E4%BB%B6-2021-11-08%2013:27:15/</url>
    <content><![CDATA[<h1>åˆ¤æ–­è·¯å¾„æ˜¯ä¸æ˜¯æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(è·¯å¾„).isFile()</span><br><span class="line"><span class="comment">--ä¹Ÿå¯ç”¨æ¥åˆ¤æ–­æ–‡ä»¶å­˜ä¸å­˜åœ¨</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ¤æ–­è·¯å¾„æ˜¯ä¸æ˜¯æ–‡ä»¶å¤¹</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%88%A4%E6%96%AD%E8%B7%AF%E5%BE%84%E6%98%AF%E4%B8%8D%E6%98%AF%E6%96%87%E4%BB%B6%E5%A4%B9-2021-11-08%2013:27:01/</url>
    <content><![CDATA[<h1>åˆ¤æ–­è·¯å¾„æ˜¯ä¸æ˜¯æ–‡ä»¶å¤¹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(è·¯å¾„).isDirectory()</span><br><span class="line"><span class="comment">--ä¹Ÿå¯ç”¨æ¥åˆ¤æ–­æ–‡ä»¶å¤¹å­˜ä¸å­˜åœ¨</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤åˆ¶æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6-2021-11-08%2013:24:31/</url>
    <content><![CDATA[<h1>å¤åˆ¶æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">LuaUtil.copyDir(from,to)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æŒ‰è¡Œè¯»å–æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E6%8C%89%E8%A1%8C%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6-2021-11-08%2013:23:58/</url>
    <content><![CDATA[<h1>æŒ‰è¡Œè¯»å–æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">io</span>.<span class="built_in">lines</span>(æ–‡ä»¶è·¯å¾„) <span class="keyword">do</span></span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›´æ–°æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E6%9B%B4%E6%96%B0%E6%96%87%E4%BB%B6-2021-11-08%2013:22:40/</url>
    <content><![CDATA[<h1>æ›´æ–°æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">io</span>.<span class="built_in">open</span>(æ–‡ä»¶è·¯å¾„,<span class="string">&quot;w+&quot;</span>):<span class="built_in">write</span>(<span class="string">&quot;æ›´æ–°çš„å†…å®¹&quot;</span>):<span class="built_in">close</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ›¿æ¢æ–‡ä»¶å†…å­—ç¬¦ä¸²</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E6%9B%BF%E6%8D%A2%E6%96%87%E4%BB%B6%E5%86%85%E5%AD%97%E7%AC%A6%E4%B8%B2-2021-11-08%2013:25:06/</url>
    <content><![CDATA[<h1>æ›¿æ¢æ–‡ä»¶å†…å­—ç¬¦ä¸²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> æ›¿æ¢æ–‡ä»¶å­—ç¬¦ä¸²<span class="params">(è·¯å¾„,è¦æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²)</span></span></span><br><span class="line"><span class="keyword">if</span> è·¯å¾„ <span class="keyword">then</span></span><br><span class="line">  è·¯å¾„=<span class="built_in">tostring</span>(è·¯å¾„)</span><br><span class="line">  å†…å®¹=<span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">  <span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„,<span class="string">&quot;w+&quot;</span>):<span class="built_in">write</span>(<span class="built_in">tostring</span>(å†…å®¹:<span class="built_in">gsub</span>(è¦æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²))):<span class="built_in">close</span>()</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶Mimeç±»å‹</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6Mime%E7%B1%BB%E5%9E%8B-2021-11-08%2013:26:48/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶Mimeç±»å‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetFileMime</span><span class="params">(name)</span></span></span><br><span class="line">import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">ExtensionName=<span class="built_in">tostring</span>(name):<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">tostring</span>(Mime)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(GetFileMime(<span class="string">&quot;/sdcard/a.png&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶åˆ—è¡¨</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8-2021-11-08%2013:25:20/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶åˆ—è¡¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import(<span class="string">&quot;java.io.File&quot;</span>)</span><br><span class="line">luajava.astable(File(æ–‡ä»¶å¤¹è·¯å¾„).listFiles())</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶åç§°</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%90%8D%E7%A7%B0-2021-11-08%2013:25:33/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶åç§°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(è·¯å¾„).getName()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶å¤§å°</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F-2021-11-08%2013:25:46/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶å¤§å°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetFileSize</span><span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.text.format.Formatter&quot;</span></span><br><span class="line">  size=File(<span class="built_in">tostring</span>(<span class="built_in">path</span>)).length()</span><br><span class="line">  Sizes=Formatter.formatFileSize(activity, size)</span><br><span class="line">  <span class="keyword">return</span> Sizes</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶å­—èŠ‚</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%AD%97%E8%8A%82-2021-11-08%2013:26:19/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶å­—èŠ‚</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(è·¯å¾„).length()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æœ€åä¿®æ”¹æ—¶é—´</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9%E6%9C%80%E5%90%8E%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4-2021-11-08%2013:26:03/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹æœ€åä¿®æ”¹æ—¶é—´</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetFilelastTime</span><span class="params">(path)</span></span></span><br><span class="line">  f = File(<span class="built_in">path</span>); </span><br><span class="line">  cal = Calendar.getInstance();</span><br><span class="line">  <span class="built_in">time</span> = f.lastModified()</span><br><span class="line">  cal.setTimeInMillis(<span class="built_in">time</span>); </span><br><span class="line">  <span class="keyword">return</span> cal.getTime().toLocaleString()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶çˆ¶æ–‡ä»¶å¤¹è·¯å¾„</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E7%88%B6%E6%96%87%E4%BB%B6%E5%A4%B9%E8%B7%AF%E5%BE%84-2021-11-08%2013:26:33/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶çˆ¶æ–‡ä»¶å¤¹è·¯å¾„</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(<span class="built_in">path</span>).getParentFile()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è¯»å–æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%AF%BB%E5%8F%96%E6%96%87%E4%BB%B6-2021-11-08%2013:23:26/</url>
    <content><![CDATA[<h1>è¯»å–æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">io</span>.<span class="built_in">open</span>(æ–‡ä»¶è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿½åŠ æ›´æ–°æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E8%BF%BD%E5%8A%A0%E6%9B%B4%E6%96%B0%E6%96%87%E4%BB%B6-2021-11-08%2013:22:27/</url>
    <content><![CDATA[<h1>è¿½åŠ æ›´æ–°æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">io</span>.<span class="built_in">open</span>(æ–‡ä»¶è·¯å¾„,<span class="string">&quot;a+&quot;</span>):<span class="built_in">write</span>(<span class="string">&quot;æ›´æ–°çš„å†…å®¹&quot;</span>):<span class="built_in">close</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’åˆ é™¤æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E9%80%92%E5%BD%92%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9%E6%88%96%E6%96%87%E4%BB%B6-2021-11-08%2013:24:50/</url>
    <content><![CDATA[<h1>é€’å½’åˆ é™¤æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä½¿ç”¨LuaUtilè¾…åŠ©åº“</span></span><br><span class="line">LuaUtil.rmDir(è·¯å¾„)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨Shell</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;rm -r &quot;</span>..è·¯å¾„)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>é‡å‘½åä¸ç§»åŠ¨æ–‡ä»¶</title>
    <url>/2021/11/08/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/%E9%87%8D%E5%91%BD%E5%90%8D%E4%B8%8E%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6-2021-11-08%2013:22:11/</url>
    <content><![CDATA[<h1>é‡å‘½åä¸ç§»åŠ¨æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--Shell</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;mv &quot;</span>..oldname..<span class="string">&quot; &quot;</span>..newname)</span><br><span class="line"></span><br><span class="line"><span class="comment">--os</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">rename</span> (oldname, newname)</span><br><span class="line"></span><br><span class="line"><span class="comment">--File</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(æ—§).renameTo(File(æ–°))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æ–‡ä»¶æ“ä½œ</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>DOMæŸ¥æ‰¾ç½‘é¡µåˆ†ç±»å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/DOM%E6%9F%A5%E6%89%BE%E7%BD%91%E9%A1%B5%E5%88%86%E7%B1%BB%E5%AE%9E%E6%88%98-2021-11-07%2023:01:34/</url>
    <content><![CDATA[<h1>DOMæŸ¥æ‰¾ç½‘é¡µåˆ†ç±»å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¯¼å…¥jsoupåº“</span></span><br><span class="line">import<span class="string">&#x27;org.jsoup.*&#x27;</span></span><br><span class="line"><span class="comment">--å®šä¹‰é“¾æ¥</span></span><br><span class="line">url = <span class="string">&#x27;http://dh.hfybbs.vip/cn/index.html&#x27;</span></span><br><span class="line"><span class="comment">--è¿™é‡Œä½¿ç”¨Httpæ–¹æ³•å…ˆè·å–åˆ°ç½‘é¡µæºç å†è§£æã€‚</span></span><br><span class="line"><span class="comment">--å› ä¸ºjsoupè‡ªå¸¦çš„connectæ–¹æ³•æ˜¯åŒæ­¥åŠ è½½ï¼Œä¼šå½±å“ç¨‹åºåŠ è½½é€Ÿåº¦</span></span><br><span class="line">Http.get(url,<span class="function"><span class="keyword">function</span><span class="params">(code,content)</span></span></span><br><span class="line">  <span class="keyword">if</span> code==<span class="number">200</span> <span class="keyword">then</span><span class="comment">--åˆ¤æ–­ç½‘ç«™çŠ¶æ€</span></span><br><span class="line">    doc = Jsoup.parse(content)<span class="comment">--ä½¿ç”¨jsoupè§£æç½‘é¡µ</span></span><br><span class="line">    classification = doc.getElementsByClass(<span class="string">&#x27;text-gray&#x27;</span>)<span class="comment">--æŸ¥æ‰¾åˆ°æ‰€æœ‰classä¸ºtext-grayçš„ç½‘é¡µå…ƒç´ </span></span><br><span class="line">    classification = luajava.astable(classification)<span class="comment">--å°†å…¶è½¬æ¢æˆtableè¡¨</span></span><br><span class="line">    <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(classification) <span class="keyword">do</span><span class="comment">--å¾ªç¯æ‰“å°è¾“å‡º</span></span><br><span class="line">      <span class="built_in">print</span>(v.text())</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ— æ³•è®¿é—®&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>StringåŸºç¡€æ¦‚è¿°</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/String%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0-2021-11-07%2023:02:56/</url>
    <content><![CDATA[<h1>StringåŸºç¡€æ¦‚è¿°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">çˆ¬è™«ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§å­¦é—®ï¼Œå‰å®³çš„çˆ¬è™«å¯ä»¥ç”¨åŒä¸€ä¸ªç½‘ç«™çš„ç›¸åŒæ•°æ®ï¼Œ</span><br><span class="line">åšå‡ºæ›´çªå‡ºçš„æ•ˆæœï¼Œå¯ä»¥å°†æ‚ä¹±æ— ç« çš„æ•°æ®ï¼Œå¤„ç†æˆç³»ç»Ÿçš„ï¼Œåˆ†ç±»å¥½çš„æ•°æ®æ¥è¿›è¡Œå¤ç”¨ã€‚</span><br><span class="line">å½“ç„¶ï¼Œè¿™äº›éƒ½æ˜¯å‰å®³çš„ï¼Œå·¥ç¨‹é‡ååˆ†å¤§çš„ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦ç®€å•çš„å¤„ç†é¡µé¢æ•°æ®å°±å¯ä»¥äº†ã€‚</span><br><span class="line">é¦–å…ˆç†Ÿæ‚‰ä¸‹Luaçš„å­—ç¬¦ä¸²æ“ä½œ</span><br><span class="line">å­—ç¬¦ä¸²ç”±ä¸€å¯¹åŒå¼•å·æˆ–å•å¼•å·æ¥è¡¨ç¤ºã€‚</span><br><span class="line"></span><br><span class="line">string1 = <span class="string">&quot;this is string1&quot;</span></span><br><span class="line">string2 = <span class="string">&#x27;this is string2&#x27;</span></span><br><span class="line"></span><br><span class="line">åœ¨å¯¹ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²ä¸Šè¿›è¡Œç®—æœ¯æ“ä½œæ—¶ï¼ŒLua ä¼šå°è¯•å°†è¿™ä¸ªæ•°å­—å­—ç¬¦ä¸²è½¬æˆä¸€ä¸ªæ•°å­—ï¼Œå­—ç¬¦ä¸²è¿æ¥ä½¿ç”¨çš„æ˜¯ ..å¦‚ï¼š</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a&quot;</span> .. <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"><span class="comment">--è¾“å‡º(ab)</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">157</span> .. <span class="number">428</span>)</span><br><span class="line"><span class="comment">--è¾“å‡º(157428)</span></span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ # æ¥è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæ”¾åœ¨å­—ç¬¦ä¸²å‰é¢ï¼Œå¦‚ä¸‹å®ä¾‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="string">&quot;www.androlua.com&quot;</span></span><br><span class="line"><span class="built_in">print</span>(#<span class="built_in">len</span>)</span><br><span class="line"><span class="comment">--è¾“å‡º(16)</span></span><br><span class="line"></span><br><span class="line">å­—ç¬¦ä¸²çš„æˆªå–æ“ä½œï¼š</span><br><span class="line">strings=<span class="string">&quot;å·¦ä¸­å³&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å–å­—ç¬¦ä¸²å·¦è¾¹</span></span><br><span class="line">å·¦=strings:<span class="built_in">match</span>(<span class="string">&quot;(.+)ä¸­&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å–å­—ç¬¦ä¸²ä¸­é—´</span></span><br><span class="line">ä¸­=strings:<span class="built_in">match</span>(<span class="string">&quot;å·¦(.-)å³&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å–å­—ç¬¦ä¸²å³è¾¹</span></span><br><span class="line">å³=strings:<span class="built_in">match</span>(<span class="string">&quot;ä¸­(.+)&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ›¿æ¢</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">gsub</span>(åŸå­—ç¬¦ä¸²,æ›¿æ¢çš„å­—ç¬¦ä¸²,æ›¿æ¢æˆçš„å­—ç¬¦ä¸²)</span><br><span class="line"></span><br><span class="line"><span class="comment">--åŒ¹é…å­ä¸²ä½ç½®</span></span><br><span class="line">èµ·å§‹ä½ç½®,ç»“æŸä½ç½®=<span class="built_in">string</span>.<span class="built_in">find</span>(å­—ç¬¦ä¸²,å­ä¸²)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æŒ‰ä½ç½®æ•è·å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">sub</span>(å­—ç¬¦ä¸²,å­ä¸²èµ·å§‹ä½ç½®,å­ä¸²ç»“æŸä½ç½®)</span><br><span class="line"></span><br><span class="line">éœ€è¦ä¸€æå¾—æ˜¯ï¼ŒLuaä¸­ä½¿ç”¨æ¥è¿›è¡Œè½¬ä¹‰ï¼Œä¾‹å¦‚ï¼š</span><br><span class="line">n æ¢è¡Œ(LF) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹ä¸€è¡Œå¼€å¤´</span><br><span class="line">r å›è½¦(CR) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°æœ¬è¡Œå¼€å¤´</span><br><span class="line">t æ°´å¹³åˆ¶è¡¨(HT) ï¼ˆè·³åˆ°ä¸‹ä¸€ä¸ªTABä½ç½®ï¼‰</span><br><span class="line">\ ä»£è¡¨ä¸€ä¸ªåæ–œçº¿å­—ç¬¦</span><br><span class="line"><span class="string">&#x27; ä»£è¡¨ä¸€ä¸ªå•å¼•å·ï¼ˆæ’‡å·ï¼‰å­—ç¬¦</span></span><br><span class="line"><span class="string">&quot; ä»£è¡¨ä¸€ä¸ªåŒå¼•å·å­—ç¬¦</span></span><br><span class="line"><span class="string">0 ç©ºå­—ç¬¦(NULL)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Luaä¸­å­—ç¬¦ä¸²æ“ä½œapiï¼š</span></span><br><span class="line"><span class="string">string.upper(argument) å­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå¤§å†™å­—æ¯ã€‚</span></span><br><span class="line"><span class="string">string.lower(argument) å­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå°å†™å­—æ¯ã€‚</span></span><br><span class="line"><span class="string">string.gsub(mainString,findString,replaceString,num) åœ¨å­—ç¬¦ä¸²ä¸­æ›¿æ¢,mainStringä¸ºè¦æ›¿æ¢çš„å­—ç¬¦ä¸²ï¼Œ findString ä¸ºè¢«æ›¿æ¢çš„å­—ç¬¦ï¼ŒreplaceString è¦æ›¿æ¢çš„å­—ç¬¦ï¼Œnum æ›¿æ¢æ¬¡æ•°ï¼ˆå¯ä»¥å¿½ç•¥ï¼Œåˆ™å…¨éƒ¨æ›¿æ¢ï¼‰</span></span><br><span class="line"><span class="string">string.find (str, substr, [init, [end]]) åœ¨ä¸€ä¸ªæŒ‡å®šçš„ç›®æ ‡å­—ç¬¦ä¸²ä¸­æœç´¢æŒ‡å®šçš„å†…å®¹(ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºç´¢å¼•),è¿”å›å…¶å…·ä½“ä½ç½®ã€‚ä¸å­˜åœ¨åˆ™è¿”å› nilã€‚</span></span><br><span class="line"><span class="string">string.reverse(arg) å­—ç¬¦ä¸²åè½¬</span></span><br><span class="line"><span class="string">string.format(...) è¿”å›ä¸€ä¸ªç±»ä¼¼printfçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">string.char(arg) å’Œ string.byte(arg[,int]) char å°†æ•´å‹æ•°å­—è½¬æˆå­—ç¬¦å¹¶è¿æ¥ï¼Œ byte è½¬æ¢å­—ç¬¦ä¸ºæ•´æ•°å€¼(å¯ä»¥æŒ‡å®šæŸä¸ªå­—ç¬¦ï¼Œé»˜è®¤ç¬¬ä¸€ä¸ªå­—ç¬¦)ã€‚</span></span><br><span class="line"><span class="string">string.len(arg) è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ã€‚</span></span><br><span class="line"><span class="string">string.rep(string, n) è¿”å›å­—ç¬¦ä¸²stringçš„nä¸ªæ‹·è´</span></span><br><span class="line"><span class="string">.. é“¾æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string">string.gmatch(str, pattern) å›ä¸€ä¸ªè¿­ä»£å™¨å‡½æ•°ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªåœ¨å­—ç¬¦ä¸² str æ‰¾åˆ°çš„ä¸‹ä¸€ä¸ªç¬¦åˆ pattern æè¿°çš„å­ä¸²ã€‚å¦‚æœå‚æ•° pattern æè¿°çš„å­—ç¬¦ä¸²æ²¡æœ‰æ‰¾åˆ°ï¼Œè¿­ä»£å‡½æ•°è¿”å›nilã€‚</span></span><br><span class="line"><span class="string">string.match(str, pattern, init) string.match()åªå¯»æ‰¾æºå­—ä¸²strä¸­çš„ç¬¬ä¸€ä¸ªé…å¯¹. å‚æ•°initå¯é€‰, æŒ‡å®šæœå¯»è¿‡ç¨‹çš„èµ·ç‚¹, é»˜è®¤ä¸º1ã€‚ </span></span><br><span class="line"><span class="string">åœ¨æˆåŠŸé…å¯¹æ—¶, å‡½æ•°å°†è¿”å›é…å¯¹è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰æ•è·ç»“æœ; å¦‚æœæ²¡æœ‰è®¾ç½®æ•è·æ ‡è®°, åˆ™è¿”å›æ•´ä¸ªé…å¯¹å­—ç¬¦ä¸². å½“æ²¡æœ‰æˆåŠŸçš„é…å¯¹æ—¶, è¿”å›nilã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å…¶ä¸­string.format()æœ‰ä»¥ä¸‹è½¬ä¹‰ç ï¼š</span></span><br><span class="line"><span class="string">%c - æ¥å—ä¸€ä¸ªæ•°å­—, å¹¶å°†å…¶è½¬åŒ–ä¸ºASCIIç è¡¨ä¸­å¯¹åº”çš„å­—ç¬¦</span></span><br><span class="line"><span class="string">%d, %i - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæœ‰ç¬¦å·çš„æ•´æ•°æ ¼å¼</span></span><br><span class="line"><span class="string">%o - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºå…«è¿›åˆ¶æ•°æ ¼å¼</span></span><br><span class="line"><span class="string">%u - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæ— ç¬¦å·æ•´æ•°æ ¼å¼</span></span><br><span class="line"><span class="string">%x - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯</span></span><br><span class="line"><span class="string">%X - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯</span></span><br><span class="line"><span class="string">%e - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯e</span></span><br><span class="line"><span class="string">%E - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯E</span></span><br><span class="line"><span class="string">%f - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°æ ¼å¼</span></span><br><span class="line"><span class="string">%g(%G) - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸º%e(%E, å¯¹åº”%G)åŠ%fä¸­è¾ƒçŸ­çš„ä¸€ç§æ ¼å¼</span></span><br><span class="line"><span class="string">%q - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶å°†å…¶è½¬åŒ–ä¸ºå¯å®‰å…¨è¢«Luaç¼–è¯‘å™¨è¯»å…¥çš„æ ¼å¼</span></span><br><span class="line"><span class="string">%s - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶æŒ‰ç…§ç»™å®šçš„å‚æ•°æ ¼å¼åŒ–è¯¥å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Luaçš„åŒ¹é…æ¨¡å¼ï¼š</span></span><br><span class="line"><span class="string">.(ç‚¹): ä¸ä»»ä½•å­—ç¬¦é…å¯¹</span></span><br><span class="line"><span class="string">%a: ä¸ä»»ä½•å­—æ¯é…å¯¹</span></span><br><span class="line"><span class="string">%c: ä¸ä»»ä½•æ§åˆ¶ç¬¦é…å¯¹(ä¾‹å¦‚n)</span></span><br><span class="line"><span class="string">%d: ä¸ä»»ä½•æ•°å­—é…å¯¹</span></span><br><span class="line"><span class="string">%l: ä¸ä»»ä½•å°å†™å­—æ¯é…å¯¹</span></span><br><span class="line"><span class="string">%p: ä¸ä»»ä½•æ ‡ç‚¹(punctuation)é…å¯¹</span></span><br><span class="line"><span class="string">%s: ä¸ç©ºç™½å­—ç¬¦é…å¯¹</span></span><br><span class="line"><span class="string">%u: ä¸ä»»ä½•å¤§å†™å­—æ¯é…å¯¹</span></span><br><span class="line"><span class="string">%w: ä¸ä»»ä½•å­—æ¯/æ•°å­—é…å¯¹</span></span><br><span class="line"><span class="string">%x: ä¸ä»»ä½•åå…­è¿›åˆ¶æ•°é…å¯¹</span></span><br><span class="line"><span class="string">%z: ä¸ä»»ä½•ä»£è¡¨0çš„å­—ç¬¦é…å¯¹</span></span><br><span class="line"><span class="string">%x(æ­¤å¤„xæ˜¯éå­—æ¯éæ•°å­—å­—ç¬¦): ä¸å­—ç¬¦xé…å¯¹. ä¸»è¦ç”¨æ¥å¤„ç†è¡¨è¾¾å¼ä¸­æœ‰åŠŸèƒ½çš„å­—ç¬¦(^()%.[]*+-?)çš„é…å¯¹é—®é¢˜, ä¾‹å¦‚%%ä¸%é…å¯¹</span></span><br><span class="line"><span class="string">[æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•[]ä¸­åŒ…å«çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[%w_]ä¸ä»»ä½•å­—æ¯/æ•°å­—, æˆ–ä¸‹åˆ’çº¿ç¬¦å·(_)é…å¯¹</span></span><br><span class="line"><span class="string">[^æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•ä¸åŒ…å«åœ¨[]ä¸­çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[^%s]ä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹</span></span><br><span class="line"><span class="string">å•ä¸ªå­—ç¬¦ç±»åŒ¹é…è¯¥ç±»åˆ«ä¸­ä»»æ„å•ä¸ªå­—ç¬¦ï¼›</span></span><br><span class="line"><span class="string">å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª &#x27;</span>*<span class="string">&#x27;ï¼Œ å°†åŒ¹é…é›¶æˆ–å¤šä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ è¿™ä¸ªæ¡ç›®æ€»æ˜¯åŒ¹é…å°½å¯èƒ½é•¿çš„ä¸²ï¼›</span></span><br><span class="line"><span class="string">å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª &#x27;</span>+<span class="string">&#x27;ï¼Œ å°†åŒ¹é…ä¸€æˆ–æ›´å¤šä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ è¿™ä¸ªæ¡ç›®æ€»æ˜¯åŒ¹é…å°½å¯èƒ½é•¿çš„ä¸²ï¼›</span></span><br><span class="line"><span class="string">å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª &#x27;</span>-<span class="string">&#x27;ï¼Œ å°†åŒ¹é…é›¶æˆ–æ›´å¤šä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ å’Œ &#x27;</span>*<span class="string">&#x27; ä¸åŒï¼Œ è¿™ä¸ªæ¡ç›®æ€»æ˜¯åŒ¹é…å°½å¯èƒ½çŸ­çš„ä¸²ï¼›</span></span><br><span class="line"><span class="string">å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª &#x27;</span>?<span class="string">&#x27;ï¼Œ å°†åŒ¹é…é›¶æˆ–ä¸€ä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ åªè¦æœ‰å¯èƒ½ï¼Œå®ƒä¼šåŒ¹é…ä¸€ä¸ªï¼›</span></span><br><span class="line"><span class="string">%nï¼Œ è¿™é‡Œçš„ n å¯ä»¥ä» 1 åˆ° 9ï¼› è¿™ä¸ªæ¡ç›®åŒ¹é…ä¸€ä¸ªç­‰äº n å·æ•è·ç‰©ï¼ˆåé¢æœ‰æè¿°ï¼‰çš„å­ä¸²ã€‚</span></span><br><span class="line"><span class="string">%bxyï¼Œ è¿™é‡Œçš„ x å’Œ y æ˜¯ä¸¤ä¸ªæ˜ç¡®çš„å­—ç¬¦ï¼› è¿™ä¸ªæ¡ç›®åŒ¹é…ä»¥ x å¼€å§‹ y ç»“æŸï¼Œ ä¸”å…¶ä¸­ x å’Œ y ä¿æŒ å¹³è¡¡ çš„å­—ç¬¦ä¸²ã€‚ æ„æ€æ˜¯ï¼Œå¦‚æœä»å·¦åˆ°å³è¯»è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹æ¯æ¬¡è¯»åˆ°ä¸€ä¸ª x å°± +1 ï¼Œè¯»åˆ°ä¸€ä¸ª y å°± -1ï¼Œ æœ€ç»ˆç»“æŸå¤„çš„é‚£ä¸ª y æ˜¯ç¬¬ä¸€ä¸ªè®°æ•°åˆ° 0 çš„ yã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ¡ç›® %b() å¯ä»¥åŒ¹é…åˆ°æ‹¬å·å¹³è¡¡çš„è¡¨è¾¾å¼ã€‚</span></span><br><span class="line"><span class="string">%f[set]ï¼Œ æŒ‡ è¾¹å¢ƒæ¨¡å¼ï¼› è¿™ä¸ªæ¡ç›®ä¼šåŒ¹é…åˆ°ä¸€ä¸ªä½äº set å†…æŸä¸ªå­—ç¬¦ä¹‹å‰çš„ä¸€ä¸ªç©ºä¸²ï¼Œ ä¸”è¿™ä¸ªä½ç½®çš„å‰ä¸€ä¸ªå­—ç¬¦ä¸å±äº set ã€‚ é›†åˆ set çš„å«ä¹‰å¦‚å‰é¢æ‰€è¿°ã€‚ åŒ¹é…å‡ºçš„é‚£ä¸ªç©ºä¸²ä¹‹å¼€å§‹å’Œç»“æŸç‚¹çš„è®¡ç®—å°±çœ‹æˆè¯¥å¤„æœ‰ä¸ªå­—ç¬¦ &#x27;</span><span class="number">0</span><span class="string">&#x27; ä¸€æ ·ã€‚</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">å¸¸ç”¨æ­£åˆ™(Luaä¸­éœ€è¦å°†æ¢æˆ%)ï¼š</span></span><br><span class="line"><span class="string">éè´Ÿæ•´æ•°ï¼š^d+</span></span><br><span class="line"><span class="string">æ­£æ•´æ•°ï¼š^[0-9]*[1-9][0-9]*</span></span><br><span class="line"><span class="string">éæ­£æ•´æ•°ï¼š^((-d+)|(0+))</span></span><br><span class="line"><span class="string">è´Ÿæ•´æ•°ï¼š^-[0-9]*[1-9][0-9]*</span></span><br><span class="line"><span class="string">æ•´æ•°ï¼š^-?d+</span></span><br><span class="line"><span class="string">éè´Ÿæµ®ç‚¹æ•°ï¼š^d+(.d+)?</span></span><br><span class="line"><span class="string">æ­£æµ®ç‚¹æ•° : ^((0-9)+.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*.[0-9]+)|([0-9]*[1-9][0-9]*)</span></span><br><span class="line"><span class="string">éæ­£æµ®ç‚¹æ•°ï¼š^((-d+.d+)?)|(0+(.0+)?))</span></span><br><span class="line"><span class="string">è´Ÿæµ®ç‚¹æ•°ï¼š^(-((æ­£æµ®ç‚¹æ•°æ­£åˆ™å¼)))</span></span><br><span class="line"><span class="string">è‹±æ–‡å­—ç¬¦ä¸²ï¼š^[A-Za-z]+</span></span><br><span class="line"><span class="string">è‹±æ–‡å¤§å†™ä¸²ï¼š^[A-Z]+</span></span><br><span class="line"><span class="string">è‹±æ–‡å°å†™ä¸²ï¼š^[a-z]+</span></span><br><span class="line"><span class="string">è‹±æ–‡å­—ç¬¦æ•°å­—ä¸²ï¼š^[A-Za-z0-9]+</span></span><br><span class="line"><span class="string">è‹±æ•°å­—åŠ ä¸‹åˆ’çº¿ä¸²ï¼š^w+</span></span><br><span class="line"><span class="string">E-mailåœ°å€ï¼š^[w-]+(.[w-]+)*@[w-]+(.[w-]+)+</span></span><br><span class="line"><span class="string">URLï¼š^[a-zA-Z]+://(w+(-w+)*)(.(w+(-w+)*))*(?s*)? </span></span><br><span class="line"><span class="string">æˆ–ï¼š^http://[A-Za-z0-9]+.[A-Za-z0-9]+[/=?%-&amp;_~`@[]&#x27;</span>:+!]*([^&lt;&gt;<span class="string">&quot;&quot;</span>])*</span><br><span class="line">é‚®æ”¿ç¼–ç ï¼š^[<span class="number">1</span><span class="number">-9</span>]d&#123;<span class="number">5</span>&#125;</span><br><span class="line">ä¸­æ–‡ï¼š^[u0391-uFFE5]+</span><br><span class="line">ç”µè¯å·ç ï¼š^(((d&#123;<span class="number">2</span>,<span class="number">3</span>&#125;))|(d&#123;<span class="number">3</span>&#125;-))?((<span class="number">0</span>d&#123;<span class="number">2</span>,<span class="number">3</span>&#125;)|<span class="number">0</span>d&#123;<span class="number">2</span>,<span class="number">3</span>&#125;-)?[<span class="number">1</span><span class="number">-9</span>]d&#123;<span class="number">6</span>,<span class="number">7</span>&#125;(-d&#123;<span class="number">1</span>,<span class="number">4</span>&#125;)?</span><br><span class="line">æ‰‹æœºå·ç ï¼š^(((d&#123;<span class="number">2</span>,<span class="number">3</span>&#125;))|(d&#123;<span class="number">3</span>&#125;-))?<span class="number">13</span>d&#123;<span class="number">9</span>&#125;</span><br><span class="line">åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š^x00-xff</span><br><span class="line">åŒ¹é…é¦–å°¾ç©ºæ ¼ï¼š(^s*)|(s*)ï¼ˆåƒvbscripté‚£æ ·çš„trimå‡½æ•°ï¼‰</span><br><span class="line">åŒ¹é…HTMLæ ‡è®°ï¼š&lt;(.*)&gt;.*&lt;/<span class="number">1</span>&gt;|&lt;(.*) /&gt;</span><br><span class="line">åŒ¹é…ç©ºè¡Œï¼šn[s| ]*r</span><br><span class="line">æå–ä¿¡æ¯ä¸­çš„ç½‘ç»œé“¾æ¥ï¼š(h|H)(r|R)(e|E)(f|F) *= *(<span class="string">&#x27;|&quot;)?(w|\|/|.)+(&#x27;</span>|<span class="string">&quot;| *|&gt;)?</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„é‚®ä»¶åœ°å€ï¼šw+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„å›¾ç‰‡é“¾æ¥ï¼š(s|S)(r|R)(c|C) *= *(&#x27;|&quot;</span>)?(w|\|/|.)+(<span class="string">&#x27;|&quot;| *|&gt;)?</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„IPåœ°å€ï¼š(d+).(d+).(d+).(d+)</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„ä¸­å›½æ‰‹æœºå·ç ï¼š(86)*0*13d&#123;9&#125;</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„ä¸­å›½å›ºå®šç”µè¯å·ç ï¼š((d&#123;3,4&#125;)|d&#123;3,4&#125;-|s)?d&#123;8&#125;</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„ä¸­å›½ç”µè¯å·ç ï¼ˆåŒ…æ‹¬ç§»åŠ¨å’Œå›ºå®šç”µè¯ï¼‰ï¼š((d&#123;3,4&#125;)|d&#123;3,4&#125;-|s)?d&#123;7,14&#125;</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„ä¸­å›½é‚®æ”¿ç¼–ç ï¼š[1-9]&#123;1&#125;(d+)&#123;5&#125;</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„æµ®ç‚¹æ•°ï¼ˆå³å°æ•°ï¼‰ï¼š(-?d*).?d+</span></span><br><span class="line"><span class="string">æå–ä¿¡æ¯ä¸­çš„ä»»ä½•æ•°å­— ï¼š(-?d*)(.d+)? </span></span><br><span class="line"><span class="string">IPï¼š(d+).(d+).(d+).(d+)</span></span><br><span class="line"><span class="string">ç”µè¯åŒºå·ï¼š/^0d&#123;2,3&#125;/</span></span><br><span class="line"><span class="string">è…¾è®¯QQå·ï¼š^[1-9]*[1-9][0-9]*</span></span><br><span class="line"><span class="string">å¸å·(å­—æ¯å¼€å¤´ï¼Œå…è®¸5-16å­—èŠ‚ï¼Œå…è®¸å­—æ¯æ•°å­—ä¸‹åˆ’çº¿)ï¼š^[a-zA-Z][a-zA-Z0-9_]&#123;4,15&#125;</span></span><br><span class="line"><span class="string">ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—åŠä¸‹åˆ’çº¿ï¼š^[u4e00-u9fa5_a-zA-Z0-9]+</span></span><br><span class="line"><span class="string">åŒ¹é…ä¸­æ–‡å­—ç¬¦çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š [u4e00-u9fa5]</span></span><br><span class="line"><span class="string">åŒ¹é…åŒå­—èŠ‚å­—ç¬¦(åŒ…æ‹¬æ±‰å­—åœ¨å†…)ï¼š[^x00-xff]</span></span><br><span class="line"><span class="string">åŒ¹é…ç©ºè¡Œçš„æ­£åˆ™è¡¨è¾¾å¼ï¼šn[s| ]*r</span></span><br><span class="line"><span class="string">åŒ¹é…HTMLæ ‡è®°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š/&lt;(.*)&gt;.*&lt;/1&gt;|&lt;(.*) /&gt;/</span></span><br><span class="line"><span class="string">sqlè¯­å¥ï¼š^(select|drop|delete|create|update|insert).*</span></span><br><span class="line"><span class="string">åŒ¹é…é¦–å°¾ç©ºæ ¼çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š(^s*)|(s*)</span></span><br><span class="line"><span class="string">åŒ¹é…Emailåœ°å€çš„æ­£åˆ™è¡¨è¾¾å¼ï¼šw+([-+.]w+)*@w+([-.]w+)*.w+([-.]w+)*</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>jsoupæ¦‚è¿°</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/jsoup%E6%A6%82%E8%BF%B0-2021-11-07%2023:01:59/</url>
    <content><![CDATA[<h1>jsoupæ¦‚è¿°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ­¤ç¯‡æ•™ç¨‹å¿…é¡»æœ€æ–°ç‰ˆç›’å­æ‰èƒ½æ­£å¸¸è¿è¡Œï¼</span><br><span class="line">jsoupæ¦‚è¿°ï¼š</span><br><span class="line">jsoupæ˜¯javaé‡Œçš„ä¸€ä¸ªæ™®éä½¿ç”¨çš„htmlè§£æå™¨ï¼Œå…¶çš„é€»è¾‘ç®€å•ï¼Œè¯­æ³•å®¹æ˜“ï¼Œä¸”åŠŸèƒ½å¼ºå¤§ã€‚</span><br><span class="line">(æ­¤ç¯‡æ•™ç¨‹æˆ‘ä¸ä¼šå†ç”¨ä¸­æ–‡å˜é‡ï¼Œä¸­æ–‡å¤ªåˆ«æ‰­ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚)</span><br><span class="line"></span><br><span class="line">ä½†androluaä¸­å¹¶æ²¡æœ‰è‡ªå¸¦è¿™ä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶å¯¼å…¥</span><br><span class="line">dexåº“ä¸‹è½½é“¾æ¥ï¼šhttp://<span class="number">47.107</span><span class="number">.34</span><span class="number">.109</span>:<span class="number">8000</span>/d/c8f7ecb09db940de9725/</span><br><span class="line">ä½¿ç”¨æ–¹æ³•ï¼šå·¥ç¨‹ç›®å½•ä¸‹åˆ›å»ºlibsç›®å½•ï¼Œå°†jsoupå¼€å¤´çš„dexæ–‡ä»¶æ”¾å…¥,åœ¨ç¨‹åºå¼€å¤´åŠ å…¥ import<span class="string">&#x27;org.jsoup.*&#x27;</span>å³å¯</span><br><span class="line"></span><br><span class="line">jsoup APIï¼š</span><br><span class="line">ä»Stringè§£ææ–‡æ¡£</span><br><span class="line">html = <span class="string">&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;First parse&lt;/title&gt;&lt;/head&gt;&quot;</span></span><br><span class="line">+ <span class="string">&quot;&lt;body&gt;&lt;p&gt;Parsed HTML into a doc.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&quot;</span></span><br><span class="line">doc = Jsoup.parse(html)</span><br><span class="line"></span><br><span class="line">è§£æä¸€ä¸ªç½‘é¡µç¢ç‰‡</span><br><span class="line">html = <span class="string">&quot;&lt;div&gt;&lt;p&gt;Lorem ipsum.&lt;/p&gt;&quot;</span></span><br><span class="line">doc = Jsoup.parseBodyFragment(html)</span><br><span class="line">body = doc.body()</span><br><span class="line"></span><br><span class="line">ä»URLåŠ è½½æ–‡æ¡£</span><br><span class="line">doc = Jsoup.connect(<span class="string">&quot;http://example.com/&quot;</span>).get()</span><br><span class="line">title = doc.title()</span><br><span class="line"></span><br><span class="line">é«˜çº§urlè¯·æ±‚</span><br><span class="line">doc = Jsoup.connect(<span class="string">&quot;http://example.com&quot;</span>)</span><br><span class="line">.data(<span class="string">&quot;query&quot;</span>, <span class="string">&quot;Java&quot;</span>)</span><br><span class="line">.userAgent(<span class="string">&quot;Mozilla&quot;</span>)</span><br><span class="line">.cookie(<span class="string">&quot;auth&quot;</span>, <span class="string">&quot;token&quot;</span>)</span><br><span class="line">.timeout(<span class="number">3000</span>)</span><br><span class="line">.post()</span><br><span class="line"></span><br><span class="line">ä»æ–‡ä»¶åŠ è½½æ–‡æ¡£</span><br><span class="line"><span class="built_in">input</span> = new File(<span class="string">&quot;/tmp/input.html&quot;</span>)</span><br><span class="line">doc = Jsoup.parse(<span class="built_in">input</span>, <span class="string">&quot;UTF-8&quot;</span>, <span class="string">&quot;http://example.com/&quot;</span>)</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨DOMæ–¹æ³•å¯¼èˆªæ–‡æ¡£</span><br><span class="line">å¯»æ‰¾å…ƒç´ </span><br><span class="line">getElementById(String id)</span><br><span class="line">getElementsByTag(String tag)</span><br><span class="line">getElementsByClass(String className)</span><br><span class="line">getElementsByAttribute(String key) ï¼ˆåŠç›¸å…³æ–¹æ³•ï¼‰</span><br><span class="line">å…ƒç´ çš„å…„å¼Ÿå§å¦¹ï¼šsiblingElements()ï¼ŒfirstElementSibling()ï¼ŒlastElementSibling()ï¼ŒnextElementSibling()ï¼ŒpreviousElementSibling()</span><br><span class="line">å›¾ï¼šparent()ï¼Œchildren()ï¼Œchild(int index)</span><br><span class="line">å…ƒç´ æ•°æ®</span><br><span class="line">attr(String key)è·å–å’Œattr(String key, String value)è®¾ç½®å±æ€§</span><br><span class="line">attributes() è·å¾—æ‰€æœ‰å±æ€§</span><br><span class="line">id()ï¼ŒclassName()å’ŒclassNames()</span><br><span class="line">text()è·å–å’Œtext(String value)è®¾ç½®æ–‡æœ¬å†…å®¹</span><br><span class="line">html()è·å–å’Œhtml(String value)è®¾ç½®å†…éƒ¨HTMLå†…å®¹</span><br><span class="line">outerHtml() è·å–å¤–éƒ¨HTMLå€¼</span><br><span class="line">data()è·å–æ•°æ®å†…å®¹ï¼ˆä¾‹å¦‚scriptå’Œstyleæ ‡ç­¾ï¼‰</span><br><span class="line">tag() å’Œ tagName()</span><br><span class="line">å¤„ç†HTMLå’Œæ–‡æœ¬</span><br><span class="line">append(String html)ï¼Œ prepend(String html)</span><br><span class="line">appendText(String text)ï¼Œ prependText(String text)</span><br><span class="line">appendElement(String tagName)ï¼Œ prependElement(String tagName)</span><br><span class="line">html(String value)</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨selector-syntaxæŸ¥æ‰¾å…ƒç´ </span><br><span class="line">é€‰æ‹©å™¨æ¦‚è¿°</span><br><span class="line">tagnameï¼šæŒ‰æ ‡ç­¾æŸ¥æ‰¾å…ƒç´ ï¼Œä¾‹å¦‚ a</span><br><span class="line">ns|tagï¼šåœ¨å‘½åç©ºé—´ä¸­æŒ‰æ ‡è®°fb|nameæŸ¥æ‰¾&lt;fb:name&gt;å…ƒç´ ï¼Œä¾‹å¦‚æŸ¥æ‰¾å…ƒç´ </span><br><span class="line">#idï¼šæŒ‰IDæŸ¥æ‰¾å…ƒç´ ï¼Œä¾‹å¦‚ #logo</span><br><span class="line">.classï¼šæŒ‰ç±»åæŸ¥æ‰¾å…ƒç´ ï¼Œä¾‹å¦‚ .masthead</span><br><span class="line">[attribute]ï¼šå…·æœ‰å±æ€§çš„å…ƒç´ ï¼Œä¾‹å¦‚ [href]</span><br><span class="line">[^attr]ï¼šå…·æœ‰å±æ€§åç§°å‰ç¼€çš„[^data-]å…ƒç´ ï¼Œä¾‹å¦‚æŸ¥æ‰¾å…·æœ‰HTML5æ•°æ®é›†å±æ€§çš„å…ƒç´ </span><br><span class="line">[attr=value]ï¼šå…·æœ‰å±æ€§å€¼çš„å…ƒç´ ï¼Œä¾‹å¦‚[width=<span class="number">500</span>]ï¼ˆä¹Ÿæ˜¯å¯å¼•ç”¨çš„[data-name=<span class="string">&#x27;launch sequence&#x27;</span>]ï¼‰</span><br><span class="line">[attr^=value]ï¼Œ[attr=value]ï¼Œ[attr*=value]ï¼šç”¨ä¸å¯åŠ¨å±æ€§ï¼Œä»¥ç»“æŸï¼Œæˆ–åŒ…å«æ‰€è¿°çš„å€¼ï¼Œä¾‹å¦‚å…ƒç´ [href*=/<span class="built_in">path</span>/]</span><br><span class="line">[attr~=regex]ï¼šå…·æœ‰ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å±æ€§å€¼çš„å…ƒç´ ; ä¾‹å¦‚img[src~=(?i).(png|jpe?g)]</span><br><span class="line">*ï¼šæ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ *</span><br><span class="line">é€‰æ‹©å™¨ç»„åˆ</span><br><span class="line">el#idï¼šå…·æœ‰IDçš„å…ƒç´ ï¼Œä¾‹å¦‚ div#logo</span><br><span class="line">el.classï¼šå¸¦æœ‰ç±»çš„å…ƒç´ ï¼Œä¾‹å¦‚ div.masthead</span><br><span class="line">el[attr]ï¼šå…·æœ‰å±æ€§çš„å…ƒç´ ï¼Œä¾‹å¦‚ a[href]</span><br><span class="line">ä»»ä½•ç»„åˆï¼Œä¾‹å¦‚ a[href].highlight</span><br><span class="line">ancestor childï¼šä»ç¥–å…ˆä¸‹é™çš„å­å…ƒç´ ï¼Œä¾‹å¦‚åœ¨ç±»â€œbodyâ€çš„å—ä¸‹çš„ä»»ä½•ä½ç½®.body pæŸ¥æ‰¾på…ƒç´ </span><br><span class="line">parent &gt; childï¼šç›´æ¥ä»çˆ¶çº§ä¸‹é™çš„å­å…ƒç´ ï¼Œä¾‹å¦‚div.content &gt; pæŸ¥æ‰¾på…ƒç´ ; å¹¶body &gt; *æ‰¾åˆ°bodyæ ‡ç­¾çš„ç›´æ¥å­èŠ‚ç‚¹</span><br><span class="line">siblingA + siblingBï¼šæ‰¾åˆ°å…„å¼ŸBå…ƒç´ ä¹‹åç´§æ¥ç€å…„å¼ŸAï¼Œä¾‹å¦‚ div.head + div</span><br><span class="line">siblingA ~ siblingXï¼šæ‰¾åˆ°å…„å¼ŸAå‰é¢çš„å…„å¼ŸXå…ƒç´ ï¼Œä¾‹å¦‚ h1 ~ p</span><br><span class="line">el, el, elï¼šå¯¹å¤šä¸ªé€‰æ‹©å™¨è¿›è¡Œåˆ†ç»„ï¼Œæ‰¾åˆ°ä¸ä»»ä½•é€‰æ‹©å™¨åŒ¹é…çš„å”¯ä¸€å…ƒç´ ; ä¾‹å¦‚div.masthead, div.logo</span><br><span class="line">ä¼ªé€‰æ‹©å™¨</span><br><span class="line">:lt(n)ï¼šæ‰¾åˆ°å…¶å…„å¼Ÿç´¢å¼•ï¼ˆå³å®ƒåœ¨DOMæ ‘ä¸­ç›¸å¯¹äºå…¶çˆ¶èŠ‚ç‚¹çš„ä½ç½®ï¼‰å°äºçš„å…ƒç´ n; ä¾‹å¦‚td:lt(<span class="number">3</span>)</span><br><span class="line">:gt(n)ï¼šæŸ¥æ‰¾å…„å¼Ÿç´¢å¼•å¤§äºçš„å…ƒç´ n; ä¾‹å¦‚div p:gt(<span class="number">2</span>)</span><br><span class="line">:eq(n)ï¼šæŸ¥æ‰¾å…„å¼Ÿç´¢å¼•ç­‰äºçš„å…ƒç´ n; ä¾‹å¦‚form <span class="built_in">input</span>:eq(<span class="number">1</span>)</span><br><span class="line">:has(selector)ï¼šæŸ¥æ‰¾åŒ…å«ä¸é€‰æ‹©å™¨åŒ¹é…çš„å…ƒç´ çš„å…ƒç´ ; ä¾‹å¦‚div:has(p)</span><br><span class="line">:<span class="keyword">not</span>(selector)ï¼šæŸ¥æ‰¾ä¸é€‰æ‹©å™¨ä¸åŒ¹é…çš„å…ƒç´ ; ä¾‹å¦‚div:<span class="keyword">not</span>(.logo)</span><br><span class="line">:contains(text)ï¼šæŸ¥æ‰¾åŒ…å«ç»™å®šæ–‡æœ¬çš„å…ƒç´ ã€‚æœç´¢ä¸åŒºåˆ†å¤§å°å†™; ä¾‹å¦‚p:contains(jsoup)</span><br><span class="line">:containsOwn(text)ï¼šæŸ¥æ‰¾ç›´æ¥åŒ…å«ç»™å®šæ–‡æœ¬çš„å…ƒç´ </span><br><span class="line">:matches(regex)ï¼šæŸ¥æ‰¾æ–‡æœ¬ä¸æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å…ƒç´ ; ä¾‹å¦‚div:matches((?i)login)</span><br><span class="line">:matchesOwn(regex)ï¼šæŸ¥æ‰¾è‡ªå·±çš„æ–‡æœ¬ä¸æŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å…ƒç´ </span><br><span class="line">æ³¨æ„ï¼Œä¸Šé¢çš„ç´¢å¼•ä¼ªé€‰æ‹©å™¨æ˜¯åŸºäº<span class="number">0</span>çš„ï¼Œå³ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ç´¢å¼•<span class="number">0</span>ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯<span class="number">1</span></span><br><span class="line"></span><br><span class="line">ä»å…ƒç´ ä¸­æå–å±æ€§ï¼Œæ–‡æœ¬å’ŒHTML</span><br><span class="line">è¦è·å–å±æ€§çš„å€¼ï¼Œè¯·ä½¿ç”¨è¯¥Node.attr(String key)æ–¹æ³•</span><br><span class="line">å¯¹äºå…ƒç´ ï¼ˆåŠå…¶ç»„åˆå­å…ƒç´ ï¼‰ä¸Šçš„æ–‡æœ¬ï¼Œè¯·ä½¿ç”¨ Element.text()</span><br><span class="line">å¯¹äºHTMLï¼Œä½¿ç”¨Element.html()æˆ–Node.outerHtml()</span><br><span class="line">ä¸Šè¿°æ–¹æ³•æ˜¯å…ƒç´ æ•°æ®è®¿é—®æ–¹æ³•çš„æ ¸å¿ƒã€‚è¿˜æœ‰å…¶ä»–äººï¼š</span><br><span class="line">Element.id()</span><br><span class="line">Element.tagName()</span><br><span class="line">Element.className() å’Œ Element.hasClass(String className)</span><br><span class="line">æ‰€æœ‰è¿™äº›è®¿é—®å™¨æ–¹æ³•éƒ½æœ‰ç›¸åº”çš„setteræ–¹æ³•æ¥æ›´æ”¹æ•°æ®ã€‚</span><br><span class="line"></span><br><span class="line">è®¾ç½®å±æ€§å€¼</span><br><span class="line">ä½¿ç”¨å±æ€§setteræ–¹æ³•Element.attr(String key, String value)ï¼Œå’ŒElements.attr(String key, String value)ã€‚</span><br><span class="line">å¦‚æœéœ€è¦ä¿®æ”¹classå…ƒç´ çš„å±æ€§ï¼Œè¯·ä½¿ç”¨Element.addClass(String className)å’ŒElement.removeClass(String className)æ–¹æ³•ã€‚</span><br><span class="line"></span><br><span class="line">è®¾ç½®å…ƒç´ çš„HTML</span><br><span class="line">div = doc.<span class="built_in">select</span>(<span class="string">&quot;div&quot;</span>).first()</span><br><span class="line">div.html(<span class="string">&quot;&lt;p&gt;lorem ipsum&lt;/p&gt;&quot;</span>)</span><br><span class="line">div.prepend(<span class="string">&quot;&lt;p&gt;First&lt;/p&gt;&quot;</span>)</span><br><span class="line">div.append(<span class="string">&quot;&lt;p&gt;Last&lt;/p&gt;&quot;</span>)</span><br><span class="line"></span><br><span class="line">Element span = doc.<span class="built_in">select</span>(<span class="string">&quot;span&quot;</span>).first()</span><br><span class="line">span.<span class="built_in">wrap</span>(<span class="string">&quot;&lt;li&gt;&lt;a href=&#x27;http://example.com/&#x27;&gt;&lt;/a&gt;&lt;/li&gt;&quot;</span>)</span><br><span class="line"></span><br><span class="line">è®¾ç½®å…ƒç´ çš„æ–‡æœ¬å†…å®¹</span><br><span class="line">Element div = doc.<span class="built_in">select</span>(<span class="string">&quot;div&quot;</span>).first()</span><br><span class="line">div.text(<span class="string">&quot;five &gt; four&quot;</span>)</span><br><span class="line">div.prepend(<span class="string">&quot;First &quot;</span>)</span><br><span class="line">div.append(<span class="string">&quot; Last&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>jsoupçˆ¬å–ç½‘é¡µæ ‡é¢˜å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/jsoup%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E6%A0%87%E9%A2%98%E5%AE%9E%E6%88%98-2021-11-07%2023:02:16/</url>
    <content><![CDATA[<h1>jsoupçˆ¬å–ç½‘é¡µæ ‡é¢˜å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¯¼å…¥jsoupåº“</span></span><br><span class="line">import<span class="string">&#x27;org.jsoup.*&#x27;</span></span><br><span class="line"><span class="comment">--å®šä¹‰é“¾æ¥</span></span><br><span class="line">url = <span class="string">&#x27;http://dh.hfybbs.vip&#x27;</span></span><br><span class="line"><span class="comment">--è¿™é‡Œä½¿ç”¨Httpæ–¹æ³•å…ˆè·å–åˆ°ç½‘é¡µæºç å†è§£æã€‚</span></span><br><span class="line"><span class="comment">--å› ä¸ºjsoupè‡ªå¸¦çš„connectæ–¹æ³•æ˜¯åŒæ­¥åŠ è½½ï¼Œä¼šå½±å“ç¨‹åºåŠ è½½é€Ÿåº¦</span></span><br><span class="line">Http.get(url,<span class="function"><span class="keyword">function</span><span class="params">(code,content)</span></span></span><br><span class="line">  <span class="keyword">if</span> code==<span class="number">200</span> <span class="keyword">then</span><span class="comment">--åˆ¤æ–­ç½‘ç«™çŠ¶æ€</span></span><br><span class="line">    doc = Jsoup.parse(content)<span class="comment">--ä½¿ç”¨jsoupè§£æç½‘é¡µ</span></span><br><span class="line">    <span class="built_in">print</span>(doc.title())<span class="comment">--ä½¿ç”¨jsoupæ–¹æ³•è·å–åˆ°ç½‘é¡µæ ‡é¢˜</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æ— æ³•è®¿é—®&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ“å–aj axæ•°æ®å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E6%8A%93%E5%8F%96aj%20ax%E6%95%B0%E6%8D%AE%E5%AE%9E%E6%88%98-2021-11-07%2023:03:23/</url>
    <content><![CDATA[<h1>æŠ“å–aj axæ•°æ®å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œä¸ºæ•™ç¨‹æä¾›è‰¯å¥½çš„å¯è§†åŒ–</span></span><br><span class="line"><span class="comment">--å¯¼å…¥cjsonåŒ…</span></span><br><span class="line">import<span class="string">&#x27;cjson&#x27;</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  &#123;</span><br><span class="line">    ScrollView;<span class="comment">--çºµå‘æ»šåŠ¨</span></span><br><span class="line">    layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å®½</span></span><br><span class="line">    layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--é«˜</span></span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">      Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">      layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">      layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">      background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">      gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--è®¾ç½®å±…ä¸­</span></span><br><span class="line">      &#123;</span><br><span class="line">        TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">        id=<span class="string">&#x27;æ–‡æœ¬&#x27;</span>;<span class="comment">--ç»‘å®šID</span></span><br><span class="line">        layout_margin=<span class="string">&#x27;5%w&#x27;</span>;<span class="comment">--å¸ƒå±€å¤–è¾¹è·</span></span><br><span class="line">        layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">        layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">        Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">        textColor=<span class="string">&#x27;#000000&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">        text=<span class="string">&#x27;çˆ¬å–å†…å®¹ä¸­&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">        textSize=<span class="string">&#x27;18sp&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--å°†å¸ƒå±€æ·»åŠ è‡³çª—å£</span></span><br><span class="line"><span class="comment">--è®¾ç½®éœ€è¦çˆ¬å–çš„ç½‘ç«™ï¼Œå¯ä»¥éšæ„æ›´æ¢</span></span><br><span class="line"><span class="comment">--è¿™ä¸ªé“¾æ¥æ˜¯ç™¾åº¦çƒ­æœçš„æ¥å£</span></span><br><span class="line">url = <span class="string">&#x27;https://www.anyknew.com/api/v1/sites/baidu&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨Httpè®¿é—®è¯¥ç½‘ç«™ï¼Œè·å–ç½‘é¡µæºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­è¿”å›çŠ¶æ€ç ï¼Œç¡®å®šç½‘ç«™çš„æ­£å¸¸è¿è¡Œ</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç  ==<span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--ä½¿ç”¨cjsonåº“å°†è·å–åˆ°çš„jsonæ•°æ®tableåŒ–</span></span><br><span class="line">    æ•°æ® = cjson.decode(ç½‘é¡µæºç )</span><br><span class="line">    <span class="comment">--å–å‡ºéœ€è¦çš„æ•°æ®</span></span><br><span class="line">    æ•°æ®åˆ—è¡¨ = æ•°æ®.data.site.subs[<span class="number">1</span>].items</span><br><span class="line">    <span class="comment">--å®šä¹‰ä¸€ä¸ªç©ºæ–‡æœ¬ç”¨äºæ˜¾ç¤ºæ•°æ®</span></span><br><span class="line">    æ ‡é¢˜ = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="comment">--éå†çˆ¬å–åˆ°çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(æ•°æ®åˆ—è¡¨) <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--å°†æ•°æ®é€ä¸ªå–å‡ºï¼Œç´¯åŠ è¿›å­—ç¬¦ä¸²è¿›è¡Œæ˜¾ç¤º</span></span><br><span class="line">      æ ‡é¢˜ =æ ‡é¢˜.. <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&#x27;æ ‡é¢˜%dï¼š%s&#x27;</span>,k,v.title)..<span class="string">&#x27;n&#x27;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--è®¾ç½®æ–‡æœ¬æ˜¾ç¤ºï¼Œæ˜¾ç¤ºçˆ¬å–æ•ˆæœ</span></span><br><span class="line">    æ–‡æœ¬.setText(æ ‡é¢˜)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    æ–‡æœ¬.setText(<span class="string">&#x27;è·å–å†…å®¹å¤±è´¥&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™ä½¿ç”¨</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E6%AD%A3%E5%88%99%E4%BD%BF%E7%94%A8-2021-11-07%2023:02:35/</url>
    <content><![CDATA[<h1>æ­£åˆ™ä½¿ç”¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">.(ç‚¹): ä¸ä»»ä½•å­—ç¬¦é…å¯¹</span><br><span class="line">%a: ä¸ä»»ä½•å­—æ¯é…å¯¹</span><br><span class="line">%c: ä¸ä»»ä½•æ§åˆ¶ç¬¦é…å¯¹(ä¾‹å¦‚n)</span><br><span class="line">%d: ä¸ä»»ä½•æ•°å­—é…å¯¹</span><br><span class="line">%l: ä¸ä»»ä½•å°å†™å­—æ¯é…å¯¹</span><br><span class="line">%p: ä¸ä»»ä½•æ ‡ç‚¹(punctuation)é…å¯¹</span><br><span class="line">%s: ä¸ç©ºç™½å­—ç¬¦é…å¯¹</span><br><span class="line">%u: ä¸ä»»ä½•å¤§å†™å­—æ¯é…å¯¹</span><br><span class="line">%w: ä¸ä»»ä½•å­—æ¯/æ•°å­—é…å¯¹</span><br><span class="line">%x: ä¸ä»»ä½•åå…­è¿›åˆ¶æ•°é…å¯¹</span><br><span class="line">%z: ä¸ä»»ä½•ä»£è¡¨<span class="number">0</span>çš„å­—ç¬¦é…å¯¹</span><br><span class="line">%x(æ­¤å¤„xæ˜¯éå­—æ¯éæ•°å­—å­—ç¬¦): ä¸å­—ç¬¦xé…å¯¹. ä¸»è¦ç”¨æ¥å¤„ç†è¡¨è¾¾å¼ä¸­æœ‰åŠŸèƒ½çš„å­—ç¬¦(^()%.[]*+-?)çš„é…å¯¹é—®é¢˜, ä¾‹å¦‚%%ä¸%é…å¯¹[æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•[]ä¸­åŒ…å«çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[%w_]ä¸ä»»ä½•å­—æ¯/æ•°å­—, æˆ–ä¸‹åˆ’çº¿ç¬¦å·(_)é…å¯¹[^æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•ä¸åŒ…å«åœ¨[]ä¸­çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[^%s]ä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹</span><br><span class="line"></span><br><span class="line">å½“ä¸Šè¿°çš„å­—ç¬¦ç±»ç”¨å¤§å†™ä¹¦å†™æ—¶, è¡¨ç¤ºä¸éæ­¤å­—ç¬¦ç±»çš„ä»»ä½•å­—ç¬¦é…å¯¹. ä¾‹å¦‚, %Sè¡¨ç¤ºä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹.</span><br><span class="line"></span><br><span class="line">%a  æ˜ŸæœŸç®€å†™</span><br><span class="line">%A  æ˜ŸæœŸå¤§å†™</span><br><span class="line">%b  æœˆä»½ç®€å†™</span><br><span class="line">%B  æœˆä»½å¤§å†™</span><br><span class="line">%c  æ—¥æœŸæ—¶é—´</span><br><span class="line">%d  æœˆä»½å¤©æ•°</span><br><span class="line">%H  å°æ—¶[<span class="number">24</span>è¿›åˆ¶]</span><br><span class="line">%I  å°æ—¶[<span class="number">12</span>è¿›åˆ¶]</span><br><span class="line">%j  å¹´ä¸­ç¬¬å‡ å¤©</span><br><span class="line">%m  æœˆä»½</span><br><span class="line">%M åˆ†é’Ÿ</span><br><span class="line">%p  amæˆ–pm</span><br><span class="line">%S  ç§’æ•°</span><br><span class="line">%w  æ˜ŸæœŸ</span><br><span class="line">%W  ç¬¬å‡ å‘¨</span><br><span class="line">%x  æ—¥æœŸ</span><br><span class="line">%X  æ—¶é—´</span><br><span class="line">%y  ä¸¤ä½æ•°çš„æœˆä»½</span><br><span class="line">%Y å®Œæ•´çš„æœˆä»½</span><br><span class="line">%z  æ—¶åŒº</span><br><span class="line">%% ç™¾åˆ†å·</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">%c - æ¥å—ä¸€ä¸ªæ•°å­—, å¹¶å°†å…¶è½¬åŒ–ä¸ºASCIIç è¡¨ä¸­å¯¹åº”çš„å­—ç¬¦</span><br><span class="line">%d, %i - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæœ‰ç¬¦å·çš„æ•´æ•°æ ¼å¼</span><br><span class="line">%o - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºå…«è¿›åˆ¶æ•°æ ¼å¼</span><br><span class="line">%u - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæ— ç¬¦å·æ•´æ•°æ ¼å¼</span><br><span class="line">%x - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯</span><br><span class="line">%X - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯</span><br><span class="line">%e - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯e</span><br><span class="line">%E - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯E</span><br><span class="line">%f - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°æ ¼å¼</span><br><span class="line">%g(%G) - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸º%e(%E, å¯¹åº”%G)åŠ%fä¸­è¾ƒçŸ­çš„ä¸€ç§æ ¼å¼</span><br><span class="line">%q - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶å°†å…¶è½¬åŒ–ä¸ºå¯å®‰å…¨è¢«Luaç¼–è¯‘å™¨è¯»å…¥çš„æ ¼å¼</span><br><span class="line">%s - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶æŒ‰ç…§ç»™å®šçš„å‚æ•°æ ¼å¼åŒ–è¯¥å­—ç¬¦ä¸²</span><br><span class="line">ä¸ºè¿›ä¸€æ­¥ç»†åŒ–æ ¼å¼, å¯ä»¥åœ¨%å·åæ·»åŠ å‚æ•°. å‚æ•°å°†ä»¥å¦‚ä¸‹çš„é¡ºåºè¯»å…¥:</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>) ç¬¦å·: ä¸€ä¸ª+å·è¡¨ç¤ºå…¶åçš„æ•°å­—è½¬ä¹‰ç¬¦å°†è®©æ­£æ•°æ˜¾ç¤ºæ­£å·. é»˜è®¤æƒ…å†µä¸‹åªæœ‰è´Ÿæ•°æ˜¾ç¤ºç¬¦å·.</span><br><span class="line">(<span class="number">2</span>) å ä½ç¬¦: ä¸€ä¸ª<span class="number">0</span>, åœ¨åé¢æŒ‡å®šäº†å­—ä¸²å®½åº¦æ—¶å ä½ç”¨. ä¸å¡«æ—¶çš„é»˜è®¤å ä½ç¬¦æ˜¯ç©ºæ ¼.</span><br><span class="line">(<span class="number">3</span>) å¯¹é½æ ‡è¯†: åœ¨æŒ‡å®šäº†å­—ä¸²å®½åº¦æ—¶, é»˜è®¤ä¸ºå³å¯¹é½, å¢åŠ -å·å¯ä»¥æ”¹ä¸ºå·¦å¯¹é½.</span><br><span class="line">(<span class="number">4</span>) å®½åº¦æ•°å€¼</span><br><span class="line">(<span class="number">5</span>) å°æ•°ä½æ•°/å­—ä¸²è£åˆ‡: åœ¨å®½åº¦æ•°å€¼åå¢åŠ çš„å°æ•°éƒ¨åˆ†n, è‹¥åæ¥f(æµ®ç‚¹æ•°è½¬ä¹‰ç¬¦, å¦‚%<span class="number">6.3</span>f)åˆ™è®¾å®šè¯¥æµ®ç‚¹æ•°çš„å°æ•°åªä¿ç•™nä½, è‹¥åæ¥s(å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦, å¦‚%<span class="number">5.3</span>s)åˆ™è®¾å®šè¯¥å­—ç¬¦ä¸²åªæ˜¾ç¤ºå‰nä½.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å®ä¾‹</span><br><span class="line">string1 = <span class="string">&quot;Lua&quot;</span></span><br><span class="line">string2 = <span class="string">&quot;Tutorial&quot;</span></span><br><span class="line">number1 = <span class="number">10</span></span><br><span class="line">number2 = <span class="number">20</span></span><br><span class="line"><span class="comment">-- åŸºæœ¬å­—ç¬¦ä¸²æ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;åŸºæœ¬æ ¼å¼åŒ– %s %s&quot;</span>,string1,string2))</span><br><span class="line"><span class="comment">-- æ—¥æœŸæ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">date</span> = <span class="number">2</span>; month = <span class="number">1</span>; year = <span class="number">2014</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;æ—¥æœŸæ ¼å¼åŒ– %02d/%02d/%03d&quot;</span>, <span class="built_in">date</span>, month, year))</span><br><span class="line"><span class="comment">-- åè¿›åˆ¶æ ¼å¼åŒ–</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%.4f&quot;</span>,<span class="number">1</span>/<span class="number">3</span>))</span><br><span class="line">ä»¥ä¸Šä»£ç æ‰§è¡Œç»“æœä¸ºï¼š</span><br><span class="line"></span><br><span class="line">åŸºæœ¬æ ¼å¼åŒ– Lua Tutorial</span><br><span class="line">æ—¥æœŸæ ¼å¼åŒ– <span class="number">02</span>/<span class="number">01</span>/<span class="number">2014</span></span><br><span class="line"><span class="number">0.3333</span></span><br><span class="line">å…¶ä»–ä¾‹å­ï¼š</span><br><span class="line"></span><br><span class="line">å®ä¾‹</span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%c&quot;</span>, <span class="number">83</span>)                 <span class="comment">-- è¾“å‡ºS</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%+d&quot;</span>, <span class="number">17.0</span>)              <span class="comment">-- è¾“å‡º+17</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%05d&quot;</span>, <span class="number">17</span>)               <span class="comment">-- è¾“å‡º00017</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%o&quot;</span>, <span class="number">17</span>)                 <span class="comment">-- è¾“å‡º21</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%u&quot;</span>, <span class="number">3.14</span>)               <span class="comment">-- è¾“å‡º3</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%x&quot;</span>, <span class="number">13</span>)                 <span class="comment">-- è¾“å‡ºd</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%X&quot;</span>, <span class="number">13</span>)                 <span class="comment">-- è¾“å‡ºD</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%e&quot;</span>, <span class="number">1000</span>)               <span class="comment">-- è¾“å‡º1.000000e+03</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%E&quot;</span>, <span class="number">1000</span>)               <span class="comment">-- è¾“å‡º1.000000E+03</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%6.3f&quot;</span>, <span class="number">13</span>)              <span class="comment">-- è¾“å‡º13.000</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, <span class="string">&quot;OnenTwo&quot;</span>)         <span class="comment">-- è¾“å‡º&quot;One</span></span><br><span class="line">                                        <span class="comment">-- ã€€ã€€Two&quot;</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)           <span class="comment">-- è¾“å‡ºmonkey</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%10s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)         <span class="comment">-- è¾“å‡º    monkey</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%5.3s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)        <span class="comment">-- è¾“å‡º  mon</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬å–Fusion Clubè®ºå›å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E7%88%AC%E5%8F%96Fusion%20Club%E8%AE%BA%E5%9D%9B%E5%AE%9E%E6%88%98-2021-11-07%2023:03:48/</url>
    <content><![CDATA[<h1>çˆ¬å–Fusion Clubè®ºå›å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œä¸ºæ•™ç¨‹æä¾›è‰¯å¥½çš„å¯è§†åŒ–</span></span><br><span class="line"><span class="comment">--åšä¸€ä¸ªçˆ¬è™«ï¼Œå‰æœŸçš„åˆ†æç½‘é¡µå·¥ä½œéœ€è¦åšå¥½</span></span><br><span class="line"><span class="comment">--æ˜ç¡®ç›®æ ‡ï¼Œæ˜ç™½åªéœ€è¦å“ªäº›æ•°æ®ï¼Œä»¥åŠå¦‚ä½•å¤„ç†æ•°æ®</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  &#123;</span><br><span class="line">    ScrollView;<span class="comment">--çºµå‘æ»šåŠ¨</span></span><br><span class="line">    layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å®½</span></span><br><span class="line">    layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--é«˜</span></span><br><span class="line">    &#123;</span><br><span class="line">      TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">      id=<span class="string">&#x27;æ˜¾ç¤ºæ–‡æœ¬&#x27;</span>;<span class="comment">--ç»‘å®šID</span></span><br><span class="line">      layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">      layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">      Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">      textColor=<span class="string">&#x27;#000000&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">      text=<span class="string">&#x27;çˆ¬å–ä¸­...&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">      textSize=<span class="string">&#x27;16sp&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--å°†å¸ƒå±€æ·»åŠ è‡³çª—å£</span></span><br><span class="line"></span><br><span class="line">url=<span class="string">&quot;https://yum5.cn&quot;</span><span class="comment">--è®ºå›ç½‘å€</span></span><br><span class="line"><span class="comment">--HTTPè¯·æ±‚ç½‘é¡µæºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­ç½‘ç«™çš„è®¿é—®æƒ…å†µ</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç  == <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--è·å–åˆ°å¸–å­æ ‡é¢˜æ•°æ®</span></span><br><span class="line">    å¸–å­æ ‡é¢˜è¿­ä»£å™¨ = ç½‘é¡µæºç :<span class="built_in">gmatch</span>(<span class="string">&#x27;&lt;a href=&quot;thread.-htm&quot;&gt;(.-)&lt;/a&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment">--åˆ›å»ºå¸–å­æ ‡é¢˜è¡¨</span></span><br><span class="line">    å¸–å­æ ‡é¢˜ = &#123;&#125;</span><br><span class="line">    <span class="comment">--éå†å¸–å­æ ‡é¢˜æ•°æ®ï¼Œå°†æ•°æ®å­˜å…¥è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> å¸–å­æ ‡é¢˜è¿­ä»£å™¨ <span class="keyword">do</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">insert</span>(å¸–å­æ ‡é¢˜,i)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--è·å–å¸–å­é“¾æ¥æ•°æ®</span></span><br><span class="line">    å¸–å­é“¾æ¥è¿­ä»£å™¨ = ç½‘é¡µæºç :<span class="built_in">gmatch</span>(<span class="string">&#x27;&lt;a href=&quot;(thread.-htm)&quot;&gt;.-&lt;/a&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment">--åˆ›å»ºå¸–å­é“¾æ¥è¡¨</span></span><br><span class="line">    å¸–å­é“¾æ¥ = &#123;&#125;</span><br><span class="line">    <span class="comment">--éå†å¸–å­é“¾æ¥æ•°æ®ï¼Œå°†å…¶å­˜å…¥è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> å¸–å­é“¾æ¥è¿­ä»£å™¨ <span class="keyword">do</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">insert</span>(å¸–å­é“¾æ¥,i)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--å®šä¹‰ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œåé¢å°†æ•°æ®å±•ç¤ºåˆ°å¸ƒå±€</span></span><br><span class="line">    çˆ¬å–å†…å®¹ = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="comment">--éå†æ‰€æœ‰æ•°æ®</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>,#å¸–å­æ ‡é¢˜ <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--ç´¯åŠ å­—ç¬¦ä¸²ï¼Œä½¿æ˜¾ç¤ºæ•ˆæœè‰¯å¥½</span></span><br><span class="line">      çˆ¬å–å†…å®¹ = çˆ¬å–å†…å®¹..<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&#x27;å¸–å­æ ‡é¢˜ï¼š%snå¸–å­é“¾æ¥ï¼šhttps://yum5.cn/%sn&#x27;</span>,å¸–å­æ ‡é¢˜[i],å¸–å­é“¾æ¥[i])</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--å°†æ•°æ®æ˜¾ç¤º</span></span><br><span class="line">    æ˜¾ç¤ºæ–‡æœ¬.setText(çˆ¬å–å†…å®¹)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    æ˜¾ç¤ºæ–‡æœ¬.setText(<span class="string">&#x27;ç½‘ç«™æ— æ³•è®¿é—®&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬å–ipä¸åœ°ç†ä½ç½®å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E7%88%AC%E5%8F%96ip%E4%B8%8E%E5%9C%B0%E7%90%86%E4%BD%8D%E7%BD%AE%E5%AE%9E%E6%88%98-2021-11-07%2023:04:13/</url>
    <content><![CDATA[<h1>çˆ¬å–ipä¸åœ°ç†ä½ç½®å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºå¸ƒå±€ï¼Œæ˜¾ç¤ºçˆ¬å–æ•ˆæœ</span></span><br><span class="line">shamrock=</span><br><span class="line"><span class="comment">--å¸ƒå±€è¯·å†™åœ¨è¿™é‡Œ</span></span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  Gravity=<span class="string">&quot;center&quot;</span>;<span class="comment">--è®¾ç½®å±…ä¸­</span></span><br><span class="line">  &#123;</span><br><span class="line">    TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">    id=<span class="string">&quot;æ˜¾ç¤ºæ–‡æœ¬&quot;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">    layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">    Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">    textColor=<span class="string">&#x27;#000000&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">    text=<span class="string">&#x27;æ­£åœ¨æŸ¥è¯¢ä¸­&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">    textSize=<span class="string">&#x27;16sp&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--å°†å¸ƒå±€æ·»åŠ è‡³çª—å£</span></span><br><span class="line">url=<span class="string">&quot;https://ip.cn/&quot;</span><span class="comment">--è®¾ç½®çˆ¬å–é“¾æ¥</span></span><br><span class="line"><span class="comment">--è®¾ç½®çˆ¬å–è¯·æ±‚å¤´</span></span><br><span class="line">header=&#123;</span><br><span class="line">  [<span class="string">&quot;User-Agent&quot;</span>]= <span class="string">&quot;Mozilla/5.0 (Linux; U; Android 2.3.7; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--è¯·æ±‚ç½‘é¡µæºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&quot;utf8&quot;</span>,header,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­ç½‘ç«™çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç ==<span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--æ ¹æ®ç½‘é¡µï¼Œåˆ†æå‡ºç­›é€‰è§„åˆ™</span></span><br><span class="line">    ipåœ°å€=ç½‘é¡µæºç :<span class="built_in">match</span>(<span class="string">&#x27;æ‚¨ç°åœ¨çš„ IPï¼š&lt;code&gt;(.-)&lt;/code&gt;&#x27;</span>)</span><br><span class="line">    åœ°ç†ä½ç½®=ç½‘é¡µæºç :<span class="built_in">match</span>(<span class="string">&#x27;æ‰€åœ¨åœ°ç†ä½ç½®ï¼š&lt;code&gt;(.-)&lt;/code&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment">--è®¾ç½®æ–‡æœ¬è¿›è¡Œæ˜¾ç¤º</span></span><br><span class="line">    æ–‡æœ¬=<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;æ‚¨ç°åœ¨çš„ IPï¼š%snæ‚¨æ‰€åœ¨åœ°ç†ä½ç½®ï¼š%s&quot;</span>,ipåœ°å€,åœ°ç†ä½ç½®)</span><br><span class="line">    æ˜¾ç¤ºæ–‡æœ¬.setText(æ–‡æœ¬)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    æ˜¾ç¤ºæ–‡æœ¬.setText(<span class="string">&quot;ç½‘ç«™æ— æ³•è®¿é—®&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬å–å¿…åº”å£çº¸å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E7%88%AC%E5%8F%96%E5%BF%85%E5%BA%94%E5%A3%81%E7%BA%B8%E5%AE%9E%E6%88%98-2021-11-07%2023:04:39/</url>
    <content><![CDATA[<h1>çˆ¬å–å¿…åº”å£çº¸å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºå¸ƒå±€ï¼Œç”¨äºæ˜¾ç¤ºçˆ¬å–çš„å›¾ç‰‡</span></span><br><span class="line"><span class="comment">--ç”±äºè€ƒè™‘åˆ°å­¦ä¹ æˆæœ¬çš„é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘æ²¡æœ‰ç”¨é€‚é…å™¨å†™å›¾ç‰‡å±•ç¤º</span></span><br><span class="line"><span class="comment">--ç”¨äº†è¾ƒç®€å•çš„å¾ªç¯æ·»åŠ å¸ƒå±€</span></span><br><span class="line"><span class="comment">--æç¤º:å›¾ç‰‡çˆ¬è™«æ˜¾ç¤ºè¾ƒåƒæ€§èƒ½ï¼Œæ‰€ä»¥æœ¬æ•™ç¨‹å¯èƒ½å¯¼è‡´ç¨‹åºé—ªé€€ã€‚</span></span><br><span class="line"><span class="comment">--ç”±äºç½‘ç«™å’Œå¾ªç¯å¸ƒå±€åŸå› ï¼Œæ‰€ä»¥çˆ¬å–ä¼šæ¯”è¾ƒæ…¢ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  &#123;</span><br><span class="line">    ScrollView;<span class="comment">--çºµå‘æ»šåŠ¨</span></span><br><span class="line">    layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å®½</span></span><br><span class="line">    layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--é«˜</span></span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">      id=<span class="string">&quot;å£çº¸&quot;</span>;<span class="comment">--ç»‘å®šID</span></span><br><span class="line">      Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">      layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">      layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">      background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--å°†å¸ƒå±€æ·»åŠ è‡³çª—å£</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç­‰å¾…çª—å£æç¤º</span></span><br><span class="line">dialog3 = ProgressDialog.show(this, <span class="string">&quot;æç¤º&quot;</span>, <span class="string">&quot;æ­£åœ¨çˆ¬å–ä¸­&quot;</span>,<span class="literal">false</span>, <span class="literal">false</span>)</span><br><span class="line"><span class="comment">--å°†ç­‰å¾…çª—å£ç¾åŒ–(è®¾ç½®åœ†è§’)</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.GradientDrawable&quot;</span></span><br><span class="line"><span class="keyword">local</span> radiu=<span class="number">25</span></span><br><span class="line">dialog3.getWindow().setBackgroundDrawable(GradientDrawable().setCornerRadii(&#123;radiu,radiu,radiu,radiu,radiu,radiu,radiu,radiu&#125;).setColor(<span class="number">0xffffffff</span>))</span><br><span class="line"><span class="comment">--å®šä¹‰çˆ¬å–é“¾æ¥</span></span><br><span class="line">url=<span class="string">&quot;https://bing.ioliu.cn/&quot;</span></span><br><span class="line"><span class="comment">--Httpè¯·æ±‚æºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&quot;utf8&quot;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--ç­‰å¾…çª—å£éšè—</span></span><br><span class="line">  dialog3.hide()</span><br><span class="line">  <span class="comment">--åˆ¤æ–­çŠ¶æ€ç ï¼Œç¡®è®¤ç½‘ç«™å¯è®¿é—®</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç ==<span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--ç­›é€‰å›¾ç‰‡é“¾æ¥æ•°æ®</span></span><br><span class="line">    å›¾ç‰‡é“¾æ¥è¿­ä»£å™¨=ç½‘é¡µæºç :<span class="built_in">gmatch</span>(<span class="string">&#x27;src=&quot;(https://h1.ioliu.cn/bing/.-jpg)&quot;&#x27;</span>)</span><br><span class="line">    <span class="comment">--åˆ›å»ºå›¾ç‰‡é“¾æ¥è¡¨ï¼Œç”¨äºå­˜å‚¨æŠ“å–åˆ°çš„å›¾ç‰‡é“¾æ¥</span></span><br><span class="line">    å›¾ç‰‡é“¾æ¥=&#123;&#125;</span><br><span class="line">    <span class="comment">--è¿­ä»£æŠ“å–åˆ°çš„å›¾ç‰‡é“¾æ¥</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> å›¾ç‰‡é“¾æ¥è¿­ä»£å™¨ <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--å°†å›¾ç‰‡é“¾æ¥å­˜å…¥è¡¨ä¸­</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">insert</span>(å›¾ç‰‡é“¾æ¥,i)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--éå†å›¾ç‰‡é“¾æ¥è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(å›¾ç‰‡é“¾æ¥) <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--åˆ›å»ºå¸ƒå±€ï¼Œç”¨äºæ˜¾ç¤ºæ¯ä¸€å¼ å›¾ç‰‡</span></span><br><span class="line">      å•å¼ å£çº¸=&#123;</span><br><span class="line">        LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">        Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">        layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">        layout_height=<span class="string">&#x27;50%w&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">        background=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">        Gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          CardView;<span class="comment">--å¡ç‰‡æ§ä»¶</span></span><br><span class="line">          layout_margin=<span class="string">&#x27;10&#x27;</span>;<span class="comment">--å¡ç‰‡è¾¹è·</span></span><br><span class="line">          layout_gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">          Elevation=<span class="string">&#x27;0&#x27;</span>;<span class="comment">--é˜´å½±å±æ€§</span></span><br><span class="line">          layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¡ç‰‡å®½åº¦</span></span><br><span class="line">          layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¡ç‰‡é«˜åº¦</span></span><br><span class="line">          radius=<span class="string">&#x27;20&#x27;</span>;<span class="comment">--å¡ç‰‡åœ†è§’</span></span><br><span class="line">          CardBackgroundColor=<span class="string">&#x27;&#x27;</span>;<span class="comment">--å¡ç‰‡èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">          &#123;</span><br><span class="line">            ImageView;<span class="comment">--å›¾ç‰‡æ§ä»¶</span></span><br><span class="line">            id=<span class="string">&quot;å›¾ç‰‡&quot;</span>;</span><br><span class="line">            src=<span class="string">&quot;&quot;</span>;<span class="comment">--å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">            layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å›¾ç‰‡å®½åº¦</span></span><br><span class="line">            layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å›¾ç‰‡é«˜åº¦</span></span><br><span class="line">            layout_gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">      <span class="comment">--å°†å¸ƒå±€æ·»åŠ è‡³ä¸»å¸ƒå±€</span></span><br><span class="line">      å£çº¸.addView(loadlayout(å•å¼ å£çº¸))</span><br><span class="line">      <span class="comment">--è®¾ç½®åœ¨çº¿å›¾ç‰‡æ˜¾ç¤º</span></span><br><span class="line">      å›¾ç‰‡.setImageBitmap(LuaBitmap.getHttpBitmap(v))</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ— æ³•è®¿é—®&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>çˆ¬å–ç½‘é¡µåˆ†ç±»å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E7%88%AC%E5%8F%96%E7%BD%91%E9%A1%B5%E5%88%86%E7%B1%BB%E5%AE%9E%E6%88%98-2021-11-07%2023:04:59/</url>
    <content><![CDATA[<h1>çˆ¬å–ç½‘é¡µåˆ†ç±»å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œä¸ºæ•™ç¨‹æä¾›è‰¯å¥½çš„å¯è§†åŒ–</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--è®¾ç½®å±…ä¸­</span></span><br><span class="line">  &#123;</span><br><span class="line">    TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">    id=<span class="string">&#x27;æ–‡æœ¬&#x27;</span>;<span class="comment">--ç»‘å®šID</span></span><br><span class="line">    layout_margin=<span class="string">&#x27;5%w&#x27;</span>;<span class="comment">--å¸ƒå±€å¤–è¾¹è·</span></span><br><span class="line">    layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">    Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">    textColor=<span class="string">&#x27;#000000&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">    text=<span class="string">&#x27;çˆ¬å–å†…å®¹ä¸­&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">    textSize=<span class="string">&#x27;18sp&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))</span><br><span class="line"><span class="comment">--è®¾ç½®éœ€è¦çˆ¬å–çš„ç½‘ç«™ï¼Œå¯ä»¥éšæ„æ›´æ¢</span></span><br><span class="line">url = <span class="string">&#x27;http://dh.hfybbs.vip/cn/index.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨Httpè®¿é—®è¯¥ç½‘ç«™ï¼Œè·å–ç½‘é¡µæºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­è¿”å›çŠ¶æ€ç ï¼Œç¡®å®šç½‘ç«™çš„æ­£å¸¸è¿è¡Œ</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç  ==<span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--åˆ†æç½‘é¡µæºç ï¼Œä½¿ç”¨gmatchç­›é€‰å‡ºæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å†…å®¹ï¼Œgamtchè¿”å›çš„æ˜¯è¿­ä»£å™¨</span></span><br><span class="line">    ç½‘é¡µæ¡†æ¶ = ç½‘é¡µæºç :<span class="built_in">gmatch</span>(<span class="string">&#x27;&lt;ul.-&gt;(.-)&lt;/ul&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment">--å®šä¹‰ä¸€ä¸ªç©ºè¡¨ï¼Œç”¨æ¥å­˜å‚¨è·å–çš„ç½‘é¡µæ•°æ®</span></span><br><span class="line">    ç½‘é¡µæ¡†æ¶è¡¨ = &#123;&#125;</span><br><span class="line">    <span class="comment">--å°†gmatchå‡½æ•°è¿”å›çš„è¿­ä»£å™¨è¿›è¡Œéå†ï¼Œå–å‡ºæ•°æ®ï¼Œç„¶åå­˜è¿›ç½‘é¡µæ¡†æ¶è¡¨è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> ç½‘é¡µæ¡†æ¶ <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--åˆ¤æ–­æ˜¯å¦å¯ä»¥ç­›é€‰éœ€è¦çˆ¬å–çš„å†…å®¹ï¼Œå¯ä»¥æ‰å­˜æ”¾è¿›ç½‘é¡µæ¡†æ¶è¡¨</span></span><br><span class="line">      <span class="keyword">if</span> i:<span class="built_in">match</span>(<span class="string">&#x27;&lt;span.-&gt;(.-)&lt;/span&gt;&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">table</span>.<span class="built_in">insert</span>(ç½‘é¡µæ¡†æ¶è¡¨,i:<span class="built_in">match</span>(<span class="string">&#x27;&lt;span.-&gt;(.-)&lt;/span&gt;&#x27;</span>))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--å®šä¹‰ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œç”¨äºæ˜¾ç¤ºæ•ˆæœ</span></span><br><span class="line">    æ˜¾ç¤ºæ–‡æœ¬ = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="comment">--éå†è¡¨ï¼Œå°†çˆ¬å–åˆ°çš„æ•°æ®å–å‡º</span></span><br><span class="line">    <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(ç½‘é¡µæ¡†æ¶è¡¨) <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--ç´¯åŠ æ–‡æœ¬ï¼Œå°†è¡¨å†…æ•°æ®å½¢æˆå¯è§†åŒ–</span></span><br><span class="line">      æ˜¾ç¤ºæ–‡æœ¬=æ˜¾ç¤ºæ–‡æœ¬..<span class="string">&#x27;n&#x27;</span>..<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&#x27;åˆ†ç±»%dï¼š%s&#x27;</span>,k,v)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--è®¾ç½®æ–‡æœ¬æ˜¾ç¤ºï¼Œæ˜¾ç¤ºçˆ¬å–æ•ˆæœ</span></span><br><span class="line">    æ–‡æœ¬.setText(æ˜¾ç¤ºæ–‡æœ¬)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    æ–‡æœ¬.setText(<span class="string">&#x27;è·å–å†…å®¹å¤±è´¥&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¿»é¡µçˆ¬å–è®ºå›å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E7%BF%BB%E9%A1%B5%E7%88%AC%E5%8F%96%E8%AE%BA%E5%9D%9B%E5%AE%9E%E6%88%98-2021-11-07%2023:05:21/</url>
    <content><![CDATA[<h1>ç¿»é¡µçˆ¬å–è®ºå›å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºå¸ƒå±€ï¼Œç”¨äºæ˜¾ç¤ºçˆ¬å–æ•ˆæœ</span></span><br><span class="line"><span class="comment">--ç¿»é¡µçˆ¬å–çš„æ€è·¯æ˜¯ï¼š</span></span><br><span class="line"><span class="comment">--è·å–ç½‘é¡µçš„ç¿»é¡µæ‰€æœ‰é“¾æ¥ï¼Œç„¶åå¾ªç¯è¯·æ±‚çˆ¬å–</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  &#123;</span><br><span class="line">    ScrollView;<span class="comment">--çºµå‘æ»šåŠ¨</span></span><br><span class="line">    layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å®½</span></span><br><span class="line">    layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--é«˜</span></span><br><span class="line">    &#123;</span><br><span class="line">      TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">      id=<span class="string">&#x27;æ˜¾ç¤ºæ–‡æœ¬&#x27;</span>;<span class="comment">--ç»‘å®šID</span></span><br><span class="line">      layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">      layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">      Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">      textColor=<span class="string">&#x27;#000000&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">      text=<span class="string">&#x27;æ­£åœ¨çˆ¬å–ä¸­&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">      textSize=<span class="string">&#x27;16sp&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--å°†å¸ƒå±€æ·»åŠ è‡³çª—å£</span></span><br><span class="line"><span class="comment">--å®šä¹‰çˆ¬å–ç¿»é¡µé“¾æ¥çš„ç½‘å€</span></span><br><span class="line">url = <span class="string">&#x27;https://yum5.cn&#x27;</span></span><br><span class="line"><span class="comment">--è¯·æ±‚é“¾æ¥</span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­ç½‘ç«™çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç  == <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--è·å–æ‰€æœ‰é¡µæ•°é“¾æ¥</span></span><br><span class="line">    é¡µæ•°è¿­ä»£å™¨ = ç½‘é¡µæºç :<span class="built_in">gmatch</span>(<span class="string">&#x27;&lt;a href=&quot;index.-htm&quot; class=&quot;page.-&quot;&gt;(.-)&lt;/a&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment">--æ–°å»ºè¡¨ï¼Œå­˜æ”¾çˆ¬å–æ•°æ®</span></span><br><span class="line">    é¡µæ•°=&#123;&#125;</span><br><span class="line">    <span class="comment">--è¿­ä»£é¡µæ•°è¿­ä»£å™¨ï¼Œå°†æ•°æ®å­˜å…¥è¡¨</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> é¡µæ•°è¿­ä»£å™¨ <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--è¿™é‡Œç­›é€‰æ•°å­—ï¼Œå› ä¸ºéƒ¨åˆ†æ•°æ®æ˜¯æ‚ä¹±çš„</span></span><br><span class="line">      <span class="keyword">if</span> i:<span class="built_in">find</span>(<span class="string">&#x27;%d&#x27;</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">table</span>.<span class="built_in">insert</span>(é¡µæ•°,i:<span class="built_in">match</span>(<span class="string">&#x27;(%d.*)&#x27;</span>))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">--è·å–åˆ°é¡µæ•°</span></span><br><span class="line">    æœ«å°¾é¡µæ•° = tointeger(é¡µæ•°[#é¡µæ•°])</span><br><span class="line">    <span class="comment">--æ–°å»ºè¡¨ï¼Œå­˜æ”¾å¸–å­æ ‡é¢˜</span></span><br><span class="line">    å¸–å­æ ‡é¢˜ = &#123;&#125;</span><br><span class="line">    <span class="comment">--å¾ªç¯é¡µæ•°</span></span><br><span class="line">    <span class="keyword">for</span> i=<span class="number">1</span>,æœ«å°¾é¡µæ•° <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--å°†é¡µæ•°æ‹¼æ¥è¿›é“¾æ¥</span></span><br><span class="line">      url = <span class="string">&#x27;https://yum5.cn/index-&#x27;</span>..i..<span class="string">&#x27;.htm&#x27;</span></span><br><span class="line">      <span class="comment">--è¯·æ±‚ç½‘é¡µ</span></span><br><span class="line">      Http.get(url,<span class="literal">nil</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">        <span class="comment">--åˆ¤æ–­ç½‘ç«™çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">if</span> çŠ¶æ€ç  == <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">          <span class="comment">--æ˜¾ç¤ºå½“å‰çˆ¬å–é¡µæ•°</span></span><br><span class="line">          <span class="built_in">table</span>.<span class="built_in">insert</span>(å¸–å­æ ‡é¢˜,<span class="string">&#x27;ç¬¬&#x27;</span>..i..<span class="string">&#x27;é¡µ:nn&#x27;</span>)</span><br><span class="line">          <span class="comment">--çˆ¬å–å¸–å­æ ‡é¢˜ä¿¡æ¯</span></span><br><span class="line">          å¸–å­æ ‡é¢˜è¿­ä»£å™¨ = ç½‘é¡µæºç :<span class="built_in">gmatch</span>(<span class="string">&#x27;&lt;a href=&quot;thread.-htm&quot;&gt;(.-)&lt;/a&gt;&#x27;</span>)</span><br><span class="line">          <span class="comment">--è¿­ä»£å¸–å­æ ‡é¢˜è¿­ä»£å™¨ï¼Œå°†æ•°æ®å­˜å…¥è¡¨</span></span><br><span class="line">          <span class="keyword">for</span> v <span class="keyword">in</span> å¸–å­æ ‡é¢˜è¿­ä»£å™¨ <span class="keyword">do</span></span><br><span class="line">            <span class="built_in">table</span>.<span class="built_in">insert</span>(å¸–å­æ ‡é¢˜,v)</span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">          <span class="comment">--å®šä¹‰ç©ºæ–‡æœ¬ï¼Œç”¨äºæ˜¾ç¤ºæ•°æ®</span></span><br><span class="line">          æ–‡æœ¬=<span class="string">&#x27;&#x27;</span></span><br><span class="line">          <span class="comment">--éå†è¡¨ï¼Œå–å‡ºæ•°æ®</span></span><br><span class="line">          <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(å¸–å­æ ‡é¢˜) <span class="keyword">do</span></span><br><span class="line">            <span class="comment">--å°†æ•°æ®æ–‡æœ¬ç´¯åŠ </span></span><br><span class="line">            æ–‡æœ¬=æ–‡æœ¬..k..<span class="string">&#x27;ï¼š&#x27;</span>..v..<span class="string">&#x27;n&#x27;</span></span><br><span class="line">          <span class="keyword">end</span></span><br><span class="line">          <span class="comment">--å±•ç¤ºæ•°æ®</span></span><br><span class="line">          æ˜¾ç¤ºæ–‡æœ¬.setText(æ–‡æœ¬)</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">          æ˜¾ç¤ºæ–‡æœ¬.setText(<span class="string">&#x27;æ— æ³•è®¿é—®&#x27;</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    æ˜¾ç¤ºæ–‡æœ¬.setText(<span class="string">&#x27;æ— æ³•è®¿é—®&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–ç½‘é¡µæ ‡é¢˜å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E8%8E%B7%E5%8F%96%E7%BD%91%E9%A1%B5%E6%A0%87%E9%A2%98%E5%AE%9E%E6%88%98-2021-11-07%2023:05:40/</url>
    <content><![CDATA[<h1>è·å–ç½‘é¡µæ ‡é¢˜å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--é¦–å…ˆåˆ›å»ºä¸€ä¸ªå¸ƒå±€ï¼Œä¸ºæ•™ç¨‹æä¾›è‰¯å¥½çš„å¯è§†åŒ–</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–è€…å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">  Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--è®¾ç½®å±…ä¸­</span></span><br><span class="line">  &#123;</span><br><span class="line">    TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">    id=<span class="string">&#x27;æ–‡æœ¬&#x27;</span>;<span class="comment">--ç»‘å®šID</span></span><br><span class="line">    layout_margin=<span class="string">&#x27;5%w&#x27;</span>;<span class="comment">--å¸ƒå±€å¤–è¾¹è·</span></span><br><span class="line">    layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">    Gravity=<span class="string">&#x27;center&#x27;</span>;<span class="comment">--é‡åŠ›å±æ€§</span></span><br><span class="line">    textColor=<span class="string">&#x27;#000000&#x27;</span>;<span class="comment">--æ–‡æœ¬é¢œè‰²</span></span><br><span class="line">    text=<span class="string">&#x27;æŸ¥è¯¢ç½‘ç«™æ ‡é¢˜ä¸­&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡æœ¬</span></span><br><span class="line">    textSize=<span class="string">&#x27;18sp&#x27;</span>;<span class="comment">--æ–‡æœ¬å¤§å°</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))</span><br><span class="line"><span class="comment">--è®¾ç½®éœ€è¦çˆ¬å–çš„ç½‘ç«™ï¼Œå¯ä»¥éšæ„æ›´æ¢</span></span><br><span class="line">url = <span class="string">&#x27;http://dh.hfybbs.vip&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨Httpè®¿é—®è¯¥ç½‘ç«™ï¼Œè·å–ç½‘é¡µæºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(çŠ¶æ€ç ,ç½‘é¡µæºç )</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­è¿”å›çŠ¶æ€ç ï¼Œç¡®å®šç½‘ç«™çš„æ­£å¸¸è¿è¡Œ</span></span><br><span class="line">  <span class="keyword">if</span> çŠ¶æ€ç  ==<span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--åˆ†æç½‘é¡µç»“æ„ï¼Œå‘ç°æ ‡é¢˜åœ¨titleæ ‡ç­¾å†…ï¼Œæ‰€ä»¥è¿›è¡Œæˆªå–</span></span><br><span class="line">    title = ç½‘é¡µæºç :<span class="built_in">match</span>(<span class="string">&#x27;&lt;title&gt;(.-)&lt;/title&gt;&#x27;</span>)</span><br><span class="line">    <span class="comment">--å°†æˆªå–åˆ°çš„æ ‡é¢˜è®¾ç½®è‡³æ–‡æœ¬æ˜¾ç¤º</span></span><br><span class="line">    æ–‡æœ¬.setText(title)</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    æ–‡æœ¬.setText(<span class="string">&#x27;è¯¥ç½‘ç«™æ— æ³•è®¿é—®&#x27;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¯é£è¿œç¨‹æ›´æ–°å®æˆ˜</title>
    <url>/2021/11/07/%E7%88%AC%E8%99%AB%E6%95%99%E7%A8%8B/%E8%AE%AF%E9%A3%9E%E8%BF%9C%E7%A8%8B%E6%9B%B4%E6%96%B0%E5%AE%9E%E6%88%98-2021-11-07%2023:06:02/</url>
    <content><![CDATA[<h1>è®¯é£è¿œç¨‹æ›´æ–°å®æˆ˜</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">å¾ˆå¤šåŒå­¦ä¼¼ä¹è¿˜ä¸ä¼šè¿œç¨‹æ›´æ–°ï¼Œå…¶å®æ‰€è°“è®¯é£è¿œç¨‹æ›´æ–°ä¹Ÿå°±æ˜¯çˆ¬è™«çš„</span></span><br><span class="line"><span class="comment">ä¸€ç§è¿ç”¨æ–¹å¼ï¼Œç»“åˆå‰é¢æ‰€å­¦å’ŒæŸ¥çœ‹ä¸‹é¢çš„é“¾æ¥çš„ç½‘é¡µç»“æ„</span></span><br><span class="line"><span class="comment">ä½ å°±èƒ½å†™å‡ºå±äºä½ çš„è¿œç¨‹æ›´æ–°ã€‚</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line">SorrowClover=<span class="comment">--éšä¾¿å†™çš„ä¸€ä¸ªå¸ƒå±€ï¼Œæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</span></span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(SorrowClover))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line"><span class="comment">--å®šä¹‰ä¸€ä¸ªä½ çš„è®¯é£è¿œç¨‹é“¾æ¥</span></span><br><span class="line"><span class="comment">--å¯ä»¥å¤åˆ¶åˆ°æµè§ˆå™¨çœ‹çœ‹ç½‘é¡µç»“æ„</span></span><br><span class="line">url=<span class="string">&quot;http://www.iyuji.cn/iyuji/s/akc1ZDNSKyt5RW9nUlA3MW5CNzJ1UT09/1562658886677508&quot;</span></span><br><span class="line"><span class="comment">--ä½¿ç”¨httpè·å–ç½‘é¡µæºç </span></span><br><span class="line">Http.get(url,<span class="literal">nil</span>,<span class="string">&quot;utf8&quot;</span>,<span class="literal">nil</span>,<span class="function"><span class="keyword">function</span><span class="params">(code,content)</span></span></span><br><span class="line">  <span class="comment">--åˆ¤æ–­ç½‘é¡µçŠ¶æ€ </span></span><br><span class="line">  <span class="keyword">if</span> code==<span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">    <span class="comment">--è·å–å½“å‰åº”ç”¨åŒ…å</span></span><br><span class="line">    åŒ…å=activity.getPackageName()</span><br><span class="line">    <span class="comment">--åˆ©ç”¨åŒ…åè·å–åˆ°å½“å‰ç‰ˆæœ¬å·</span></span><br><span class="line">    å½“å‰ç‰ˆæœ¬=<span class="built_in">tonumber</span>(activity.getPackageManager().getPackageInfo(åŒ…å, <span class="number">0</span>).versionName)</span><br><span class="line">    <span class="comment">--è·å–è¿œç¨‹æ›´æ–°ç‰ˆæœ¬å·</span></span><br><span class="line">    æ›´æ–°ç‰ˆæœ¬=<span class="built_in">tonumber</span>(content:<span class="built_in">match</span>(<span class="string">&quot;ã€ç‰ˆæœ¬ã€‘(.-)ã€ç‰ˆæœ¬ã€‘&quot;</span>))</span><br><span class="line">    <span class="comment">--æ¯”è¾ƒç‰ˆæœ¬å·</span></span><br><span class="line">    <span class="keyword">if</span> æ›´æ–°ç‰ˆæœ¬ &gt; å½“å‰ç‰ˆæœ¬ <span class="keyword">then</span></span><br><span class="line">      <span class="comment">--åˆ¶ä½œå¯¹è¯æ¡†ï¼Œæ˜¾ç¤ºæ›´æ–°æç¤º</span></span><br><span class="line">      æ›´æ–°è¯´æ˜=content:<span class="built_in">match</span>(<span class="string">&quot;ã€æ›´æ–°è¯´æ˜ã€‘(.-)ã€æ›´æ–°è¯´æ˜ã€‘&quot;</span>)</span><br><span class="line">      æ›´æ–°é“¾æ¥=content:<span class="built_in">match</span>(<span class="string">&quot;ã€æ›´æ–°é“¾æ¥ã€‘(.-)ã€æ›´æ–°é“¾æ¥ã€‘&quot;</span>)</span><br><span class="line">      AlertDialog.Builder(this)</span><br><span class="line">      .setTitle(<span class="string">&quot;ä½ æœ‰æ–°ç‰ˆæœ¬æ›´æ–°&quot;</span>)</span><br><span class="line">      .setMessage(æ›´æ–°è¯´æ˜)</span><br><span class="line">      .setPositiveButton(<span class="string">&quot;æ›´æ–°&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">          import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">          import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">          url=æ›´æ–°é“¾æ¥</span><br><span class="line">          viewIntent = Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>,Uri.parse(url))</span><br><span class="line">          activity.startActivity(viewIntent)</span><br><span class="line">        <span class="keyword">end</span>&#125;)</span><br><span class="line">      .setNegativeButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">      .show()</span><br><span class="line">      <span class="comment">--åˆ¤æ–­æ­£ç‰ˆè½¯ä»¶</span></span><br><span class="line">    <span class="keyword">elseif</span> æ›´æ–°ç‰ˆæœ¬ &lt; å½“å‰ç‰ˆæœ¬ <span class="keyword">then</span></span><br><span class="line">      æ›´æ–°é“¾æ¥=content:<span class="built_in">match</span>(<span class="string">&quot;ã€æ›´æ–°é“¾æ¥ã€‘(.-)ã€æ›´æ–°é“¾æ¥ã€‘&quot;</span>)</span><br><span class="line">      AlertDialog.Builder(this)</span><br><span class="line">      .setTitle(<span class="string">&quot;éæ­£ç‰ˆè­¦å‘Š&quot;</span>)</span><br><span class="line">      .setMessage(<span class="string">&quot;ä½ çš„è½¯ä»¶ç‰ˆæœ¬è¿œè¿œé«˜äºæ­£å¼ç‰ˆï¼Œè¢«äººéæ³•ä¿®æ”¹ï¼Œå±äºç›—ç‰ˆè¡Œä¸ºï¼Œè¯·æ”¯æŒæ­£ç‰ˆï¼&quot;</span>)</span><br><span class="line">      .setPositiveButton(<span class="string">&quot;ä¸‹è½½æ­£ç‰ˆ&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">          import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">          import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">          url=æ›´æ–°é“¾æ¥</span><br><span class="line">          viewIntent = Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>,Uri.parse(url))</span><br><span class="line">          activity.startActivity(viewIntent)</span><br><span class="line">        <span class="keyword">end</span>&#125;)</span><br><span class="line">      .setNegativeButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">      .show()</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;å·²æ˜¯æœ€æ–°ç‰ˆæœ¬&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ£€æµ‹æ›´æ–°å¤±è´¥&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>çˆ¬è™«æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ä»¿å¾®ä¿¡åŠ è½½åŠ¨æ€ç»˜åˆ¶</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E4%BB%BF%E5%BE%AE%E4%BF%A1%E5%8A%A0%E8%BD%BD%E5%8A%A8%E6%80%81%E7%BB%98%E5%88%B6-2021-11-08%2013:15:52/</url>
    <content><![CDATA[<h1>ä»¿å¾®ä¿¡åŠ è½½åŠ¨æ€ç»˜åˆ¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&#x27;android.graphics.Color&#x27;</span></span><br><span class="line">import <span class="string">&#x27;android.graphics.RectF&#x27;</span></span><br><span class="line">SorrowClover=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">background=<span class="string">&#x27;#ffffff&#x27;</span>;<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">gravity=<span class="string">&#x27;center&#x27;</span>;</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">layout_width=<span class="string">&#x27;100dp&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;100dp&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;dra&#x27;</span>;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(SorrowClover))</span><br><span class="line"><span class="function"><span class="keyword">function</span> ç»˜åˆ¶<span class="params">(è§’åº¦)</span></span></span><br><span class="line">dra.setBackgroundDrawable(LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(canvs,paint,draw)</span></span></span><br><span class="line">paint.setAntiAlias(<span class="literal">true</span>)</span><br><span class="line">paint.setColor(Color.BLUE)</span><br><span class="line">canvs.drawArc(RectF(<span class="number">10</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">100</span>),<span class="number">180</span>,è§’åº¦,<span class="literal">true</span>,paint)</span><br><span class="line">draw.invalidateSelf()</span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">0</span>,<span class="number">360</span> <span class="keyword">do</span></span><br><span class="line">task(<span class="number">10</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">ç»˜åˆ¶(i)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸¸æˆæ‘‡æ†</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E6%B8%B8%E6%88%8F%E6%91%87%E6%9D%86-2021-11-08%2013:20:11/</url>
    <content><![CDATA[<h1>æ¸¸æˆæ‘‡æ†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.*&quot;</span></span><br><span class="line"><span class="comment">--activity.setTitle(&#x27;AndroLua+&#x27;)</span></span><br><span class="line"><span class="comment">--activity.setTheme(android.R.style.Theme_Holo_Light)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--@åå­—isABane 2737420368</span></span><br><span class="line"><span class="comment">--</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¸ƒå±€=&#123;</span><br><span class="line">  FrameLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">  id=<span class="string">&quot;åº•å±‚&quot;</span>,</span><br><span class="line">  &#123;</span><br><span class="line">    View,</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;å›¾å±‚&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    TextView;<span class="comment">--æ–‡æœ¬æ§ä»¶</span></span><br><span class="line">    layout_width=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬å®½åº¦</span></span><br><span class="line">    layout_height=<span class="string">&#x27;wrap&#x27;</span>;<span class="comment">--æ–‡æœ¬é«˜åº¦</span></span><br><span class="line">    textColor=<span class="string">&#x27;#FF000000&#x27;</span>;<span class="comment">--æ–‡å­—é¢œè‰²</span></span><br><span class="line">    text=<span class="string">&#x27;&#x27;</span>;<span class="comment">--æ˜¾ç¤ºçš„æ–‡å­—</span></span><br><span class="line">    textSize=<span class="string">&#x27;30&#x27;</span>;<span class="comment">--æ–‡å­—å¤§å°</span></span><br><span class="line">    id=<span class="string">&quot;æ–‡å­—&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(å¸ƒå±€))</span><br><span class="line"></span><br><span class="line">data=[<span class="number">500</span>,<span class="number">1000</span>,<span class="comment">--ç‚¹å‡»åæ ‡ å»ºè®®åˆå§‹ä¸€ä¸ªä½ç½®</span></span><br><span class="line"><span class="literal">nil</span>,<span class="number">0</span>,<span class="comment">--æ»‘åŠ¨åæ ‡</span></span><br><span class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="comment">--æ¾å¼€åæ ‡</span></span><br><span class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="comment">--mCanvasç”»å¸ƒåæ ‡</span></span><br><span class="line"><span class="number">1</span>,<span class="number">1</span>,<span class="comment">--mCanvasç”»å¸ƒæ–¹æ³•ç¼©å°</span></span><br><span class="line"><span class="number">5</span>,<span class="comment">--åœˆçº¿ç²—ç»†</span></span><br><span class="line"><span class="number">150</span>,<span class="comment">--æ‘‡æ†å¤–åœˆåŠå¾„</span></span><br><span class="line"><span class="number">50</span>,<span class="comment">--æ‘‡æ†å¤§å°</span></span><br><span class="line"><span class="number">0</span>,<span class="number">0</span>,<span class="comment">--æŒ‰é’®åœ¨å¤–åœˆåæ ‡ --14.15</span></span><br><span class="line"><span class="number">170</span>,<span class="comment">--æ‘‡æ†æœ€å¤–åœˆ</span></span><br><span class="line"><span class="number">2</span>,<span class="comment">--è®¾ç½®æ¨¡å¼ 1 æ‘‡æ†åœ¨æ¾æ‰‹åå›å½’æŒ‡å®šä½ç½® 2 æ‘‡æ†åœåœ¨æ¾æ‰‹ä½ç½® 3 æ‘‡æ†åœåœ¨ç‚¹å‡»ä½ç½®</span></span><br><span class="line"><span class="number">300</span>,<span class="number">500</span>,<span class="comment">--æ‘‡æ†å›å½’æŒ‡å®šä½ç½® 18 19</span></span><br><span class="line"><span class="literal">nil</span>,<span class="comment">--åªèƒ½ä¸æ¨¡å¼1 2æ··åˆç”¨ å­˜åœ¨åˆ™ åªæœ‰ç‚¹å‡»åˆ°æ‘‡æ†å†…éƒ¨æ‰èƒ½å¯åŠ¨æ‘‡æ† ä¸å­˜åœ¨ åˆ™æ‘‡æ†è·Ÿéšä¸”ç›´æ¥å¯åŠ¨</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">å›¾å±‚.setBackground(LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(mCanvas,mPaint,mDrawable)</span></span><span class="comment">--æ¡†é€‰ç»˜åˆ¶</span></span><br><span class="line">  mPaint=Paint();</span><br><span class="line">  mPaint.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">  mPaint.setStyle(Paint.Style.STROKE);<span class="comment">--ç”»çº¿ç”»æ³•</span></span><br><span class="line">  mPaint.setStrokeWidth(data[<span class="number">11</span>])<span class="comment">--è®¾ç½®ç²—ç»†</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">--mPaint.setAntiAlias(true)--æŠ—é”¯é½¿</span></span><br><span class="line">  <span class="comment">--mPaint.setDither(true)--: è®¾å®šæ˜¯å¦ä½¿ç”¨å›¾åƒæŠ–åŠ¨å¤„ç†ï¼Œä¼šä½¿ç»˜åˆ¶å‡ºæ¥çš„å›¾ç‰‡é¢œè‰²æ›´åŠ å¹³æ»‘å’Œé¥±æ»¡ï¼Œå›¾åƒæ›´åŠ æ¸…æ™°</span></span><br><span class="line">  ç”»ç¬”=Paint();</span><br><span class="line">  ç”»ç¬”.setColor(<span class="number">0xffff0000</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span><span class="params">(mCanvas)</span></span></span><br><span class="line">    <span class="comment">--Thread.sleep(16)</span></span><br><span class="line">    mCanvas.translate(data[<span class="number">7</span>],data[<span class="number">8</span>])<span class="comment">--ç”»å¸ƒåç§»</span></span><br><span class="line">    mCanvas.scale(data[<span class="number">9</span>],data[<span class="number">10</span>])<span class="comment">--ç”»å¸ƒæ‰©ç¼©</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> data[<span class="number">3</span>] <span class="keyword">then</span><span class="comment">--æ»‘åŠ¨åç»˜åˆ¶</span></span><br><span class="line">      mCanvas.drawCircle(data[<span class="number">14</span>],data[<span class="number">15</span>],data[<span class="number">13</span>],mPaint)<span class="comment">--æ‘‡æ†æŒ‰é’®</span></span><br><span class="line">      mCanvas.drawLine(data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">14</span>],data[<span class="number">15</span>],mPaint)<span class="comment">--æ‘‡æ†è¿çº¿</span></span><br><span class="line">      mCanvas.drawCircle(data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">12</span>],mPaint)<span class="comment">--æ‘‡æ†å¤–åœˆ</span></span><br><span class="line">      mCanvas.drawCircle(data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">16</span>],mPaint)<span class="comment">--æ‘‡æ†æœ€å¤–åœˆ</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      mCanvas.drawCircle(data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">13</span>],mPaint)<span class="comment">--é™æ­¢æ‘‡æ†æŒ‰é’®</span></span><br><span class="line">      mCanvas.drawCircle(data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">12</span>],mPaint)<span class="comment">--æ‘‡æ†å¤–åœˆ</span></span><br><span class="line">      mCanvas.drawCircle(data[<span class="number">1</span>],data[<span class="number">2</span>],data[<span class="number">16</span>],mPaint)<span class="comment">--æ‘‡æ†æœ€å¤–åœˆ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    mDrawable.invalidateSelf()<span class="comment">--é‡æ–°ç”»å›¾</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åº•å±‚.onTouch=<span class="function"><span class="keyword">function</span><span class="params">(v,event)</span></span><span class="comment">--æ‰‹åŠ¿æ»‘åŠ¨</span></span><br><span class="line">  <span class="comment">--æ–‡å­—.setText(tostring(event.getAction()))</span></span><br><span class="line">  <span class="keyword">if</span> event.getAction()==MotionEvent.ACTION_DOWN <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">if</span> data[<span class="number">20</span>] <span class="keyword">then</span><span class="comment">--ç”¨æœ€å¤–åœˆåˆ¤æ–­</span></span><br><span class="line">      <span class="keyword">if</span> data[<span class="number">16</span>]-ä¸¤ç‚¹é—´è·ç¦»(data[<span class="number">1</span>],data[<span class="number">2</span>],event.getRawX(),event.getRawY()) &gt; <span class="number">0</span> <span class="keyword">then</span><span class="comment">--åœ¨åœˆå†…                     </span></span><br><span class="line">       <span class="keyword">else</span><span class="comment">--åœˆå¤–      </span></span><br><span class="line">        <span class="keyword">if</span> data[<span class="number">17</span>]==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">          data[<span class="number">1</span>],data[<span class="number">2</span>]=data[<span class="number">18</span>],data[<span class="number">19</span>]</span><br><span class="line">         <span class="keyword">elseif</span> data[<span class="number">17</span>]==<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">          data[<span class="number">1</span>],data[<span class="number">2</span>]=event.getRawX(),event.getRawY()         </span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      data[<span class="number">1</span>] = event.getRawX()</span><br><span class="line">      data[<span class="number">2</span>] = event.getRawY()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    x=event.getRawX()</span><br><span class="line">    y=event.getRawY()</span><br><span class="line">   <span class="keyword">elseif</span> event.getAction()==<span class="number">261</span> <span class="keyword">then</span><span class="comment">--å¤šæŒ‡ç‚¹å‡» 262æœ‰æ‰‹æ’¤å‡º</span></span><br><span class="line">    <span class="comment">--è·å–ç¬¬äºŒä¸ªç‚¹å‡»</span></span><br><span class="line">    ont=<span class="built_in">math</span>.<span class="built_in">abs</span>(y-event.getRawY(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">   <span class="keyword">elseif</span> event.getAction()==MotionEvent.ACTION_MOVE <span class="keyword">then</span><span class="comment">--æ‰‹æŒ‡æœ‰æ»‘åŠ¨è¡Œä¸º</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> event.getPointerCount() &gt; <span class="number">1</span> <span class="keyword">then</span><span class="comment">--å¤šæŒ‡æ»‘åŠ¨</span></span><br><span class="line">      <span class="comment">--data[7]=data[7] + (event.getRawX() - x)</span></span><br><span class="line">      <span class="comment">--data[8]=data[8] + (event.getRawY() - y)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">     <span class="keyword">else</span><span class="comment">--å•æŒ‡æ»‘åŠ¨</span></span><br><span class="line">      data[<span class="number">3</span>],data[<span class="number">4</span>] = è®¡ç®—åæ ‡å‡½æ•°(event.getRawX(),event.getRawY(),data[<span class="number">7</span>],data[<span class="number">8</span>],data[<span class="number">9</span>],data[<span class="number">10</span>])</span><br><span class="line">      data[<span class="number">14</span>],data[<span class="number">15</span>] = è®¡ç®—(data[<span class="number">1</span>],data[<span class="number">2</span>],event.getRawX(),event.getRawY(),data[<span class="number">12</span>])<span class="comment">--cos(200,è§’åº¦,data[1]),sin(200,è§’åº¦,data[2])</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    æ–‡å­—.setText(event.getRawX()..<span class="string">&quot;n&quot;</span>..<span class="string">&quot;&quot;</span>..<span class="string">&quot;n&quot;</span>..<span class="string">&quot;&quot;</span>..<span class="string">&quot;n&quot;</span>..<span class="string">&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line">   <span class="keyword">elseif</span> event.getAction()==MotionEvent.ACTION_UP <span class="keyword">then</span><span class="comment">--æ‰‹æŒ‡æŠ¬èµ·</span></span><br><span class="line">    data[<span class="number">5</span>] = (event.getRawX()-data[<span class="number">7</span>])*(<span class="number">1</span>/data[<span class="number">9</span>])</span><br><span class="line">    data[<span class="number">6</span>] = (event.getRawY()-data[<span class="number">8</span>])*(<span class="number">1</span>/data[<span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> data[<span class="number">17</span>]==<span class="number">1</span> <span class="keyword">then</span></span><br><span class="line">      data[<span class="number">1</span>],data[<span class="number">2</span>]=data[<span class="number">18</span>],data[<span class="number">19</span>]</span><br><span class="line">     <span class="keyword">elseif</span> data[<span class="number">17</span>]==<span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">      data[<span class="number">1</span>],data[<span class="number">2</span>]=event.getRawX(),event.getRawY()</span><br><span class="line">     <span class="keyword">elseif</span> data[<span class="number">17</span>]==<span class="number">3</span> <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">    data[<span class="number">3</span>]=<span class="literal">nil</span><span class="comment">--é‡ç½®æ»‘åŠ¨åˆ¤æ–­</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¡ç®—åæ ‡å‡½æ•°<span class="params">(x,y,x2,y2,x3,y3)</span></span></span><br><span class="line">  <span class="comment">--x,yç›¸å¯¹å±å¹•åæ ‡</span></span><br><span class="line">  <span class="comment">--x2,y2ç›¸å¯¹å±å¹•ç”»å¸ƒåç§»åæ ‡</span></span><br><span class="line">  <span class="comment">--x3,y3ç”»å¸ƒx,yè½´æ”¾å¤§ç¼©å°å€æ•°</span></span><br><span class="line">  <span class="keyword">return</span> (x-x2)/x3,(y-y2)/y3</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¡ç®—<span class="params">(x,y,x1,y1,æ–œè¾¹)</span></span></span><br><span class="line">  <span class="keyword">local</span> k=(y-y1)/(x-x1)<span class="comment">--æ–œç‡</span></span><br><span class="line">  <span class="comment">-- local b=y-(x*k)</span></span><br><span class="line">  <span class="keyword">local</span> t=<span class="built_in">math</span>.<span class="built_in">atan</span>(k)<span class="comment">--å¼§åº¦</span></span><br><span class="line">  <span class="keyword">if</span> x1-x &gt;<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">    x2=æ–œè¾¹*<span class="built_in">math</span>.<span class="built_in">cos</span>(t)+x</span><br><span class="line">    y2=æ–œè¾¹*<span class="built_in">math</span>.<span class="built_in">sin</span>(t)+y</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    x2=x-æ–œè¾¹*<span class="built_in">math</span>.<span class="built_in">cos</span>(t)</span><br><span class="line">    y2=y-æ–œè¾¹*<span class="built_in">math</span>.<span class="built_in">sin</span>(t)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> x2,y2</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> ä¸¤ç‚¹é—´è·ç¦»<span class="params">(x,y,x1,y1)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">math</span>.<span class="built_in">sqrt</span>( <span class="built_in">math</span>.<span class="built_in">pow</span>((x-x1),<span class="number">2</span>)+<span class="built_in">math</span>.<span class="built_in">pow</span>((y-y1),<span class="number">2</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶ä¸‰è§’å½¢</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E4%B8%89%E8%A7%92%E5%BD%A2-2021-11-08%2013:16:08/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶ä¸‰è§’å½¢</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&#x27;android.graphics.Path&#x27;</span></span><br><span class="line">import <span class="string">&#x27;android.graphics.Paint&#x27;</span></span><br><span class="line">SorrowClover=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">BackgroundDrawable=LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(canvas,paint,draw)</span></span></span><br><span class="line">paint.setColor(<span class="number">0xff333333</span>)</span><br><span class="line">paint.setStyle(Paint.Style.STROKE)</span><br><span class="line">paint.setStrokeWidth(<span class="number">30</span>)</span><br><span class="line"><span class="built_in">path</span> = Path()</span><br><span class="line"><span class="built_in">path</span>.moveTo(<span class="number">100</span>,<span class="number">200</span>)</span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">200</span>,<span class="number">100</span>)</span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">300</span>,<span class="number">200</span>)</span><br><span class="line"><span class="built_in">path</span>.<span class="built_in">close</span>()</span><br><span class="line">canvas.drawPath(<span class="built_in">path</span>,paint)</span><br><span class="line"><span class="keyword">end</span>);<span class="comment">--å¸ƒå±€èƒŒæ™¯é¢œè‰²(æˆ–å›¾ç‰‡è·¯å¾„)</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(SorrowClover))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶å››åˆ†ä¹‹ä¸€åœ†å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E5%9B%9B%E5%88%86%E4%B9%8B%E4%B8%80%E5%9C%86%E5%AE%9E%E4%BE%8B-2021-11-08%2013:16:27/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶å››åˆ†ä¹‹ä¸€åœ†å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.RectF&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">ç”»å¸ƒ.drawArc(RectF(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>),<span class="number">0</span>,<span class="number">90</span>,<span class="literal">true</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶å¼§</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶åœ†å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E5%9C%86%E5%AE%9E%E4%BE%8B-2021-11-08%2013:16:43/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶åœ†å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">ç”»å¸ƒ.drawCircle(<span class="number">100</span>,<span class="number">100</span>,<span class="number">100</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶åœ†</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶åœ†è§’çŸ©å½¢å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E5%9C%86%E8%A7%92%E7%9F%A9%E5%BD%A2%E5%AE%9E%E4%BE%8B-2021-11-08%2013:16:58/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶åœ†è§’çŸ©å½¢å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.RectF&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">ç”»å¸ƒ.drawRoundRect(RectF(<span class="number">10</span>,<span class="number">10</span>,<span class="number">210</span>,<span class="number">110</span>),<span class="number">15</span>,<span class="number">15</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶åœ†è§’çŸ©å½¢</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶å¤šè¾¹å½¢å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E5%A4%9A%E8%BE%B9%E5%BD%A2%E5%AE%9E%E4%BE%8B-2021-11-08%2013:17:15/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶å¤šè¾¹å½¢å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Path&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)</span><br><span class="line"><span class="built_in">path</span> = Path()</span><br><span class="line"><span class="built_in">path</span>.moveTo(<span class="number">10</span>, <span class="number">10</span>) <span class="comment">--ç§»åŠ¨åˆ° åæ ‡10,10</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">100</span>, <span class="number">50</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">200</span>,<span class="number">40</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">300</span>, <span class="number">20</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">200</span>, <span class="number">10</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">100</span>, <span class="number">70</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">50</span>, <span class="number">40</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.<span class="built_in">close</span>()<span class="comment">--é—­åˆè·¯å¾„</span></span><br><span class="line">ç”»å¸ƒ.drawPath(<span class="built_in">path</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶å¼§å½¢å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E5%BC%A7%E5%BD%A2%E5%AE%9E%E4%BE%8B-2021-11-08%2013:17:32/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶å¼§å½¢å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.RectF&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">ç”»å¸ƒ.drawArc(RectF(<span class="number">0</span>,<span class="number">0</span>,<span class="number">100</span>,<span class="number">100</span>),<span class="number">0</span>,<span class="number">90</span>,<span class="literal">false</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶å¼§</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶æ–‡å­—æ•™ç¨‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E6%96%87%E5%AD%97%E6%95%99%E7%A8%8B-2021-11-08%2013:17:50/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶æ–‡å­—æ•™ç¨‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)</span><br><span class="line">ç”»å¸ƒ.drawText(<span class="string">&quot;AndroLuaBOX Welcome&quot;</span>,<span class="number">100</span>,<span class="number">100</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶æ—‹è½¬æ–‡å­—å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E6%97%8B%E8%BD%AC%E6%96%87%E5%AD%97%E5%AE%9E%E4%BE%8B-2021-11-08%2013:18:07/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶æ—‹è½¬æ–‡å­—å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Path&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”é¢œè‰²</span></span><br><span class="line"><span class="built_in">path</span> = Path()<span class="comment">--åˆå§‹åŒ–è·¯å¾„</span></span><br><span class="line"><span class="built_in">path</span>.moveTo(<span class="number">50</span>,<span class="number">50</span>)<span class="comment">--ç§»åŠ¨è·¯å¾„</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">200</span>, <span class="number">200</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">300</span>, <span class="number">300</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.lineTo(<span class="number">400</span>, <span class="number">400</span>)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="built_in">path</span>.<span class="built_in">close</span>()<span class="comment">--é—­åˆè·¯å¾„</span></span><br><span class="line">ç”»å¸ƒ.drawTextOnPath(<span class="string">&quot;AndroLuaBOX Welcome&quot;</span>, <span class="built_in">path</span>, <span class="number">50</span>, <span class="number">50</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶æ¤­åœ†å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E6%A4%AD%E5%9C%86%E5%AE%9E%E4%BE%8B-2021-11-08%2013:18:25/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶æ¤­åœ†å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.RectF&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">ç”»å¸ƒ.drawOval(RectF(<span class="number">0</span>,<span class="number">0</span>,<span class="number">200</span>,<span class="number">300</span>),ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶æ¤­åœ†</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶æ°´æ»´</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E6%B0%B4%E6%BB%B4-2021-11-08%2013:19:48/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶æ°´æ»´</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Path&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">  id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">  ç”»å¸ƒ.translate(activity.getWidth()/<span class="number">2</span>,activity.getHeight()/<span class="number">2.5</span>)<span class="comment">--ç§»åŠ¨ç”»å¸ƒåˆ°ä¸­å¤®</span></span><br><span class="line">  ç”»å¸ƒ.rotate(<span class="number">90</span>)<span class="comment">--æ—‹è½¬ç”»å¸ƒ</span></span><br><span class="line">  ç”»å¸ƒ.save()<span class="comment">--ä¿å­˜ç”»å¸ƒçŠ¶æ€</span></span><br><span class="line">  ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)</span><br><span class="line">  è·¯å¾„ = Path() </span><br><span class="line">  <span class="keyword">local</span> æ°´æ»´é•¿,æ°´æ»´å®½=<span class="number">250</span>,<span class="number">120</span></span><br><span class="line">  è·¯å¾„.quadTo(æ°´æ»´é•¿,æ°´æ»´å®½,æ°´æ»´é•¿,<span class="number">0</span>)<span class="comment">--ç»˜åˆ¶æ°´æ»´</span></span><br><span class="line">  è·¯å¾„.moveTo(<span class="number">0</span>,<span class="number">0</span>)<span class="comment">--ç§»åŠ¨</span></span><br><span class="line">  è·¯å¾„.lineTo(<span class="number">120</span>,<span class="number">120</span>)</span><br><span class="line">  è·¯å¾„.moveTo(<span class="number">0</span>,<span class="number">0</span>)<span class="comment">--ç§»åŠ¨</span></span><br><span class="line">  è·¯å¾„.quadTo(æ°´æ»´é•¿,-æ°´æ»´å®½,æ°´æ»´é•¿,<span class="number">0</span>)<span class="comment">--ç»˜åˆ¶æ°´æ»´</span></span><br><span class="line"></span><br><span class="line">  è·¯å¾„.<span class="built_in">close</span>()<span class="comment">--é—­åˆè·¯å¾„</span></span><br><span class="line">  ç”»å¸ƒ.drawPath(è·¯å¾„,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶</span></span><br><span class="line">  ç”»å¸ƒ.rotate(<span class="number">90</span>)<span class="comment">--æ—‹è½¬ç”»å¸ƒ</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶çŸ©å½¢å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E7%9F%A9%E5%BD%A2%E5%AE%9E%E4%BE%8B-2021-11-08%2013:18:42/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶çŸ©å½¢å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”</span></span><br><span class="line">ç”»å¸ƒ.drawRect(<span class="number">100</span>,<span class="number">100</span>,<span class="number">300</span>,<span class="number">300</span>,ç”»ç¬”)<span class="comment">--ç”»å¸ƒç»˜åˆ¶çŸ©å½¢</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜åˆ¶è‡ªå®šä¹‰å›¾å½¢å®ä¾‹</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%88%B6%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BE%E5%BD%A2%E5%AE%9E%E4%BE%8B-2021-11-08%2013:19:05/</url>
    <content><![CDATA[<h1>ç»˜åˆ¶è‡ªå®šä¹‰å›¾å½¢å®ä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Path&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.RectF&quot;</span><span class="comment">--å¯¼å…¥ä¾èµ–åŒ…</span></span><br><span class="line"><span class="comment">--åˆ›å»ºç¤ºä¾‹å¸ƒå±€</span></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">Orientation=<span class="string">&#x27;vertical&#x27;</span>;<span class="comment">--å¸ƒå±€æ–¹å‘</span></span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">id=<span class="string">&#x27;å¸ƒå±€ç”»å¸ƒ&#x27;</span>;<span class="comment">--ç»‘å®šid</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))<span class="comment">--æ˜¾ç¤ºå¸ƒå±€</span></span><br><span class="line">å¸ƒå±€ç”»å¸ƒ.setBackground(<span class="comment">--è®¾ç½®èƒŒæ™¯</span></span><br><span class="line">LuaDrawable(<span class="comment">--è®¾ç½®è‡ªç»˜åˆ¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(ç”»å¸ƒ,ç”»ç¬”)</span></span><span class="comment">--ç»˜åˆ¶å‡½æ•°</span></span><br><span class="line"><span class="comment">--ç»˜åˆ¶è¡¨ç›˜</span></span><br><span class="line">ç”»ç¬”.setColor(<span class="number">0xff7e5cf8</span>)<span class="comment">--è®¾ç½®ç”»ç¬”é¢œè‰²</span></span><br><span class="line">ç”»ç¬”.setStyle(Paint.Style.STROKE)<span class="comment">--è®¾ç½®ç”»ç¬”æ ·å¼</span></span><br><span class="line">ç”»å¸ƒ.translate(ç”»å¸ƒ.getWidth()/<span class="number">2</span>, <span class="number">200</span>)<span class="comment">--ç§»åŠ¨ç”»å¸ƒ</span></span><br><span class="line">ç”»å¸ƒ.drawCircle(<span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>, ç”»ç¬”)<span class="comment">--ç»˜åˆ¶åœ†</span></span><br><span class="line">ç”»å¸ƒ.save()<span class="comment">--ä¿å­˜ç”»å¸ƒ</span></span><br><span class="line">ç”»å¸ƒ.translate(<span class="number">-75</span>, <span class="number">-75</span>)<span class="comment">--ç§»åŠ¨ç”»å¸ƒ</span></span><br><span class="line"><span class="comment">--ç»˜åˆ¶æ–‡å­—</span></span><br><span class="line"><span class="built_in">path</span> = Path()<span class="comment">--åˆå§‹åŒ–è·¯å¾„</span></span><br><span class="line"><span class="built_in">path</span>.addArc(RectF(<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>,<span class="number">150</span>), <span class="number">-180</span>, <span class="number">180</span>)<span class="comment">--ç»˜åˆ¶å¼§</span></span><br><span class="line">citePaint = Paint(ç”»ç¬”)<span class="comment">--å®šä¹‰æ–°ç”»ç¬”</span></span><br><span class="line">citePaint.setTextSize(<span class="number">14</span>)<span class="comment">--ç»˜åˆ¶æ–‡å­—çš„å¤§å°</span></span><br><span class="line">citePaint.setStrokeWidth(<span class="number">1</span>)<span class="comment">--ç»˜åˆ¶æ–‡å­—çš„ç²—ç»†</span></span><br><span class="line">ç”»å¸ƒ.drawTextOnPath(<span class="string">&quot;ç»˜åˆ¶è¡¨ç›˜~&quot;</span>, <span class="built_in">path</span>, <span class="number">28</span>, <span class="number">0</span>, citePaint)<span class="comment">--ç»˜åˆ¶æ–‡å­—</span></span><br><span class="line">ç”»å¸ƒ.restore()<span class="comment">--æ¢å¤ç”»å¸ƒ</span></span><br><span class="line">tmpPaint = Paint(ç”»ç¬”)<span class="comment">--å®šä¹‰æ–°ç”»ç¬”</span></span><br><span class="line">tmpPaint.setStrokeWidth(<span class="number">1</span>)<span class="comment">--è®¾ç½®ç²—ç»†</span></span><br><span class="line"><span class="comment">--ç»˜åˆ¶åˆ»åº¦</span></span><br><span class="line">y=<span class="number">100</span><span class="comment">--å®šä¹‰å˜é‡</span></span><br><span class="line">count = <span class="number">60</span><span class="comment">--å®šä¹‰å˜é‡</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">0</span>,count <span class="keyword">do</span><span class="comment">--å¾ªç¯</span></span><br><span class="line"><span class="keyword">if</span> i%<span class="number">5</span>==<span class="number">0</span> <span class="keyword">then</span><span class="comment">--åˆ¤æ–­</span></span><br><span class="line">ç”»å¸ƒ.drawLine(<span class="number">0</span>, y, <span class="number">0</span>, y+<span class="number">12</span>, ç”»ç¬”)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line">ç”»å¸ƒ.drawText(<span class="built_in">tostring</span>(i/<span class="number">5</span>+<span class="number">1</span>), <span class="number">-4</span>, y+<span class="number">25</span>, tmpPaint)<span class="comment">--ç»˜åˆ¶æ–‡å­—</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">ç”»å¸ƒ.drawLine(<span class="number">0</span>, y, <span class="number">0</span>, y +<span class="number">5</span>, tmpPaint)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">ç”»å¸ƒ.rotate(<span class="number">360</span>/count,<span class="number">0</span>,<span class="number">0</span>)<span class="comment">--é€‰æ‹©ç”»å¸ƒ</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ç»˜åˆ¶æŒ‡é’ˆ</span></span><br><span class="line">tmpPaint.setColor(Color.GRAY)<span class="comment">--è®¾ç½®ç”»ç¬”é¢œè‰²</span></span><br><span class="line">tmpPaint.setStrokeWidth(<span class="number">4</span>)<span class="comment">--è®¾ç½®ç²—ç»†</span></span><br><span class="line">ç”»å¸ƒ.drawCircle(<span class="number">0</span>, <span class="number">0</span>, <span class="number">7</span>, tmpPaint)<span class="comment">--ç»˜åˆ¶åœ†</span></span><br><span class="line">tmpPaint.setStyle(Paint.Style.FILL)<span class="comment">--è®¾ç½®ç”»ç¬”æ ·å¼</span></span><br><span class="line">tmpPaint.setColor(Color.YELLOW)<span class="comment">--è®¾ç½®ç”»ç¬”é¢œè‰²</span></span><br><span class="line">ç”»å¸ƒ.drawCircle(<span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>, tmpPaint)<span class="comment">--ç»˜åˆ¶åœ†</span></span><br><span class="line">ç”»å¸ƒ.drawLine(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0</span>, <span class="number">-65</span>, ç”»ç¬”)<span class="comment">--ç»˜åˆ¶ç›´çº¿</span></span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>ç»˜å›¾æµ‹è¯•</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E7%BB%98%E5%9B%BE%E6%B5%8B%E8%AF%95-2021-11-08%2013:15:34/</url>
    <content><![CDATA[<h1>ç»˜å›¾æµ‹è¯•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--ç»˜å›¾æµ‹è¯•</span></span><br><span class="line">import <span class="string">&#x27;android.graphics.Color&#x27;</span></span><br><span class="line">SorrowClover=</span><br><span class="line">&#123;</span><br><span class="line">LinearLayout;<span class="comment">--çº¿æ€§å¸ƒå±€</span></span><br><span class="line">id=<span class="string">&#x27;main_canvas&#x27;</span>;</span><br><span class="line">layout_width=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€å®½åº¦</span></span><br><span class="line">layout_height=<span class="string">&#x27;fill&#x27;</span>;<span class="comment">--å¸ƒå±€é«˜åº¦</span></span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(SorrowClover))</span><br><span class="line">e_table = &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onTouchEvent</span><span class="params">(e)</span></span></span><br><span class="line">code = e.getAction()</span><br><span class="line"><span class="keyword">if</span>(code==<span class="number">0</span>) <span class="keyword">then</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(e_table,e.getX())</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(e_table,e.getY())</span><br><span class="line"><span class="keyword">elseif</span>(code==<span class="number">2</span>) <span class="keyword">then</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(e_table,e.getX())</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(e_table,e.getY())</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(e_table,e.getX())</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(e_table,e.getY())</span><br><span class="line">main_canvas.setBackgroundDrawable(LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(canvas,paint,draw)</span></span></span><br><span class="line">paint.setColor(Color.BLUE)</span><br><span class="line">canvas.drawLines(e_table,paint)</span><br><span class="line"><span class="keyword">end</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªç»˜åˆ¶æ–¹æ³•æ¦‚è¿°</title>
    <url>/2021/11/08/%E8%87%AA%E7%BB%98%E5%88%B6%E6%95%99%E7%A8%8B/%E8%87%AA%E7%BB%98%E5%88%B6%E6%96%B9%E6%B3%95%E6%A6%82%E8%BF%B0-2021-11-08%2013:19:34/</url>
    <content><![CDATA[<h1>è‡ªç»˜åˆ¶æ–¹æ³•æ¦‚è¿°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬ç»˜åˆ¶å°†ä¼šç”¨åˆ°LuaDrawableæ–¹æ³•ï¼š</span><br><span class="line">æ„å»ºæ–¹æ³•</span><br><span class="line">draw=LuaDrawable(func)</span><br><span class="line">func ç»˜åˆ¶å‡½æ•°ï¼Œåœ¨æ¯æ¬¡ç»˜åˆ¶æ—¶è°ƒç”¨</span><br><span class="line">ä¼ å…¥<span class="number">3</span>ä¸ªå‚æ•°</span><br><span class="line">canvas ç”»å¸ƒï¼Œpaint ç”»ç¬”ï¼Œdrawable å½“å‰å®ä¾‹ã€‚</span><br><span class="line">è¿™é‡Œä¸æ‡‚å¾—å¯ä»¥çœ‹å¤–é¢çš„ç¤ºä¾‹</span><br><span class="line"></span><br><span class="line">ç›¸å…³æ–¹æ³•ï¼š</span><br><span class="line">Paint(ç”»ç¬”):</span><br><span class="line">setARGB(int a,int r,int g,int b): è®¾ç½®ç»˜åˆ¶çš„é¢œè‰²ï¼Œaä»£è¡¨é€æ˜åº¦ï¼Œrï¼Œgï¼Œbä»£è¡¨é¢œè‰²å€¼ã€‚</span><br><span class="line">setAlpha(int a): è®¾ç½®ç»˜åˆ¶å›¾å½¢çš„é€æ˜åº¦ã€‚</span><br><span class="line">setColor(int color): è®¾ç½®ç»˜åˆ¶çš„é¢œè‰²ï¼Œä½¿ç”¨é¢œè‰²å€¼æ¥è¡¨ç¤ºï¼Œè¯¥é¢œè‰²å€¼åŒ…æ‹¬é€æ˜åº¦å’ŒRGBé¢œè‰²ã€‚</span><br><span class="line">setAntiAlias(boolean aa): è®¾ç½®æ˜¯å¦ä½¿ç”¨æŠ—é”¯é½¿åŠŸèƒ½ï¼Œä¼šæ¶ˆè€—è¾ƒå¤§èµ„æºï¼Œç»˜åˆ¶å›¾å½¢é€Ÿåº¦ä¼šå˜æ…¢ã€‚</span><br><span class="line">setDither(boolean dither): è®¾å®šæ˜¯å¦ä½¿ç”¨å›¾åƒæŠ–åŠ¨å¤„ç†ï¼Œä¼šä½¿ç»˜åˆ¶å‡ºæ¥çš„å›¾ç‰‡é¢œè‰²æ›´åŠ å¹³æ»‘å’Œé¥±æ»¡ï¼Œå›¾åƒæ›´åŠ æ¸…æ™°</span><br><span class="line">setFilterBitmap(boolean filter)ï¼š å¦‚æœè¯¥é¡¹è®¾ç½®ä¸º<span class="literal">true</span>ï¼Œåˆ™å›¾åƒåœ¨åŠ¨ç”»è¿›è¡Œä¸­ä¼šæ»¤æ‰å¯¹Bitmapå›¾åƒçš„ä¼˜åŒ–æ“ä½œï¼Œ åŠ å¿«æ˜¾ç¤ºé€Ÿåº¦ï¼Œæœ¬è®¾ç½®é¡¹ä¾èµ–äºditherå’Œxfermodeçš„è®¾ç½®</span><br><span class="line">setMaskFilter(MaskFilter maskfilter)ï¼š è®¾ç½®MaskFilterï¼Œå¯ä»¥ç”¨ä¸åŒçš„MaskFilterå®ç°æ»¤é•œçš„æ•ˆæœï¼Œå¦‚æ»¤åŒ–ï¼Œç«‹ä½“ç­‰</span><br><span class="line">setColorFilter(ColorFilter colorfilter)ï¼š è®¾ç½®é¢œè‰²è¿‡æ»¤å™¨ï¼Œå¯ä»¥åœ¨ç»˜åˆ¶é¢œè‰²æ—¶å®ç°ä¸ç”¨é¢œè‰²çš„å˜æ¢æ•ˆæœ</span><br><span class="line">setPathEffect(PathEffect effect) è®¾ç½®ç»˜åˆ¶è·¯å¾„çš„æ•ˆæœï¼Œå¦‚ç‚¹ç”»çº¿ç­‰</span><br><span class="line">setShader(Shader shader)ï¼š è®¾ç½®å›¾åƒæ•ˆæœï¼Œä½¿ç”¨Shaderå¯ä»¥ç»˜åˆ¶å‡ºå„ç§æ¸å˜æ•ˆæœ</span><br><span class="line">setShadowLayer(float radius ,float dx,float dy,int color)ï¼šåœ¨å›¾å½¢ä¸‹é¢è®¾ç½®é˜´å½±å±‚ï¼Œäº§ç”Ÿé˜´å½±æ•ˆæœï¼Œ radiusä¸ºé˜´å½±çš„è§’åº¦ï¼Œdxå’Œdyä¸ºé˜´å½±åœ¨xè½´å’Œyè½´ä¸Šçš„è·ç¦»ï¼Œcolorä¸ºé˜´å½±çš„é¢œè‰²</span><br><span class="line">setStyle(Paint.Style style)ï¼š è®¾ç½®ç”»ç¬”çš„æ ·å¼ï¼Œä¸ºFILLï¼ŒFILL_OR_STROKEï¼Œæˆ–STROKE</span><br><span class="line">setStrokeCap(Paint.Cap cap)ï¼š å½“ç”»ç¬”æ ·å¼ä¸ºSTROKEæˆ–FILL_OR_STROKEæ—¶ï¼Œè®¾ç½®ç¬”åˆ·çš„å›¾å½¢æ ·å¼ï¼Œ å¦‚åœ†å½¢æ ·Cap.ROUND,æˆ–æ–¹å½¢æ ·å¼Cap.SQUARE</span><br><span class="line">setSrokeJoin(Paint.Join join)ï¼š è®¾ç½®ç»˜åˆ¶æ—¶å„å›¾å½¢çš„ç»“åˆæ–¹å¼ï¼Œå¦‚å¹³æ»‘æ•ˆæœç­‰</span><br><span class="line">setStrokeWidth(float width)ï¼š å½“ç”»ç¬”æ ·å¼ä¸ºSTROKEæˆ–FILL_OR_STROKEæ—¶ï¼Œè®¾ç½®ç¬”åˆ·çš„ç²—ç»†åº¦</span><br><span class="line">setXfermode(Xfermode xfermode)ï¼š è®¾ç½®å›¾å½¢é‡å æ—¶çš„å¤„ç†æ–¹å¼ï¼Œå¦‚åˆå¹¶ï¼Œå–äº¤é›†æˆ–å¹¶é›†ï¼Œç»å¸¸ç”¨æ¥åˆ¶ä½œæ©¡çš®çš„æ“¦é™¤æ•ˆæœ</span><br><span class="line">setFakeBoldText(boolean fakeBoldText)ï¼š æ¨¡æ‹Ÿå®ç°ç²—ä½“æ–‡å­—ï¼Œè®¾ç½®åœ¨å°å­—ä½“ä¸Šæ•ˆæœä¼šéå¸¸å·®</span><br><span class="line">setSubpixelText(boolean subpixelText)ï¼š è®¾ç½®è¯¥é¡¹ä¸º<span class="literal">true</span>ï¼Œå°†æœ‰åŠ©äºæ–‡æœ¬åœ¨LCDå±å¹•ä¸Šçš„æ˜¾ç¤ºæ•ˆæœ</span><br><span class="line">setTextAlign(Paint.Align align)ï¼š è®¾ç½®ç»˜åˆ¶æ–‡å­—çš„å¯¹é½æ–¹å‘</span><br><span class="line">setTextScaleX(float scaleX)ï¼š è®¾ç½®ç»˜åˆ¶æ–‡å­—xè½´çš„ç¼©æ”¾æ¯”ä¾‹ï¼Œå¯ä»¥å®ç°æ–‡å­—çš„æ‹‰ä¼¸çš„æ•ˆæœ</span><br><span class="line">setTextSize(float textSize)ï¼š è®¾ç½®ç»˜åˆ¶æ–‡å­—çš„å­—å·å¤§å°</span><br><span class="line">setTextSkewX(float skewX)ï¼š è®¾ç½®æ–œä½“æ–‡å­—ï¼ŒskewXä¸ºå€¾æ–œå¼§åº¦</span><br><span class="line">setTypeface(Typeface typeface)ï¼š è®¾ç½®Typefaceå¯¹è±¡ï¼Œå³å­—ä½“é£æ ¼ï¼ŒåŒ…æ‹¬ç²—ä½“ï¼Œæ–œä½“ä»¥åŠè¡¬çº¿ä½“ï¼Œéè¡¬çº¿ä½“ç­‰</span><br><span class="line">setUnderlineText(boolean underlineText)ï¼š è®¾ç½®å¸¦æœ‰ä¸‹åˆ’çº¿çš„æ–‡å­—æ•ˆæœ</span><br><span class="line">setStrikeThruText(boolean strikeThruText)ï¼š è®¾ç½®å¸¦æœ‰åˆ é™¤çº¿çš„æ•ˆæœ</span><br><span class="line">setStrokeJoin(Paint.Join join)ï¼š è®¾ç½®ç»“åˆå¤„çš„æ ·å­ï¼ŒMiter:ç»“åˆå¤„ä¸ºé”è§’ï¼Œ Round:ç»“åˆå¤„ä¸ºåœ†å¼§ï¼šBEVELï¼šç»“åˆå¤„ä¸ºç›´çº¿</span><br><span class="line">setStrokeMiter(float miter)ï¼šè®¾ç½®ç”»ç¬”å€¾æ–œåº¦</span><br><span class="line">setStrokeCap (Paint.Cap cap)ï¼šè®¾ç½®è½¬å¼¯å¤„çš„é£æ ¼ å…¶ä»–å¸¸ç”¨æ–¹æ³•ï¼š</span><br><span class="line">float ascent( )ï¼šæµ‹é‡baselineä¹‹ä¸Šè‡³å­—ç¬¦æœ€é«˜å¤„çš„è·ç¦»</span><br><span class="line">float descent()ï¼šbaselineä¹‹ä¸‹è‡³å­—ç¬¦æœ€ä½å¤„çš„è·ç¦»</span><br><span class="line">int breakText(<span class="built_in">char</span>[] text, int index, int count, float maxWidth, float[] measuredWidth)ï¼š æ£€æµ‹ä¸€è¡Œæ˜¾ç¤ºå¤šå°‘æ–‡å­—</span><br><span class="line">clearShadowLayer( )ï¼šæ¸…é™¤é˜´å½±å±‚ </span><br><span class="line"></span><br><span class="line">Canvas(ç”»å¸ƒ):</span><br><span class="line">drawRect(RectF rect, Paint paint) ï¼šç»˜åˆ¶åŒºåŸŸï¼Œå‚æ•°ä¸€ä¸ºRectFä¸€ä¸ªåŒºåŸŸ</span><br><span class="line">drawPath(Path <span class="built_in">path</span>, Paint paint) ï¼šç»˜åˆ¶ä¸€ä¸ªè·¯å¾„ï¼Œå‚æ•°ä¸€ä¸ºPathè·¯å¾„å¯¹è±¡</span><br><span class="line">drawBitmap(Bitmap bitmap, Rect src, Rect dst, Paint paint) ï¼š è´´å›¾ï¼Œå‚æ•°ä¸€å°±æ˜¯æˆ‘ä»¬å¸¸è§„çš„Bitmapå¯¹è±¡ï¼Œå‚æ•°äºŒæ˜¯æºåŒºåŸŸ(è¿™é‡Œæ˜¯bitmap)ï¼Œ å‚æ•°ä¸‰æ˜¯ç›®æ ‡åŒºåŸŸ(åº”è¯¥åœ¨canvasçš„ä½ç½®å’Œå¤§å°)ï¼Œå‚æ•°å››æ˜¯Paintç”»åˆ·å¯¹è±¡ï¼Œ å› ä¸ºç”¨åˆ°äº†ç¼©æ”¾å’Œæ‹‰ä¼¸çš„å¯èƒ½ï¼Œå½“åŸå§‹Rectä¸ç­‰äºç›®æ ‡Rectæ—¶æ€§èƒ½å°†ä¼šæœ‰å¤§å¹…æŸå¤±ã€‚</span><br><span class="line">drawLine(float startX, float startY, float stopX, float stopY, Paintpaint) ï¼š ç”»çº¿ï¼Œå‚æ•°ä¸€èµ·å§‹ç‚¹çš„xè½´ä½ç½®ï¼Œå‚æ•°äºŒèµ·å§‹ç‚¹çš„yè½´ä½ç½®ï¼Œå‚æ•°ä¸‰ç»ˆç‚¹çš„xè½´æ°´å¹³ä½ç½®ï¼Œ å‚æ•°å››yè½´å‚ç›´ä½ç½®ï¼Œæœ€åä¸€ä¸ªå‚æ•°ä¸ºPaint ç”»åˆ·å¯¹è±¡ã€‚</span><br><span class="line">drawPoint(float x, float y, Paint paint)ï¼š ç”»ç‚¹ï¼Œå‚æ•°ä¸€æ°´å¹³xè½´ï¼Œå‚æ•°äºŒå‚ç›´yè½´ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºPaintå¯¹è±¡ã€‚</span><br><span class="line">drawText(String text, float x, floaty, Paint paint) ï¼š æ¸²æŸ“æ–‡æœ¬ï¼ŒCanvasç±»é™¤äº†ä¸Šé¢çš„è¿˜å¯ä»¥æç»˜æ–‡å­—ï¼Œå‚æ•°ä¸€æ˜¯Stringç±»å‹çš„æ–‡æœ¬ï¼Œ å‚æ•°äºŒxè½´ï¼Œå‚æ•°ä¸‰yè½´ï¼Œå‚æ•°å››æ˜¯Paintå¯¹è±¡ã€‚</span><br><span class="line">drawOval(RectF oval, Paint paint)ï¼šç”»æ¤­åœ†ï¼Œå‚æ•°ä¸€æ˜¯æ‰«æåŒºåŸŸï¼Œå‚æ•°äºŒä¸ºpaintå¯¹è±¡ï¼›</span><br><span class="line">drawCircle(float cx, float cy, float radius,Paint paint)ï¼š ç»˜åˆ¶åœ†ï¼Œå‚æ•°ä¸€æ˜¯ä¸­å¿ƒç‚¹çš„xè½´ï¼Œå‚æ•°äºŒæ˜¯ä¸­å¿ƒç‚¹çš„yè½´ï¼Œå‚æ•°ä¸‰æ˜¯åŠå¾„ï¼Œå‚æ•°å››æ˜¯paintå¯¹è±¡ï¼›</span><br><span class="line">drawArc(RectF oval, float startAngle, float sweepAngle, boolean useCenter, Paint paint)ï¼š ç”»å¼§ï¼Œå‚æ•°ä¸€æ˜¯RectFå¯¹è±¡ï¼Œä¸€ä¸ªçŸ©å½¢åŒºåŸŸæ¤­åœ†å½¢çš„ç•Œé™ç”¨äºå®šä¹‰åœ¨å½¢çŠ¶ã€å¤§å°ã€ç”µå¼§ï¼Œå‚æ•°äºŒæ˜¯èµ·å§‹è§’ (åº¦)åœ¨ç”µå¼§çš„å¼€å§‹ï¼Œå‚æ•°ä¸‰æ‰«æè§’(åº¦)å¼€å§‹é¡ºæ—¶é’ˆæµ‹é‡çš„ï¼Œå‚æ•°å››æ˜¯å¦‚æœè¿™æ˜¯çœŸçš„è¯,åŒ…æ‹¬æ¤­åœ†ä¸­å¿ƒçš„ç”µ å¼§,å¹¶å…³é—­å®ƒ,å¦‚æœå®ƒæ˜¯å‡è¿™å°†æ˜¯ä¸€ä¸ªå¼§çº¿,å‚æ•°äº”æ˜¯Paintå¯¹è±¡ï¼›</span><br><span class="line">clipXXX()æ–¹æ³•æ—:åœ¨å½“å‰çš„ç”»å›¾åŒºåŸŸè£å‰ª(clip)å‡ºä¸€ä¸ªæ–°çš„ç”»å›¾åŒºåŸŸï¼Œè¿™ä¸ªç”»å›¾åŒºåŸŸå°±æ˜¯canvas å¯¹è±¡çš„å½“å‰ç”»å›¾åŒºåŸŸäº†ã€‚æ¯”å¦‚ï¼šclipRect(new Rect())ï¼Œé‚£ä¹ˆè¯¥çŸ©å½¢åŒºåŸŸå°±æ˜¯canvasçš„å½“å‰ç”»å›¾åŒºåŸŸ</span><br><span class="line">save()å’Œrestore()æ–¹æ³•ï¼š save( )ï¼šç”¨æ¥ä¿å­˜Canvasçš„çŠ¶æ€ã€‚saveä¹‹åï¼Œå¯ä»¥è°ƒç”¨Canvasçš„å¹³ç§»ã€æ”¾ç¼©ã€æ—‹è½¬ã€é”™åˆ‡ã€è£å‰ªç­‰æ“ä½œï¼ restoreï¼ˆï¼‰ï¼šç”¨æ¥æ¢å¤Canvasä¹‹å‰ä¿å­˜çš„çŠ¶æ€ã€‚é˜²æ­¢saveåå¯¹Canvasæ‰§è¡Œçš„æ“ä½œå¯¹åç»­çš„ç»˜åˆ¶æœ‰å½±å“ã€‚ save()å’Œrestore()è¦é…å¯¹ä½¿ç”¨(restoreå¯ä»¥æ¯”saveå°‘,ä½†ä¸èƒ½å¤š)ï¼Œè‹¥restoreè°ƒç”¨æ¬¡æ•°æ¯”saveå¤š,ä¼šæŠ¥é”™ï¼</span><br><span class="line">translate(float dx, float dy)ï¼š å¹³ç§»ï¼Œå°†ç”»å¸ƒçš„åæ ‡åŸç‚¹å‘å·¦å³æ–¹å‘ç§»åŠ¨xï¼Œå‘ä¸Šä¸‹æ–¹å‘ç§»åŠ¨y.canvasçš„é»˜è®¤ä½ç½®æ˜¯åœ¨ï¼ˆ<span class="number">0</span>,<span class="number">0</span>ï¼‰</span><br><span class="line">scale(float sx, float sy)ï¼šæ‰©å¤§ï¼Œxä¸ºæ°´å¹³æ–¹å‘çš„æ”¾å¤§å€æ•°ï¼Œyä¸ºç«–ç›´æ–¹å‘çš„æ”¾å¤§å€æ•°</span><br><span class="line">rotate(float degrees)ï¼šæ—‹è½¬ï¼ŒangleæŒ‡æ—‹è½¬çš„è§’åº¦ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬</span><br><span class="line"></span><br><span class="line">Path(è·¯å¾„):</span><br><span class="line">addArc(RectF oval, float startAngle, float sweepAngleï¼šä¸ºè·¯å¾„æ·»åŠ ä¸€ä¸ªå¤šè¾¹å½¢</span><br><span class="line">addCircle(float x, float y, float radius, Path.Direction dir)ï¼šç»™<span class="built_in">path</span>æ·»åŠ åœ†åœˆ</span><br><span class="line">addOval(RectF oval, Path.Direction dir)ï¼šæ·»åŠ æ¤­åœ†å½¢</span><br><span class="line">addRect(RectF rect, Path.Direction dir)ï¼šæ·»åŠ ä¸€ä¸ªåŒºåŸŸ</span><br><span class="line">addRoundRect(RectF rect, float[] radii, Path.Direction dir)ï¼šæ·»åŠ ä¸€ä¸ªåœ†è§’åŒºåŸŸ</span><br><span class="line">isEmpty()ï¼šåˆ¤æ–­è·¯å¾„æ˜¯å¦ä¸ºç©º</span><br><span class="line">transform(Matrix matrix)ï¼šåº”ç”¨çŸ©é˜µå˜æ¢</span><br><span class="line">transform(Matrix matrix, Path dst)ï¼šåº”ç”¨çŸ©é˜µå˜æ¢å¹¶å°†ç»“æœæ”¾åˆ°æ–°çš„è·¯å¾„ä¸­ï¼Œå³ç¬¬äºŒä¸ªå‚æ•°ã€‚</span><br><span class="line">moveTo(float x, float y)ï¼šä¸ä¼šè¿›è¡Œç»˜åˆ¶ï¼Œåªç”¨äºç§»åŠ¨ç§»åŠ¨ç”»ç¬”</span><br><span class="line">lineTo(float x, float y)ï¼šç”¨äºç›´çº¿ç»˜åˆ¶ï¼Œé»˜è®¤ä»(<span class="number">0</span>ï¼Œ<span class="number">0</span>)å¼€å§‹ç»˜åˆ¶ï¼Œç”¨moveToç§»åŠ¨ï¼ æ¯”å¦‚ mPath.lineTo(<span class="number">300</span>, <span class="number">300</span>); canvas.drawPath(mPath, mPaint);</span><br><span class="line">quadTo(float x1, float y1, float x2, float y2)ï¼š ç”¨äºç»˜åˆ¶åœ†æ»‘æ›²çº¿ï¼Œå³è´å¡å°”æ›²çº¿</span><br><span class="line">rCubicTo(float x1, float y1, float x2, float y2, float x3, float y3) åŒæ ·æ˜¯ç”¨æ¥å®ç°è´å¡å°”æ›²çº¿çš„ã€‚ (x1,y1) ä¸ºæ§åˆ¶ç‚¹ï¼Œ(x2,y2)ä¸ºæ§åˆ¶ç‚¹ï¼Œ(x3,y3) ä¸ºç»“æŸç‚¹ã€‚</span><br><span class="line">arcTo(RectF oval, float startAngle, float sweepAngle)ï¼š ç»˜åˆ¶å¼§çº¿ï¼ˆå®é™…æ˜¯æˆªå–åœ†æˆ–æ¤­åœ†çš„ä¸€éƒ¨åˆ†ï¼‰ovalRectFä¸ºæ¤­åœ†çš„çŸ©å½¢ï¼ŒstartAngle ä¸ºå¼€å§‹è§’åº¦ï¼Œ sweepAngle ä¸ºç»“æŸè§’åº¦ã€‚</span><br><span class="line"></span><br><span class="line">Drawableå¸¸ç”¨æ–¹æ³•ï¼š</span><br><span class="line">invalidateSelf()ï¼šé‡ç»˜åˆ¶</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>è‡ªç»˜åˆ¶æ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>tags</tag>
      </tags>
  </entry>
  <entry>
    <title>LuaWebViewè®¾ç½®UA</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/LuaWebView%E8%AE%BE%E7%BD%AEUA-2021-11-12%2007:41:34/</url>
    <content><![CDATA[<h1>LuaWebViewè®¾ç½®UA</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.webkit.WebSettings&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> webSettings = LuaWebViewID.getSettings();</span><br><span class="line"><span class="keyword">local</span> newUserAgent = <span class="string">&quot;UAå­—ç¬¦ä¸²&quot;</span>;</span><br><span class="line">webSettings.setUserAgentString(newUserAgent);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>Luaæ•°æ®ç±»å‹</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/Lua%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-2021-11-12%2007:45:24/</url>
    <content><![CDATA[<h1>Luaæ•°æ®ç±»å‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">Luaæ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡ä¸è¦ç±»å‹å®šä¹‰,åªéœ€è¦ä¸ºå˜é‡èµ‹å€¼ã€‚ å€¼å¯ä»¥å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œä½œä¸ºå‚æ•°ä¼ é€’æˆ–ç»“æœè¿”å›ã€‚</span><br><span class="line">Luaä¸­æœ‰<span class="number">8</span>ä¸ªåŸºæœ¬ç±»å‹åˆ†åˆ«ä¸ºï¼š</span><br><span class="line"></span><br><span class="line"><span class="literal">nil</span>ã€booleanã€numberã€<span class="built_in">string</span>ã€userdataã€<span class="function"><span class="keyword">function</span>ã€<span class="title">thread</span>å’Œ<span class="title">table</span>ã€‚</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">  æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<span class="title">type</span>å‡½æ•°æµ‹è¯•ç»™å®šå˜é‡æˆ–è€…å€¼çš„ç±»å‹ï¼š</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(type(&quot;Hello world&quot;)</span></span>)</span><br><span class="line">  <span class="comment">--string</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(<span class="number">10.4</span>*<span class="number">3</span>))</span><br><span class="line">  <span class="comment">--number</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">print</span>))</span><br><span class="line">  <span class="comment">--function</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">type</span>))</span><br><span class="line">  <span class="comment">--function</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(<span class="literal">true</span>))</span><br><span class="line">  <span class="comment">--boolean</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(<span class="literal">nil</span>))</span><br><span class="line">  <span class="comment">--nil</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">type</span>(<span class="built_in">type</span>(X)))</span><br><span class="line">  <span class="comment">--string</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>Toastä¿¡æ¯æç¤º</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/Toast%E4%BF%A1%E6%81%AF%E6%8F%90%E7%A4%BA-2021-11-12%2007:44:15/</url>
    <content><![CDATA[<h1>Toastä¿¡æ¯æç¤º</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--é»˜è®¤Toast</span></span><br><span class="line">Toast.makeText(activity, <span class="string">&quot;Toast&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è‡ªå®šä¹‰ä½ç½®Toast</span></span><br><span class="line">Toast.makeText(activity,<span class="string">&quot;è‡ªå®šä¹‰ä½ç½®Toast&quot;</span>, Toast.LENGTH_LONG).setGravity(Gravity.CENTER, <span class="number">0</span>, <span class="number">0</span>).show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¸¦å›¾ç‰‡Toast</span></span><br><span class="line">å›¾ç‰‡=loadbitmap(<span class="string">&quot;/sdcard/a.png&quot;</span>)</span><br><span class="line">toast = Toast.makeText(activity,<span class="string">&quot;å¸¦å›¾ç‰‡çš„Toast&quot;</span>, Toast.LENGTH_LONG)</span><br><span class="line">toastView = toast.getView()</span><br><span class="line">imageCodeProject = ImageView(activity)</span><br><span class="line">imageCodeProject.setImageBitmap(å›¾ç‰‡)</span><br><span class="line">toastView.addView(imageCodeProject, <span class="number">0</span>)</span><br><span class="line">toast.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è‡ªå®šä¹‰å¸ƒå±€Toast</span></span><br><span class="line">å¸ƒå±€=loadlayout(layout)</span><br><span class="line"><span class="keyword">local</span> toast=Toast.makeText(activity,<span class="string">&quot;æç¤º&quot;</span>,Toast.LENGTH_SHORT).setView(å¸ƒå±€).show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>forå¾ªç¯ï¼Œifåˆ¤æ–­è¯­å¥</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/for%E5%BE%AA%E7%8E%AF%EF%BC%8Cif%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5-2021-11-12%2007:46:26/</url>
    <content><![CDATA[<h1>forå¾ªç¯ï¼Œifåˆ¤æ–­è¯­å¥</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--forå¾ªç¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç»™å®šæ¡ä»¶è¿›è¡Œå¾ªç¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¾“å‡ºä»1åˆ°10</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">10</span> <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¾“å‡ºä»10åˆ°1</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">10</span>,<span class="number">1</span>,<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ‰“å°æ•°ç»„aä¸­æ‰€æœ‰çš„å€¼</span></span><br><span class="line">a=&#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> index,content <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">print</span>(content)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ifåˆ¤æ–­è¯­å¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ¤æ–­å€¼æ˜¯å¦ä¸ºçœŸ</span></span><br><span class="line">a=<span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> a <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;çœŸ&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;å‡&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ¯”è¾ƒå€¼æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">a=<span class="literal">true</span></span><br><span class="line">b=<span class="literal">false</span></span><br><span class="line"><span class="keyword">if</span> a==b <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;çœŸ&quot;</span>)</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;å‡&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>functionå‡½æ•°</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/function%E5%87%BD%E6%95%B0-2021-11-12%2007:45:56/</url>
    <content><![CDATA[<h1>functionå‡½æ•°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">å‡½æ•°æœ‰ä¸¤ä¸ªç”¨é€”</span><br><span class="line"><span class="number">1.</span>å®ŒæˆæŒ‡å®šåŠŸèƒ½ï¼Œå‡½æ•°ä½œä¸ºè°ƒç”¨è¯­å¥ä½¿ç”¨</span><br><span class="line"><span class="number">2.</span>è®¡ç®—å¹¶è¿”å›å€¼ï¼Œå‡½æ•°ä½œä¸ºèµ‹å€¼è¯­å¥çš„è¡¨è¾¾å¼ä½¿ç”¨</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å®ä¾‹<span class="number">1</span>:</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è¯»å–æ–‡ä»¶<span class="params">(è·¯å¾„)</span></span></span><br><span class="line">  æ–‡ä»¶å†…å®¹=<span class="built_in">io</span>.<span class="built_in">open</span>(è·¯å¾„):<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> æ–‡ä»¶å†…å®¹<span class="comment">--returnç”¨æ¥è¿”å›å€¼</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">å®ä¾‹<span class="number">2</span>:</span><br><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.EditText&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.LinearLayout&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> ç¼–è¾‘æ¡†<span class="params">()</span></span></span><br><span class="line">  <span class="keyword">return</span> EditText(activity)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  id=<span class="string">&quot;çˆ¶å¸ƒå±€&quot;</span>,</span><br><span class="line">  &#123;ç¼–è¾‘æ¡†,</span><br><span class="line">    id=<span class="string">&quot;edit&quot;</span>,</span><br><span class="line">    text=<span class="string">&quot;æ–‡æœ¬&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"><span class="comment">--æŠŠè¿™æ®µä»£ç æ”¾åˆ°è°ƒè¯•é‡Œé¢å»æµ‹è¯•</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>popmenuå¼¹å‡ºèœå•</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/popmenu%E5%BC%B9%E5%87%BA%E8%8F%9C%E5%8D%95-2021-11-12%2007:45:07/</url>
    <content><![CDATA[<h1>popmenuå¼¹å‡ºèœå•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--PopupMenuå¼¹å‡ºèœå•</span></span><br><span class="line"></span><br><span class="line">pop=PopupMenu(activity,view)</span><br><span class="line">menu=pop.Menu</span><br><span class="line">menu.add(<span class="string">&quot;é¡¹ç›®1&quot;</span>).onMenuItemClick=<span class="function"><span class="keyword">function</span><span class="params">(a)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">menu.add(<span class="string">&quot;é¡¹ç›®2&quot;</span>).onMenuItemClick=<span class="function"><span class="keyword">function</span><span class="params">(a)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">pop.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºè¾“å…¥æ³•å½±å“å¸ƒå±€</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%85%B3%E4%BA%8E%E8%BE%93%E5%85%A5%E6%B3%95%E5%BD%B1%E5%93%8D%E5%B8%83%E5%B1%80-2021-11-12%2007:44:31/</url>
    <content><![CDATA[<h1>å…³äºè¾“å…¥æ³•å½±å“å¸ƒå±€</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•ä¸å½±å“å¸ƒå±€</span></span><br><span class="line">activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_PAN);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿å¼¹å‡ºçš„è¾“å…¥æ³•å½±å“å¸ƒå±€</span></span><br><span class="line">activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å…³é”®è¯</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%85%B3%E9%94%AE%E8%AF%8D-2021-11-12%2007:45:39/</url>
    <content><![CDATA[<h1>å…³é”®è¯</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ä»¥ä¸‹åˆ—å‡ºäº† Lua çš„ä¿ç•™å…³é”®å­—ã€‚ä¿ç•™å…³é”®å­—ä¸èƒ½ä½œä¸ºå¸¸é‡æˆ–å˜é‡æˆ–å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰æ ‡ç¤ºç¬¦ï¼š</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">and</span> <span class="keyword">break</span> <span class="keyword">do</span> <span class="keyword">else</span> <span class="keyword">elseif</span> <span class="keyword">end</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">for</span> <span class="function"><span class="keyword">function</span> <span class="title">if</span> <span class="title">in</span> <span class="title">local</span> <span class="title">nil</span> <span class="title">not</span></span></span><br><span class="line"><span class="function">  <span class="title">or</span> <span class="title">repeat</span> <span class="title">return</span> <span class="title">then</span> <span class="title">true</span> <span class="title">until</span> <span class="title">while</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"> ä¸€èˆ¬çº¦å®šï¼Œä»¥ä¸‹åˆ’çº¿å¼€å¤´è¿æ¥ä¸€ä¸²å¤§å†™å­—æ¯çš„åå­—ï¼ˆæ¯”å¦‚ <span class="title">_VERSION</span>ï¼‰è¢«ä¿ç•™ç”¨äº <span class="title">Lua</span> å†…éƒ¨å…¨å±€å˜é‡ã€‚</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ—è¡¨å•å‡»äº‹ä»¶</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%88%97%E8%A1%A8%E5%8D%95%E5%87%BB%E4%BA%8B%E4%BB%B6-2021-11-12%2007:47:35/</url>
    <content><![CDATA[<h1>åˆ—è¡¨å•å‡»äº‹ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ID.setOnItemClickListener(AdapterView.OnItemClickListener&#123;</span><br><span class="line">  onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(parent, v, pos,id)</span></span></span><br><span class="line">    <span class="comment">--äº‹ä»¶</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ—è¡¨é•¿æŒ‰äº‹ä»¶</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%88%97%E8%A1%A8%E9%95%BF%E6%8C%89%E4%BA%8B%E4%BB%B6-2021-11-12%2007:47:19/</url>
    <content><![CDATA[<h1>åˆ—è¡¨é•¿æŒ‰äº‹ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">ID.setOnItemLongClickListener(AdapterView.OnItemClickListener&#123;</span><br><span class="line">  onItemLongClick=<span class="function"><span class="keyword">function</span><span class="params">(parent, v, pos,id)</span></span></span><br><span class="line">    <span class="comment">--äº‹ä»¶</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ é™¤æ–‡ä»¶ä¸æ–‡ä»¶å¤¹ï¼Œé€’å½’åˆ é™¤æ–‡ä»¶ä¸æ–‡ä»¶å¤¹</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E4%B8%8E%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%8C%E9%80%92%E5%BD%92%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E4%B8%8E%E6%96%87%E4%BB%B6%E5%A4%B9-2021-11-12%2007:47:04/</url>
    <content><![CDATA[<h1>åˆ é™¤æ–‡ä»¶ä¸æ–‡ä»¶å¤¹ï¼Œé€’å½’åˆ é™¤æ–‡ä»¶ä¸æ–‡ä»¶å¤¹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åˆ é™¤æ–‡ä»¶ä¸æ–‡ä»¶å¤¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨Fileç±»</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span><span class="comment">--å¯¼å…¥Fileç±»</span></span><br><span class="line">File(æ–‡ä»¶è·¯å¾„).delete()</span><br><span class="line"><span class="comment">--ä½¿ç”¨osæ–¹æ³•</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">remove</span> (filename)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--é€’å½’åˆ é™¤æ–‡ä»¶ä¸æ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="comment">--ä½¿ç”¨LuaUtilè¾…åŠ©åº“</span></span><br><span class="line">LuaUtil.rmDir(è·¯å¾„)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨Shell</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;rm -r &quot;</span>..è·¯å¾„)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åŒ¹é…æ±‰å­—</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%8C%B9%E9%85%8D%E6%B1%89%E5%AD%97-2021-11-12%2007:43:58/</url>
    <content><![CDATA[<h1>åŒ¹é…æ±‰å­—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter_spec_chars</span><span class="params">(s)</span></span></span><br><span class="line">  <span class="keyword">local</span> ss = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> k = <span class="number">1</span>, #s <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">local</span> c = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> c <span class="keyword">then</span> <span class="keyword">break</span> <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">if</span> (c&gt;=<span class="number">48</span> <span class="keyword">and</span> c&lt;=<span class="number">57</span>) <span class="keyword">or</span> (c&gt;= <span class="number">65</span> <span class="keyword">and</span> c&lt;=<span class="number">90</span>) <span class="keyword">or</span> (c&gt;=<span class="number">97</span> <span class="keyword">and</span> c&lt;=<span class="number">122</span>) <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">string</span>.<span class="built_in">char</span>(c):<span class="built_in">find</span>(<span class="string">&quot;%w&quot;</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">table</span>.<span class="built_in">insert</span>(ss, <span class="built_in">string</span>.<span class="built_in">char</span>(c))</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">elseif</span> c&gt;=<span class="number">228</span> <span class="keyword">and</span> c&lt;=<span class="number">233</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">local</span> c1 = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k+<span class="number">1</span>)</span><br><span class="line">      <span class="keyword">local</span> c2 = <span class="built_in">string</span>.<span class="built_in">byte</span>(s,k+<span class="number">2</span>)</span><br><span class="line">      <span class="keyword">if</span> c1 <span class="keyword">and</span> c2 <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">local</span> a1,a2,a3,a4 = <span class="number">128</span>,<span class="number">191</span>,<span class="number">128</span>,<span class="number">191</span></span><br><span class="line">        <span class="keyword">if</span> c == <span class="number">228</span> <span class="keyword">then</span> a1 = <span class="number">184</span></span><br><span class="line">        <span class="keyword">elseif</span> c == <span class="number">233</span> <span class="keyword">then</span> a2,a4 = <span class="number">190</span>,c1 ~= <span class="number">190</span> <span class="keyword">and</span> <span class="number">191</span> <span class="keyword">or</span> <span class="number">165</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">if</span> c1&gt;=a1 <span class="keyword">and</span> c1&lt;=a2 <span class="keyword">and</span> c2&gt;=a3 <span class="keyword">and</span> c2&lt;=a4 <span class="keyword">then</span></span><br><span class="line">          k = k + <span class="number">2</span></span><br><span class="line">          <span class="built_in">table</span>.<span class="built_in">insert</span>(ss, <span class="built_in">string</span>.<span class="built_in">char</span>(c,c1,c2))</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">table</span>.<span class="built_in">concat</span>(ss)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(filter_spec_chars(<span class="string">&quot;A1B2æ±‰C3D4å­—E5F6,,,&quot;</span>))</span><br><span class="line"><span class="comment">--æ¥æºç½‘ç»œ,åŠ äº†ä¸ªifè¿‡æ»¤æ‰è‹±æ–‡ä¸æ•°å­—,ä½¿å…¶åªæ•è·ä¸­æ–‡</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åœ†å½¢å›¾ç‰‡</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%9C%86%E5%BD%A2%E5%9B%BE%E7%89%87-2021-11-12%2007:40:00/</url>
    <content><![CDATA[<h1>åœ†å½¢å›¾ç‰‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åœ†å½¢å›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> åœ†å½¢å›¾ç‰‡<span class="params">(bitmap)</span></span></span><br><span class="line">  import <span class="string">&quot;android.graphics.PorterDuffXfermode&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.RectF&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.PorterDuffMode&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Rect&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.graphics.Canvas&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.util.Config&quot;</span></span><br><span class="line">  width = bitmap.getWidth()</span><br><span class="line">  <span class="built_in">output</span> = Bitmap.createBitmap(width, bitmap.getHeight(),Bitmap.Config.ARGB_8888)</span><br><span class="line">  canvas = Canvas(<span class="built_in">output</span>);</span><br><span class="line">  color = <span class="number">0xff424242</span>;</span><br><span class="line">  paint = Paint()</span><br><span class="line">  rect = Rect(<span class="number">0</span>, <span class="number">0</span>, bitmap.getWidth(), bitmap.getHeight());</span><br><span class="line">  rectF = RectF(rect);</span><br><span class="line">  paint.setAntiAlias(<span class="literal">true</span>);</span><br><span class="line">  canvas.drawARGB(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">  paint.setColor(color);</span><br><span class="line">  canvas.drawRoundRect(rectF, width/<span class="number">2</span>, bitmap.getHeight()/<span class="number">2</span>, paint);</span><br><span class="line">  paint.setXfermode(PorterDuffXfermode(Mode.SRC_IN));</span><br><span class="line">  canvas.drawBitmap(bitmap, rect, rect, paint);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">output</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">img=ImageView(activity)</span><br><span class="line">activity.setContentView(img)</span><br><span class="line">img.setImageBitmap(åœ†å½¢å›¾ç‰‡(loadbitmap(<span class="string">&quot;https://image.uisdc.com/wp-content/uploads/2019/06/uisdc-banner-20190614-2.jpg&quot;</span>)))</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…APK</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%AE%89%E8%A3%85APK-2021-11-12%2007:47:50/</url>
    <content><![CDATA[<h1>å®‰è£…APK</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.*&quot;</span> </span><br><span class="line">import <span class="string">&quot;android.net.*&quot;</span> </span><br><span class="line"></span><br><span class="line">intent = Intent(Intent.ACTION_VIEW); </span><br><span class="line">intent.setDataAndType(Uri.parse(<span class="string">&quot;file:///sdcard/jc.apk&quot;</span>), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>); </span><br><span class="line">intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); </span><br><span class="line">activity.startActivity(intent); </span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å¸ƒå±€è®¾ç½®ç‚¹å‡»æ°´æ³¢çº¹æ•ˆæœ</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%B8%83%E5%B1%80%E8%AE%BE%E7%BD%AE%E7%82%B9%E5%87%BB%E6%B0%B4%E6%B3%A2%E7%BA%B9%E6%95%88%E6%9E%9C-2021-11-12%2007:48:05/</url>
    <content><![CDATA[<h1>å¸ƒå±€è®¾ç½®ç‚¹å‡»æ°´æ³¢çº¹æ•ˆæœ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--5.0æˆ–ä»¥ä¸Šå¯ä»¥å®ç°ç‚¹å‡»æ°´æ³¢çº¹æ•ˆæœ</span></span><br><span class="line"><span class="comment">--åœ¨å¸ƒå±€åŠ å…¥ï¼š</span></span><br><span class="line"></span><br><span class="line">style=<span class="string">&quot;?android:attr/buttonBarButtonStyle&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å¼¹å‡ºçª—å£</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%BC%B9%E5%87%BA%E7%AA%97%E5%8F%A3-2021-11-12%2007:44:48/</url>
    <content><![CDATA[<h1>å¼¹å‡ºçª—å£</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¼¹å‡ºçª—å£</span></span><br><span class="line"></span><br><span class="line">pop=PopupWindow(activity)<span class="comment">--åˆ›å»ºPopWindow</span></span><br><span class="line">pop.setContentView(loadlayout(å¸ƒå±€))<span class="comment">--è®¾ç½®å¸ƒå±€</span></span><br><span class="line">pop.setWidth(activity.Width*<span class="number">0.3</span>)<span class="comment">--è®¾ç½®å®½åº¦</span></span><br><span class="line">pop.setHeight(activity.Width*<span class="number">0.3</span>)<span class="comment">--è®¾ç½®é«˜åº¦</span></span><br><span class="line">pop.setFocusable(<span class="literal">true</span>)<span class="comment">--è®¾ç½®å¯è·å¾—ç„¦ç‚¹</span></span><br><span class="line">window.setTouchable(<span class="literal">true</span>)<span class="comment">--è®¾ç½®å¯è§¦æ‘¸</span></span><br><span class="line"><span class="comment">--è®¾ç½®ç‚¹å‡»å¤–éƒ¨åŒºåŸŸæ˜¯å¦å¯ä»¥æ¶ˆå¤±</span></span><br><span class="line">pop.setOutsideTouchable(<span class="literal">false</span>)</span><br><span class="line"><span class="comment">--æ˜¾ç¤º</span></span><br><span class="line">pop.showAtLocation(view,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å¼ºåˆ¶ç»“æŸè‡ªèº«å¹¶æ¸…é™¤æ•°æ®</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%BC%BA%E5%88%B6%E7%BB%93%E6%9D%9F%E8%87%AA%E8%BA%AB%E5%B9%B6%E6%B8%85%E9%99%A4%E6%95%B0%E6%8D%AE-2021-11-12%2007:43:23/</url>
    <content><![CDATA[<h1>å¼ºåˆ¶ç»“æŸè‡ªèº«å¹¶æ¸…é™¤æ•°æ®</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å¼ºåˆ¶ç»“æŸè‡ªèº«å¹¶æ¸…é™¤æ•°æ®</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;pm clear &quot;</span>..activity.getPackageName())</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™å–æ–‡ä»¶å</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E6%AD%A3%E5%88%99%E5%8F%96%E6%96%87%E4%BB%B6%E5%90%8D-2021-11-12%2007:42:51/</url>
    <content><![CDATA[<h1>æ­£åˆ™å–æ–‡ä»¶å</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> å–æ–‡ä»¶å<span class="params">(path)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">path</span>:<span class="built_in">match</span>(<span class="string">&quot;.+/(.+)&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> å–æ–‡ä»¶åæ— åç¼€<span class="params">(path)</span></span></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">path</span>:<span class="built_in">match</span>(<span class="string">&quot;.+/(.+)%..+&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(å–æ–‡ä»¶å(<span class="string">&quot;/com/mukapp/top/muk.lua&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(å–æ–‡ä»¶åæ— åç¼€(<span class="string">&quot;/com/mukapp/top/muk.lua&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ç”³è¯·root</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E7%94%B3%E8%AF%B7root-2021-11-12%2007:49:00/</url>
    <content><![CDATA[<h1>ç”³è¯·root</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ç”³è¯·root</span></span><br><span class="line"><span class="comment">--shellå‘½ä»¤çš„æ–¹æ³•</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">execute</span>(<span class="string">&quot;su&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰Callback</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%87%AA%E5%AE%9A%E4%B9%89Callback-2021-11-12%2007:42:36/</url>
    <content><![CDATA[<h1>è‡ªå®šä¹‰Callback</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è‡ªå®šä¹‰Callback</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SentText</span><span class="params">(text,callback)</span></span></span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    Toast.makeText(activity,text,Toast.LENGTH_SHORT).show()</span><br><span class="line">    callback(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">end</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    callback(<span class="literal">false</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">SentText(<span class="string">&quot;emmmm&quot;</span>,<span class="function"><span class="keyword">function</span><span class="params">(is)</span></span></span><br><span class="line">  <span class="built_in">print</span>(is)</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰å¼¹çª—é¢œè‰²</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%B9%E7%AA%97%E9%A2%9C%E8%89%B2-2021-11-12%2007:49:16/</url>
    <content><![CDATA[<h1>è‡ªå®šä¹‰å¼¹çª—é¢œè‰²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">dialog=AlertDialog.Builder(this)</span><br><span class="line">.setTitle(<span class="string">&quot;æ ‡é¢˜&quot;</span>)</span><br><span class="line">.setMessage(<span class="string">&quot;æ¶ˆæ¯&quot;</span>)</span><br><span class="line">.setPositiveButton(<span class="string">&quot;ç§¯æ&quot;</span>,&#123;onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span> <span class="built_in">print</span><span class="string">&quot;ç‚¹å‡»äº†ç§¯ææŒ‰é’®&quot;</span><span class="keyword">end</span>&#125;)</span><br><span class="line">.setNeutralButton(<span class="string">&quot;ä¸­ç«‹&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">.setNegativeButton(<span class="string">&quot;å¦è®¤&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">.show()</span><br><span class="line">dialog.<span class="built_in">create</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ›´æ”¹æ¶ˆæ¯é¢œè‰²</span></span><br><span class="line">message=dialog.findViewById(android.R.id.message)</span><br><span class="line">message.setTextColor(<span class="number">0xff1DA6DD</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ›´æ”¹Buttoné¢œè‰²</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Color&quot;</span></span><br><span class="line">dialog.getButton(dialog.BUTTON_POSITIVE).setTextColor(<span class="number">0xff1DA6DD</span>)</span><br><span class="line">dialog.getButton(dialog.BUTTON_NEGATIVE).setTextColor(<span class="number">0xff1DA6DD</span>)</span><br><span class="line">dialog.getButton(dialog.BUTTON_NEUTRAL).setTextColor(<span class="number">0xff1DA6DD</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ›´æ”¹Titleé¢œè‰²</span></span><br><span class="line">import <span class="string">&quot;android.text.SpannableString&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.style.ForegroundColorSpan&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.Spannable&quot;</span></span><br><span class="line">sp = SpannableString(<span class="string">&quot;æ ‡é¢˜&quot;</span>)</span><br><span class="line">sp.setSpan(ForegroundColorSpan(<span class="number">0xff1DA6DD</span>),<span class="number">0</span>,#sp,Spannable.SPAN_EXCLUSIVE_INCLUSIVE)</span><br><span class="line">dialog.setTitle(sp)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–LiveViewå‚ç›´åæ ‡</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96LiveView%E5%9E%82%E7%9B%B4%E5%9D%90%E6%A0%87-2021-11-12%2007:48:42/</url>
    <content><![CDATA[<h1>è·å–LiveViewå‚ç›´åæ ‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getScrollY</span><span class="params">()</span></span></span><br><span class="line">  c = ls.getChildAt(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">local</span> firstVisiblePosition = ls.getFirstVisiblePosition();</span><br><span class="line">  <span class="keyword">local</span> top = c.getTop();</span><br><span class="line">  <span class="keyword">return</span> -top + firstVisiblePosition * c.getHeight() ;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–ä¸è®¾ç½®Cookie</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E4%B8%8E%E8%AE%BE%E7%BD%AECookie-2021-11-12%2007:41:17/</url>
    <content><![CDATA[<h1>è·å–ä¸è®¾ç½®Cookie</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.webkit.CookieSyncManager&quot;</span></span><br><span class="line">import <span class="string">&quot;android.webkit.CookieManager&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è®¾ç½®<span class="title">Cookie</span><span class="params">(context,url,content)</span></span></span><br><span class="line">  CookieSyncManager.createInstance(context)</span><br><span class="line">  <span class="keyword">local</span> cookieManager = CookieManager.getInstance()</span><br><span class="line">  cookieManager.setAcceptCookie(<span class="literal">true</span>)</span><br><span class="line">  cookieManager.removeSessionCookie()</span><br><span class="line">  cookieManager.removeAllCookie()</span><br><span class="line">  cookieManager.setCookie(url, content)</span><br><span class="line">  CookieSyncManager.getInstance().sync()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–<span class="title">Cookie</span><span class="params">(url)</span></span></span><br><span class="line">  <span class="keyword">local</span> cookieManager = CookieManager.getInstance();</span><br><span class="line">  <span class="keyword">return</span> cookieManager.getCookie(url);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">--è·å–https://www.baidu.comçš„cookieå¹¶æ‰“å°</span></span><br><span class="line"><span class="built_in">print</span>(è·å–Cookie(<span class="string">&quot;https://www.baidu.com&quot;</span>))</span><br><span class="line"><span class="comment">--è®¾ç½®https://www.baidu.comçš„cookieä¸ºThis is cookie</span></span><br><span class="line">è®¾ç½®Cookie(activity,<span class="string">&quot;https://www.baidu.com&quot;</span>,<span class="string">&quot;This is cookie&quot;</span>)</span><br><span class="line"><span class="comment">--è·å–https://www.baidu.comçš„cookieå¹¶æ‰“å°</span></span><br><span class="line"><span class="built_in">print</span>(è·å–Cookie(<span class="string">&quot;https://www.baidu.com&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ‚¬æµ®çª—æƒé™</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E6%82%AC%E6%B5%AE%E7%AA%97%E6%9D%83%E9%99%90-2021-11-12%2007:39:43/</url>
    <content><![CDATA[<h1>è·å–æ‚¬æµ®çª—æƒé™</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è·å–æ‚¬æµ®çª—æƒé™</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.provider.Settings&quot;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ‚¬æµ®çª—æƒé™<span class="params">()</span></span></span><br><span class="line">  intent = Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION);</span><br><span class="line">  intent.setData(Uri.parse(<span class="string">&quot;package:&quot;</span> .. activity.getPackageName()));</span><br><span class="line">  activity.startActivityForResult(intent, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">è·å–æ‚¬æµ®çª—æƒé™()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ§ä»¶å›¾ç‰‡</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E5%9B%BE%E7%89%87-2021-11-12%2007:40:59/</url>
    <content><![CDATA[<h1>è·å–æ§ä»¶å›¾ç‰‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è·å–æ§ä»¶å›¾ç‰‡</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> è·å–æ§ä»¶å›¾ç‰‡<span class="params">(view)</span></span></span><br><span class="line">  <span class="keyword">local</span> linearParams = view.getLayoutParams()</span><br><span class="line">  <span class="keyword">local</span> vw=linearParams.width</span><br><span class="line">  <span class="keyword">local</span> linearParams = view.getLayoutParams()</span><br><span class="line">  <span class="keyword">local</span> vh=linearParams.height</span><br><span class="line">  view.setDrawingCacheEnabled(<span class="literal">true</span>)</span><br><span class="line">  view.layout(<span class="number">0</span>,<span class="number">0</span>,vw,vh)</span><br><span class="line">  <span class="keyword">return</span> Bitmap.createBitmap(view.getDrawingCache())</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">--å¸ƒå±€</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout,</span><br><span class="line">  layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">  layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    TextView,</span><br><span class="line">    textSize=<span class="string">&quot;14sp&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;56dp&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;42dp&quot;</span>,</span><br><span class="line">    text=<span class="string">&quot;TextView1&quot;</span>,</span><br><span class="line">    textColor=<span class="string">&quot;#FFFFFFFF&quot;</span>;</span><br><span class="line">    background=<span class="string">&quot;#212121&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;tv&quot;</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    ImageView,</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;img&quot;</span>;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--è®¾ç½®å¸ƒå±€</span></span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"><span class="comment">--è·å–tvçš„å›¾ç‰‡è®¾ç½®ç»™img</span></span><br><span class="line">img.setImageBitmap(è·å–æ§ä»¶å›¾ç‰‡(tv))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ§ä»¶é«˜åº¦</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E6%8E%A7%E4%BB%B6%E9%AB%98%E5%BA%A6-2021-11-12%2007:43:40/</url>
    <content><![CDATA[<h1>è·å–æ§ä»¶é«˜åº¦</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è·å–æ§ä»¶é«˜åº¦</span></span><br><span class="line"><span class="comment">--å¯¼å…¥åŒ…</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getwh</span><span class="params">(view)</span></span></span><br><span class="line">  view.measure(View.MeasureSpec.makeMeasureSpec(<span class="number">0</span>,View.MeasureSpec.UNSPECIFIED),View.MeasureSpec.makeMeasureSpec(<span class="number">0</span>,View.MeasureSpec.UNSPECIFIED));</span><br><span class="line">  height =view.getMeasuredHeight();</span><br><span class="line">  width =view.getMeasuredWidth();</span><br><span class="line">  <span class="keyword">return</span> width,height</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨æ–¹æ³•</span></span><br><span class="line"><span class="built_in">print</span>(getwh(æ§ä»¶ID))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è§†é¢‘å¼‚å½¢å±çš„å…¨å±</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%A7%86%E9%A2%91%E5%BC%82%E5%BD%A2%E5%B1%8F%E7%9A%84%E5%85%A8%E5%B1%8F-2021-11-12%2007:40:17/</url>
    <content><![CDATA[<h1>è§†é¢‘å¼‚å½¢å±çš„å…¨å±</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> å…¨å±<span class="params">()</span></span></span><br><span class="line">  window = activity.getWindow();</span><br><span class="line">  window.getDecorView().setSystemUiVisibility(View.SYSTEM_UI_FLAG_FULLSCREEN|View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN);</span><br><span class="line">  window.addFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)</span><br><span class="line">  <span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">    lp = window.getAttributes();</span><br><span class="line">    lp.layoutInDisplayCutoutMode = WindowManager.LayoutParams.LAYOUT_IN_DISPLAY_CUTOUT_MODE_SHORT_EDGES;</span><br><span class="line">    window.setAttributes(lp);</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span><span class="params">(e)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--ä½¿ç”¨è¯¥ä»£ç å¯èƒ½éœ€è¦éšè—ActionBar</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ç¤ºä¾‹</span></span><br><span class="line">å…¨å±()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®æ§ä»¶å­—ä½“</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E6%8E%A7%E4%BB%B6%E5%AD%97%E4%BD%93-2021-11-12%2007:43:06/</url>
    <content><![CDATA[<h1>è®¾ç½®æ§ä»¶å­—ä½“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.graphics.Typeface&quot;</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨ä¸­è°ƒç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å­—ä½“<span class="params">(t)</span></span></span><br><span class="line">  <span class="keyword">return</span> Typeface.createFromFile(File(activity.getLuaDir()..<span class="string">&quot;/res/&quot;</span>..t..<span class="string">&quot;.ttf&quot;</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ —å­:Typeface=å­—ä½“(&quot;Product&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä»£ç ä¸­è°ƒç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> å­—ä½“è®¾ç½®<span class="params">(id,t)</span></span></span><br><span class="line">  id.setTypeface(Typeface.createFromFile(File(activity.getLuaDir()..<span class="string">&quot;/res/&quot;</span>..t..<span class="string">&quot;.ttf&quot;</span>)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ —å­:å­—ä½“è®¾ç½®(tv,&quot;Product&quot;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å­—ä½“éœ€è¦æ”¾åœ¨resæ–‡ä»¶å¤¹ä¸‹</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è´å¡å°”æ›²çº¿</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF-2021-11-12%2007:40:40/</url>
    <content><![CDATA[<h1>è´å¡å°”æ›²çº¿</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;com.androlua.LuaDrawable&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Path&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Paint&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dp2px</span><span class="params">(dpValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> dpValue * scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">px2dp</span><span class="params">(pxValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> pxValue / scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">px2sp</span><span class="params">(pxValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity;</span><br><span class="line">  <span class="keyword">return</span> pxValue / scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sp2px</span><span class="params">(spValue)</span></span></span><br><span class="line">  <span class="keyword">local</span> scale = activity.getResources().getDisplayMetrics().scaledDensity</span><br><span class="line">  <span class="keyword">return</span> spValue * scale + <span class="number">0.5</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">layout=&#123;</span><br><span class="line">  RelativeLayout;</span><br><span class="line">  layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">  background=backgroundc;</span><br><span class="line">  layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    RelativeLayout,</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;llb&quot;</span>,</span><br><span class="line">    gravity=<span class="string">&quot;bottom&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      RelativeLayout,</span><br><span class="line">      layout_width=<span class="string">&quot;fill&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;56dp&quot;</span>,</span><br><span class="line">      clickable=<span class="string">&quot;true&quot;</span>,</span><br><span class="line">      id=<span class="string">&quot;ll&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        gravity=<span class="string">&quot;left|center&quot;</span>;</span><br><span class="line">        paddingLeft=<span class="string">&quot;8dp&quot;</span>;</span><br><span class="line">        paddingRight=<span class="string">&quot;8dp&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-2&quot;</span>;</span><br><span class="line">          layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;56dp&quot;</span>;</span><br><span class="line">          layout_marginRight=<span class="string">&quot;20dp&quot;</span>;</span><br><span class="line">          layout_marginLeft=<span class="string">&quot;8dp&quot;</span>;</span><br><span class="line">          <span class="comment">--background=grayc;</span></span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout;</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">    gravity=<span class="string">&quot;right|bottom&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;56dp&quot;</span>,</span><br><span class="line">      layout_height=<span class="string">&quot;56dp&quot;</span>,</span><br><span class="line">      radius=<span class="string">&quot;28dp&quot;</span>;</span><br><span class="line">      layout_margin=<span class="string">&quot;28dp&quot;</span>;</span><br><span class="line">      CardBackgroundColor=<span class="string">&quot;0xffffffff&quot;</span>;</span><br><span class="line">      elevation=<span class="string">&quot;6dp&quot;</span>;</span><br><span class="line">      alpha=<span class="number">1</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line">myLuaDrawable=LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(mCanvas,mPaint,mDrawable)</span></span></span><br><span class="line"></span><br><span class="line">  mPaint.setColor(<span class="number">0xffffffff</span>)</span><br><span class="line">  mPaint.setAntiAlias(<span class="literal">true</span>)</span><br><span class="line">  mPaint.setStrokeWidth(<span class="number">20</span>)</span><br><span class="line">  mPaint.setStyle(Paint.Style.FILL)</span><br><span class="line">  mPaint.setStrokeCap(Paint.Cap.ROUND)</span><br><span class="line"></span><br><span class="line">  w=mDrawable.getBounds().right</span><br><span class="line">  h=mDrawable.getBounds().bottom</span><br><span class="line"></span><br><span class="line">  mPath=Path()</span><br><span class="line"></span><br><span class="line">  mPath.moveTo(w, h);</span><br><span class="line">  mPath.lineTo(<span class="number">0</span>, h);</span><br><span class="line">  mPath.lineTo(<span class="number">0</span>, h-dp2px(<span class="number">56</span>));</span><br><span class="line"></span><br><span class="line">  mPath.lineTo(w-dp2px(<span class="number">56</span>+<span class="number">16</span>+<span class="number">16</span>+<span class="number">8</span>), h-dp2px(<span class="number">56</span>));</span><br><span class="line">  mPath.rQuadTo(dp2px(<span class="number">8</span>), dp2px(<span class="number">0</span>),dp2px(<span class="number">8</span>+<span class="number">1</span>), dp2px(<span class="number">8</span>))</span><br><span class="line">  mPath.rCubicTo(dp2px(<span class="number">8</span><span class="number">-1</span>), dp2px(<span class="number">28</span>+<span class="number">4</span>),dp2px(<span class="number">56</span><span class="number">-1</span>), dp2px(<span class="number">28</span>+<span class="number">4</span>),dp2px(<span class="number">56</span>+<span class="number">8</span><span class="number">-2</span>), dp2px(<span class="number">0</span>))</span><br><span class="line">  mPath.rQuadTo(dp2px(<span class="number">1</span>), dp2px(<span class="number">-8</span>),dp2px(<span class="number">8</span>+<span class="number">1</span>), dp2px(<span class="number">-8</span>))</span><br><span class="line">  mPath.rLineTo(w, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  mCanvas.drawColor(<span class="number">0x00000000</span>)</span><br><span class="line">  mCanvas.drawPath(mPath, mPaint);</span><br><span class="line"></span><br><span class="line">  mPath.<span class="built_in">close</span>();</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">ll.background=myLuaDrawable</span><br><span class="line"></span><br><span class="line">myLuaDrawable=LuaDrawable(<span class="function"><span class="keyword">function</span><span class="params">(mCanvas,mPaint,mDrawable)</span></span></span><br><span class="line"></span><br><span class="line">  mPaint.setColor(<span class="number">0x21000000</span>)</span><br><span class="line">  mPaint.setAntiAlias(<span class="literal">true</span>)</span><br><span class="line">  mPaint.setStrokeWidth(dp2px(<span class="number">4</span>))</span><br><span class="line">  mPaint.setStyle(Paint.Style.FILL)</span><br><span class="line">  mPaint.setStrokeCap(Paint.Cap.ROUND)</span><br><span class="line"></span><br><span class="line">  w=mDrawable.getBounds().right</span><br><span class="line">  h=mDrawable.getBounds().bottom</span><br><span class="line"></span><br><span class="line">  mPath=Path()</span><br><span class="line"></span><br><span class="line">  mPath.moveTo(w, h);</span><br><span class="line">  mPath.lineTo(<span class="number">0</span>, h);</span><br><span class="line">  mPath.lineTo(<span class="number">0</span>, h-dp2px(<span class="number">56</span>));</span><br><span class="line"></span><br><span class="line">  mPath.lineTo(w-dp2px(<span class="number">56</span>+<span class="number">16</span>+<span class="number">16</span>+<span class="number">8</span>), h-dp2px(<span class="number">56</span>));</span><br><span class="line">  mPath.rQuadTo(dp2px(<span class="number">8</span>), dp2px(<span class="number">0</span>),dp2px(<span class="number">8</span>+<span class="number">1</span>), dp2px(<span class="number">8</span>))</span><br><span class="line">  mPath.rCubicTo(dp2px(<span class="number">8</span><span class="number">-1</span>), dp2px(<span class="number">28</span>+<span class="number">4</span>),dp2px(<span class="number">56</span><span class="number">-1</span>), dp2px(<span class="number">28</span>+<span class="number">4</span>),dp2px(<span class="number">56</span>+<span class="number">8</span><span class="number">-2</span>), dp2px(<span class="number">0</span>))</span><br><span class="line">  mPath.rQuadTo(dp2px(<span class="number">1</span>), dp2px(<span class="number">-8</span>),dp2px(<span class="number">8</span>+<span class="number">1</span>), dp2px(<span class="number">-8</span>))</span><br><span class="line">  mPath.rLineTo(w, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">  mCanvas.drawColor(<span class="number">0x00000000</span>)</span><br><span class="line">  mPaint.setShadowLayer(dp2px(<span class="number">1</span>), <span class="number">0</span>, dp2px(<span class="number">-1</span>), <span class="number">0x70FFFFFF</span>);</span><br><span class="line"></span><br><span class="line">  mCanvas.drawPath(mPath, mPaint);</span><br><span class="line"></span><br><span class="line">  mPath.<span class="built_in">close</span>();</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br><span class="line">llb.background=myLuaDrawable</span><br><span class="line"></span><br><span class="line">ã€‹ã€‹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ã€Šã€Šä½¿ç”¨ç³»ç»ŸTTSæ’­æŠ¥è¯­éŸ³ã€‹ã€‹</span><br><span class="line">ã€Šã€Š</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½¿ç”¨ç³»ç»ŸTTSæ’­æŠ¥è¯­éŸ³</span></span><br><span class="line">import <span class="string">&quot;android.speech.tts.*&quot;</span></span><br><span class="line"></span><br><span class="line">mTextSpeech = TextToSpeech(activity, TextToSpeech.OnInitListener&#123;</span><br><span class="line">  onInit=<span class="function"><span class="keyword">function</span><span class="params">(status)</span></span></span><br><span class="line">    <span class="comment">--å¦‚æœè£…è½½TTSæˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">status</span> == TextToSpeech.SUCCESS)</span><br><span class="line">      result = mTextSpeech.setLanguage(Locale.CHINESE);</span><br><span class="line">      <span class="comment">--[[LANG_MISSING_DATA--&gt;è¯­è¨€çš„æ•°æ®ä¸¢å¤±</span></span><br><span class="line"><span class="comment">          LANG_NOT_SUPPORTED--&gt;è¯­è¨€ä¸æ”¯æŒ]]</span></span><br><span class="line">      <span class="keyword">if</span> (result == TextToSpeech.LANG_MISSING_DATA <span class="keyword">or</span> result == TextToSpeech.LANG_NOT_SUPPORTED)</span><br><span class="line">        <span class="comment">--ä¸æ”¯æŒä¸­æ–‡</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ‚¨çš„æ‰‹æœºä¸æ”¯æŒä¸­æ–‡è¯­éŸ³æ’­æŠ¥åŠŸèƒ½ã€‚&quot;</span>);</span><br><span class="line">        result = mTextSpeech.setLanguage(Locale.ENGLISH);</span><br><span class="line">        <span class="keyword">if</span> (result == TextToSpeech.LANG_MISSING_DATA <span class="keyword">or</span> result == TextToSpeech.LANG_NOT_SUPPORTED)</span><br><span class="line">          <span class="comment">--ä¸æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡</span></span><br><span class="line">          <span class="built_in">print</span>(<span class="string">&quot;æ‚¨çš„æ‰‹æœºä¸æ”¯æŒè¯­éŸ³æ’­æŠ¥åŠŸèƒ½ã€‚&quot;</span>);</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">          <span class="comment">--ä¸æ”¯æŒä¸­æ–‡ä½†æ”¯æŒè‹±æ–‡</span></span><br><span class="line">          <span class="comment">--è¯­è°ƒ,1.0é»˜è®¤</span></span><br><span class="line">          mTextSpeech.setPitch(<span class="number">1</span>);</span><br><span class="line">          <span class="comment">--è¯­é€Ÿ,1.0é»˜è®¤</span></span><br><span class="line">          mTextSpeech.setSpeechRate(<span class="number">1</span>);</span><br><span class="line">          mTextSpeech.speak(<span class="string">&quot;hello,MLua Manual.Hello,World!&quot;</span>, TextToSpeech.QUEUE_FLUSH, <span class="literal">nil</span>);</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">       <span class="keyword">else</span></span><br><span class="line">        <span class="comment">--æ”¯æŒä¸­æ–‡</span></span><br><span class="line">        <span class="comment">--è¯­è°ƒ,1.0é»˜è®¤</span></span><br><span class="line">        mTextSpeech.setPitch(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">--è¯­é€Ÿ,1.0é»˜è®¤</span></span><br><span class="line">        mTextSpeech.setSpeechRate(<span class="number">1</span>);</span><br><span class="line">        mTextSpeech.speak(<span class="string">&quot;ä½ å¥½ï¼ŒMLuaæ‰‹å†Œã€‚ä½ å¥½ï¼Œä¸–ç•Œï¼&quot;</span>, TextToSpeech.QUEUE_FLUSH, <span class="literal">nil</span>);</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è¿”å›æœ€å°åŒ–</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%BF%94%E5%9B%9E%E6%9C%80%E5%B0%8F%E5%8C%96-2021-11-12%2007:46:42/</url>
    <content><![CDATA[<h1>è¿”å›æœ€å°åŒ–</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å°èœé¸Ÿï¼Œè¿™ä¸ªå¯ä»¥æŒ‚åå°</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyDown</span><span class="params">(e)</span></span></span><br><span class="line">  <span class="keyword">if</span> e==<span class="number">4</span> <span class="keyword">then</span></span><br><span class="line">    import <span class="string">&quot;android.content.Intent&quot;</span><span class="comment">--è®°å¾—è¿™ä¸ª</span></span><br><span class="line">    intent=Intent();</span><br><span class="line">    intent.setAction(<span class="string">&quot;android.intent.action.MAIN&quot;</span>);</span><br><span class="line">    intent.addCategory(<span class="string">&quot;android.intent.category.HOME&quot;</span>);</span><br><span class="line">    activity.startActivity(intent)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è¿”å›æ¡Œé¢</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%BF%94%E5%9B%9E%E6%A1%8C%E9%9D%A2-2021-11-12%2007:41:49/</url>
    <content><![CDATA[<h1>è¿”å›æ¡Œé¢</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">home=Intent(Intent.ACTION_MAIN);</span><br><span class="line">home.addCategory(Intent.CATEGORY_HOME);</span><br><span class="line">activity.startActivity(home);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>é€’å½’æœç´¢æ–‡ä»¶</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E9%80%92%E5%BD%92%E6%90%9C%E7%B4%A2%E6%96%87%E4%BB%B6-2021-11-12%2007:48:25/</url>
    <content><![CDATA[<h1>é€’å½’æœç´¢æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">find</span><span class="params">(catalog,name)</span></span></span><br><span class="line">  <span class="keyword">local</span> n=<span class="number">0</span></span><br><span class="line">  <span class="keyword">local</span> t=<span class="built_in">os</span>.<span class="built_in">clock</span>()</span><br><span class="line">  <span class="keyword">local</span> ret=&#123;&#125;</span><br><span class="line">  <span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span> </span><br><span class="line">  import <span class="string">&quot;java.lang.String&quot;</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">FindFile</span><span class="params">(catalog,name)</span></span></span><br><span class="line">    <span class="keyword">local</span> name=<span class="built_in">tostring</span>(name)</span><br><span class="line">    <span class="keyword">local</span> ls=catalog.listFiles() <span class="keyword">or</span> File&#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> æ¬¡æ•°=<span class="number">0</span>,#ls<span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line">      <span class="comment">--local ç›®å½•=tostring(ls[æ¬¡æ•°])</span></span><br><span class="line">      <span class="keyword">local</span> f=ls[æ¬¡æ•°]</span><br><span class="line">      <span class="keyword">if</span> f.isDirectory() <span class="keyword">then</span><span class="comment">--å¦‚æœæ˜¯æ–‡ä»¶å¤¹åˆ™ç»§ç»­åŒ¹é…</span></span><br><span class="line">        FindFile(f,name)</span><br><span class="line">      <span class="keyword">else</span><span class="comment">--å¦‚æœæ˜¯æ–‡ä»¶åˆ™</span></span><br><span class="line">        n=n+<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n%<span class="number">1000</span>==<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">          <span class="comment">--print(n,os.clock()-t)</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">local</span> nm=f.Name</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">find</span>(nm,name) <span class="keyword">then</span></span><br><span class="line">          <span class="comment">--thread(insert,ç›®å½•)</span></span><br><span class="line">          <span class="built_in">table</span>.<span class="built_in">insert</span>(ret,nm)</span><br><span class="line">          <span class="built_in">print</span>(nm)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      luajava.clear(f)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  FindFile(catalog,name)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;ok&quot;</span>,n,#ret)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line"></span><br><span class="line">catalog=File(<span class="string">&quot;sdcard/&quot;</span>)</span><br><span class="line">name=<span class="string">&quot;.j?pn?g&quot;</span></span><br><span class="line"><span class="comment">--task(find,catalog,name,print)</span></span><br><span class="line">thread(<span class="built_in">find</span>,catalog,name)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>é€šçŸ¥å›¾åº“æ›´æ–°å›¾ç‰‡</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E9%80%9A%E7%9F%A5%E5%9B%BE%E5%BA%93%E6%9B%B4%E6%96%B0%E5%9B%BE%E7%89%87-2021-11-12%2007:42:20/</url>
    <content><![CDATA[<h1>é€šçŸ¥å›¾åº“æ›´æ–°å›¾ç‰‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ–¹æ³•1 é€šè¿‡å¹¿æ’­</span></span><br><span class="line">activity.sendBroadcast(Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE,Uri.parse(<span class="string">&quot;file://&quot;</span>..å›¾ç‰‡è·¯å¾„)))</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ–¹æ³•2 MediaScannerConnection</span></span><br><span class="line">import <span class="string">&quot;android.media.MediaScannerConnection&quot;</span></span><br><span class="line">MediaScannerConnection.scanFile(activity, &#123;File(å›¾ç‰‡è·¯å¾„).getAbsolutePath()&#125;, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>é«˜æ–¯æ¨¡ç³Š</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A-2021-11-12%2007:39:20/</url>
    <content><![CDATA[<h1>é«˜æ–¯æ¨¡ç³Š</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--é«˜æ–¯æ¨¡ç³Š</span></span><br><span class="line"><span class="comment">--é«˜æ–¯æ¨¡ç³Š</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.renderscript.Element&quot;</span></span><br><span class="line">import <span class="string">&quot;android.renderscript.Allocation&quot;</span></span><br><span class="line">import <span class="string">&quot;android.renderscript.RenderScript&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Bitmap&quot;</span></span><br><span class="line">import <span class="string">&quot;android.renderscript.ScriptIntrinsicBlur&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.Matrix&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> é«˜æ–¯æ¨¡ç³Š<span class="params">(id,tp,radius1,radius2)</span></span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">blur</span><span class="params">( context, bitmap, blurRadius)</span></span></span><br><span class="line">    renderScript = RenderScript.<span class="built_in">create</span>(context);</span><br><span class="line">    blurScript = ScriptIntrinsicBlur.<span class="built_in">create</span>(renderScript, Element.U8_4(renderScript));</span><br><span class="line">    inAllocation = Allocation.createFromBitmap(renderScript, bitmap);</span><br><span class="line">    outputBitmap = bitmap;</span><br><span class="line">    outAllocation = Allocation.createTyped(renderScript, inAllocation.getType());</span><br><span class="line">    blurScript.setRadius(blurRadius);</span><br><span class="line">    blurScript.setInput(inAllocation);</span><br><span class="line">    blurScript.forEach(outAllocation);</span><br><span class="line">    outAllocation.copyTo(outputBitmap);</span><br><span class="line">    inAllocation.destroy();</span><br><span class="line">    outAllocation.destroy();</span><br><span class="line">    renderScript.destroy();</span><br><span class="line">    blurScript.destroy();</span><br><span class="line">    <span class="keyword">return</span> outputBitmap;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">zoomBitmap</span><span class="params">(bitmap,scale)</span></span></span><br><span class="line">    w = bitmap.getWidth();</span><br><span class="line">    h = bitmap.getHeight();</span><br><span class="line">    matrix = Matrix();</span><br><span class="line">    matrix.postScale(scale, scale);</span><br><span class="line">    bitmap = Bitmap.createBitmap(bitmap, <span class="number">0</span>, <span class="number">0</span>, w, h, matrix, <span class="literal">true</span>);</span><br><span class="line">    <span class="keyword">return</span> bitmap;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">blurAndZoom</span><span class="params">(context,bitmap,blurRadius,scale)</span></span></span><br><span class="line">    <span class="keyword">return</span> zoomBitmap(blur(context,zoomBitmap(bitmap, <span class="number">1</span> / scale), blurRadius), scale);</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  id.setImageBitmap(blurAndZoom(activity,tp,radius1,radius2))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">é«˜æ–¯æ¨¡ç³Š(id,tp,radius1,radius2)</span></span><br><span class="line"><span class="comment">radius1 èŒƒå›´ï¼š1-25</span></span><br><span class="line"><span class="comment">radius2 èŒƒå›´ï¼š1-ï¼Ÿ(æ®å›¾ç‰‡è€Œå®šå¤ªå¤§æŠ¥é”™)</span></span><br><span class="line"><span class="comment">]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨ä¾‹å­</span></span><br><span class="line">img=ImageView(activity)</span><br><span class="line">activity.setContentView(img)</span><br><span class="line"></span><br><span class="line">é«˜æ–¯æ¨¡ç³Š(img,loadbitmap(<span class="string">&quot;https://image.uisdc.com/wp-content/uploads/2019/06/uisdc-banner-20190614-2.jpg&quot;</span>),<span class="number">4</span>,<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>POSTæäº¤å­—ç¬¦ä¸²</title>
    <url>/2021/11/12/Http%E6%95%99%E7%A8%8B/POST%E6%8F%90%E4%BA%A4%E5%AD%97%E7%AC%A6%E4%B8%B2-2021-11-12%2012:45:54/</url>
    <content><![CDATA[<h1>POSTæäº¤å­—ç¬¦ä¸²</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éœ€å¯¼å…¥çš„DEXè¯·è‡ªè¡Œå°†è¿è¡ŒåŠ©æ‰‹æ‹†åŒ…ï¼Œåœ¨libsæ–‡ä»¶å¤¹é‡Œ</span></span><br><span class="line"><span class="comment">--POSTæäº¤å­—ç¬¦ä¸²ï¼Œé™¤æ³¨é‡Šå¤–éƒ½æ˜¯å›ºå®šæ¨¡æ¿ï¼Œå¤åˆ¶ç²˜è´´å³å¯</span></span><br><span class="line">import <span class="string">&#x27;com.kn.okhttp.*&#x27;</span></span><br><span class="line">import <span class="string">&#x27;okhttp3.*&#x27;</span></span><br><span class="line">mediaType = MediaType.parse(<span class="string">&#x27;text/x-markdown; charset=utf-8&#x27;</span>)</span><br><span class="line">requestBody = <span class="string">&#x27;I am Jdqm&#x27;</span><span class="comment">--æäº¤å­—ç¬¦ä¸²</span></span><br><span class="line">request = Request.Builder()</span><br><span class="line">.url(<span class="string">&#x27;https://api.github.com/markdown/raw&#x27;</span>)<span class="comment">--è¯·æ±‚URL</span></span><br><span class="line">.post(RequestBody.<span class="built_in">create</span>(mediaType,requestBody))</span><br><span class="line">.build()</span><br><span class="line">okHttpClient = OkHttpClient()</span><br><span class="line">okHttpClient.newCall(request).enqueue(Callback&#123;</span><br><span class="line">  onFailure = <span class="function"><span class="keyword">function</span><span class="params">(call,e)</span></span><span class="comment">--å¤±è´¥è¯·æ±‚</span></span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">  onResponse = <span class="function"><span class="keyword">function</span><span class="params">(call,response)</span></span><span class="comment">--è¯·æ±‚æˆåŠŸ</span></span><br><span class="line">    headers = response.headers()</span><br><span class="line">    <span class="built_in">print</span>(headers)<span class="comment">--å±•ç¤ºè¿”å›å¤´éƒ¨</span></span><br><span class="line">    <span class="built_in">print</span>(response.body().<span class="built_in">string</span>())<span class="comment">--å±•ç¤ºè¿”å›å†…å®¹</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Httpæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Httpæ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>POSTæäº¤æ–‡ä»¶</title>
    <url>/2021/11/12/Http%E6%95%99%E7%A8%8B/POST%E6%8F%90%E4%BA%A4%E6%96%87%E4%BB%B6-2021-11-12%2012:46:12/</url>
    <content><![CDATA[<h1>POSTæäº¤æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éœ€å¯¼å…¥çš„DEXè¯·è‡ªè¡Œå°†è¿è¡ŒåŠ©æ‰‹æ‹†åŒ…ï¼Œåœ¨libsæ–‡ä»¶å¤¹é‡Œ</span></span><br><span class="line"><span class="comment">--POSTæäº¤æ–‡ä»¶ï¼Œé™¤æ³¨é‡Šå¤–éƒ½æ˜¯å›ºå®šæ¨¡æ¿ï¼Œå¤åˆ¶ç²˜è´´å³å¯</span></span><br><span class="line">import <span class="string">&#x27;com.kn.okhttp.*&#x27;</span></span><br><span class="line">import <span class="string">&#x27;okhttp3.*&#x27;</span></span><br><span class="line">mediaType = MediaType.parse(<span class="string">&quot;text/x-markdown; charset=utf-8&quot;</span>);</span><br><span class="line">okHttpClient = OkHttpClient();</span><br><span class="line">file = File(activity.getLuaDir()..<span class="string">&#x27;/init.lua&#x27;</span>);<span class="comment">--æäº¤çš„æ–‡ä»¶</span></span><br><span class="line">request = Request.Builder()</span><br><span class="line">.url(<span class="string">&quot;https://api.github.com/markdown/raw&quot;</span>)<span class="comment">--URL</span></span><br><span class="line">.post(RequestBody.<span class="built_in">create</span>(mediaType, file))</span><br><span class="line">.build();</span><br><span class="line">okHttpClient.newCall(request).enqueue(Callback &#123;</span><br><span class="line">  onFailure = <span class="function"><span class="keyword">function</span><span class="params">(call, e)</span></span> <span class="comment">--å¤±è´¥</span></span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">  onResponse = <span class="function"><span class="keyword">function</span><span class="params">(call,response)</span></span> <span class="comment">--æˆåŠŸ</span></span><br><span class="line">    <span class="built_in">print</span>(response.headers())</span><br><span class="line">    <span class="built_in">print</span>(response.body().<span class="built_in">string</span>())</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Httpæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Httpæ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>POSTæäº¤è¡¨å•</title>
    <url>/2021/11/12/Http%E6%95%99%E7%A8%8B/POST%E6%8F%90%E4%BA%A4%E8%A1%A8%E5%8D%95-2021-11-12%2012:46:34/</url>
    <content><![CDATA[<h1>POSTæäº¤è¡¨å•</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éœ€å¯¼å…¥çš„DEXè¯·è‡ªè¡Œå°†è¿è¡ŒåŠ©æ‰‹æ‹†åŒ…ï¼Œåœ¨libsæ–‡ä»¶å¤¹é‡Œ</span></span><br><span class="line"><span class="comment">--POSTæäº¤è¡¨å•ï¼Œé™¤æ³¨é‡Šå¤–éƒ½æ˜¯å›ºå®šæ¨¡æ¿ï¼Œå¤åˆ¶ç²˜è´´å³å¯</span></span><br><span class="line"><span class="comment">--è¯¥æµ‹è¯•ç½‘å€å·²æŒ‚ï¼Œè‡ªå·±å¯»æ‰¾ç½‘å€æµ‹è¯•</span></span><br><span class="line">import <span class="string">&#x27;com.kn.okhttp.*&#x27;</span></span><br><span class="line">import <span class="string">&#x27;okhttp3.*&#x27;</span></span><br><span class="line">okHttpClient = OkHttpClient();</span><br><span class="line">requestBody = FormBody.Builder()</span><br><span class="line">.add(<span class="string">&quot;search&quot;</span>, <span class="string">&quot;Jurassic Park&quot;</span>)<span class="comment">--æäº¤çš„è¡¨å•</span></span><br><span class="line">.build();</span><br><span class="line">request = Request.Builder()</span><br><span class="line">.url(<span class="string">&quot;https://en.wikipedia.org/w/index.php&quot;</span>)<span class="comment">--URL</span></span><br><span class="line">.post(requestBody)</span><br><span class="line">.build();</span><br><span class="line"></span><br><span class="line">okHttpClient.newCall(request).enqueue(Callback &#123;</span><br><span class="line">  onFailure = <span class="function"><span class="keyword">function</span><span class="params">(call, e)</span></span> <span class="comment">--å¤±è´¥</span></span><br><span class="line">    <span class="built_in">print</span>(e);</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">  onResponse = <span class="function"><span class="keyword">function</span><span class="params">(call, response)</span></span> <span class="comment">--æˆåŠŸ</span></span><br><span class="line">    <span class="built_in">print</span>(response.headers())</span><br><span class="line">    <span class="built_in">print</span>(response.body().<span class="built_in">string</span>())</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Httpæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Httpæ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>SM.MSä¸Šä¼ å›¾ç‰‡</title>
    <url>/2021/11/12/Http%E6%95%99%E7%A8%8B/SM.MS%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87-2021-11-12%2012:46:53/</url>
    <content><![CDATA[<h1>SM.MSä¸Šä¼ å›¾ç‰‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éœ€å¯¼å…¥çš„DEXè¯·è‡ªè¡Œå°†è¿è¡ŒåŠ©æ‰‹æ‹†åŒ…ï¼Œåœ¨libsæ–‡ä»¶å¤¹é‡Œ</span></span><br><span class="line"><span class="comment">--sm.msä¸Šä¼ ï¼Œé™¤æ³¨é‡Šå¤–éƒ½æ˜¯å›ºå®šæ¨¡æ¿ï¼Œå¤åˆ¶ç²˜è´´å³å¯</span></span><br><span class="line">import <span class="string">&#x27;com.kn.okhttp.*&#x27;</span></span><br><span class="line">import <span class="string">&#x27;okhttp3.*&#x27;</span></span><br><span class="line"><span class="comment">--è°ƒç”¨é€‰æ‹©å›¾åº“</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line"><span class="keyword">local</span> intent= Intent(Intent.ACTION_PICK)</span><br><span class="line">intent.setType(<span class="string">&quot;image/*&quot;</span>)</span><br><span class="line">this.startActivityForResult(intent, <span class="number">1</span>)</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å›è°ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onActivityResult</span><span class="params">(requestCode,resultCode,intent)</span></span></span><br><span class="line">  <span class="keyword">if</span> intent <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> cursor =this.getContentResolver ().query(intent.getData(), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">    cursor.moveToFirst()</span><br><span class="line">    import <span class="string">&quot;android.provider.MediaStore&quot;</span></span><br><span class="line">    <span class="keyword">local</span> idx = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA)</span><br><span class="line">    fileSrc = cursor.getString(idx)<span class="comment">--è¿”å›è·¯å¾„</span></span><br><span class="line">    filename = fileSrc:<span class="built_in">match</span>(<span class="string">&#x27;.+%/(.+)&#x27;</span>)<span class="comment">--æˆªå–åå­—</span></span><br><span class="line"></span><br><span class="line">    requestBody = MultipartBody.Builder()</span><br><span class="line">    .setType(MultipartBody.FORM)</span><br><span class="line">    .addFormDataPart(<span class="string">&#x27;smfile&#x27;</span>,filename,RequestBody.<span class="built_in">create</span>(MediaType.parse(<span class="string">&#x27;multipart/form-data&#x27;</span>),File(fileSrc)))<span class="comment">--å¯¹åº”è¡¨å•</span></span><br><span class="line">    .build()</span><br><span class="line">    request = Request.Builder()</span><br><span class="line">    .header(<span class="string">&#x27;User-Agent&#x27;</span>,<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36&#x27;</span>)</span><br><span class="line">    .url(<span class="string">&#x27;https://sm.ms/api/upload&#x27;</span>)<span class="comment">--URL</span></span><br><span class="line">    .post(requestBody)</span><br><span class="line">    .build()</span><br><span class="line">    okHttpClient = OkHttpClient()</span><br><span class="line">    okHttpClient.newCall(request).enqueue(Callback&#123;</span><br><span class="line">      onFailure = <span class="function"><span class="keyword">function</span><span class="params">(call,e)</span></span><span class="comment">--å¤±è´¥è¯·æ±‚</span></span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">      <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">      onResponse = <span class="function"><span class="keyword">function</span><span class="params">(call,response)</span></span><span class="comment">--è¯·æ±‚æˆåŠŸ</span></span><br><span class="line">        headers = response.headers()</span><br><span class="line">        <span class="built_in">print</span>(headers)<span class="comment">--å±•ç¤ºè¿”å›å¤´éƒ¨</span></span><br><span class="line">        <span class="built_in">print</span>(response.body().<span class="built_in">string</span>())<span class="comment">--å±•ç¤ºè¿”å›å†…å®¹</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    &#125;)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span><span class="comment">--nirenr</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Httpæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Httpæ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼‚æ­¥GETè¯·æ±‚</title>
    <url>/2021/11/12/Http%E6%95%99%E7%A8%8B/%E5%BC%82%E6%AD%A5GET%E8%AF%B7%E6%B1%82-2021-11-12%2012:47:11/</url>
    <content><![CDATA[<h1>å¼‚æ­¥GETè¯·æ±‚</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--éœ€å¯¼å…¥çš„DEXè¯·è‡ªè¡Œå°†è¿è¡ŒåŠ©æ‰‹æ‹†åŒ…ï¼Œåœ¨libsæ–‡ä»¶å¤¹é‡Œ</span></span><br><span class="line"><span class="comment">--å¼‚æ­¥GETè¯·æ±‚ï¼Œé™¤æ³¨é‡Šå¤–éƒ½æ˜¯å›ºå®šæ¨¡æ¿ï¼Œå¤åˆ¶ç²˜è´´å³å¯</span></span><br><span class="line">import <span class="string">&#x27;com.kn.okhttp.*&#x27;</span></span><br><span class="line">import <span class="string">&#x27;okhttp3.*&#x27;</span></span><br><span class="line">url = <span class="string">&#x27;http://dh.hfybbs.vip&#x27;</span><span class="comment">--è¯·æ±‚URL</span></span><br><span class="line">okHttpClient = OkHttpClient()</span><br><span class="line">request = Request.Builder()</span><br><span class="line">.url(url)</span><br><span class="line">.get()</span><br><span class="line">.build()</span><br><span class="line">call = okHttpClient.newCall(request)</span><br><span class="line">call.enqueue(Callback&#123;</span><br><span class="line">  onFailure = <span class="function"><span class="keyword">function</span><span class="params">(call,e)</span></span><span class="comment">--è¯·æ±‚å¤±è´¥</span></span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line">  <span class="keyword">end</span>,</span><br><span class="line"></span><br><span class="line">  onResponse = <span class="function"><span class="keyword">function</span><span class="params">(call,response)</span></span><span class="comment">--è¯·æ±‚æˆåŠŸ</span></span><br><span class="line">    <span class="built_in">print</span>(response.body().<span class="built_in">string</span>())</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Httpæ•™ç¨‹</category>
      </categories>
      <tags>
        <tag>Httpæ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>Intentç±»ä»‹ç»</title>
    <url>/2021/11/12/Intent%E7%B1%BB/Intent%E7%B1%BB%E4%BB%8B%E7%BB%8D-2021-11-12%2012:39:54/</url>
    <content><![CDATA[<h1>Intentç±»ä»‹ç»</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">Intentï¼ˆæ„å›¾ï¼‰ä¸»è¦æ˜¯è§£å†³Androidåº”ç”¨çš„å„é¡¹ç»„ä»¶ä¹‹é—´çš„é€šè®¯ã€‚</span><br><span class="line">Intentè´Ÿè´£å¯¹åº”ç”¨ä¸­ä¸€æ¬¡æ“ä½œçš„åŠ¨ä½œã€åŠ¨ä½œæ¶‰åŠæ•°æ®ã€é™„åŠ æ•°æ®è¿›è¡Œæè¿°.</span><br><span class="line">Androidåˆ™æ ¹æ®æ­¤Intentçš„æè¿°ï¼Œè´Ÿè´£æ‰¾åˆ°å¯¹åº”çš„ç»„ä»¶ï¼Œå°† Intentä¼ é€’ç»™è°ƒç”¨çš„ç»„ä»¶ï¼Œå¹¶å®Œæˆç»„ä»¶çš„è°ƒç”¨ã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤ï¼ŒIntentåœ¨è¿™é‡Œèµ·ç€ä¸€ä¸ªåª’ä½“ä¸­ä»‹çš„ä½œç”¨</span><br><span class="line">ä¸“é—¨æä¾›ç»„ä»¶äº’ç›¸è°ƒç”¨çš„ç›¸å…³ä¿¡æ¯</span><br><span class="line">å®ç°è°ƒç”¨è€…ä¸è¢«è°ƒç”¨è€…ä¹‹é—´çš„è§£è€¦ã€‚</span><br><span class="line"></span><br><span class="line">ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªè”ç³»äººç»´æŠ¤çš„åº”ç”¨ä¸­ï¼Œå½“æˆ‘ä»¬åœ¨ä¸€ä¸ªè”ç³»äººåˆ—è¡¨å±å¹•(å‡è®¾å¯¹åº”çš„Activityä¸ºlistActivity)ä¸Š</span><br><span class="line">ç‚¹å‡»æŸä¸ªè”ç³»äººåï¼Œå¸Œæœ›èƒ½å¤Ÿè·³å‡ºæ­¤è”ç³»äººçš„è¯¦ç»†ä¿¡æ¯å±å¹•(å‡è®¾å¯¹åº”çš„Activityä¸ºdetailActivity)</span><br><span class="line">ä¸ºäº†å®ç°è¿™ä¸ªç›®çš„ï¼ŒlistActivityéœ€è¦æ„é€ ä¸€ä¸ª Intent</span><br><span class="line">è¿™ä¸ªIntentç”¨äºå‘Šè¯‰ç³»ç»Ÿï¼Œæˆ‘ä»¬è¦åšâ€œæŸ¥çœ‹â€åŠ¨ä½œï¼Œæ­¤åŠ¨ä½œå¯¹åº”çš„æŸ¥çœ‹å¯¹è±¡æ˜¯â€œæŸè”ç³»äººâ€</span><br><span class="line">ç„¶åè°ƒç”¨startActivity (Intent intent)ï¼Œå°†æ„é€ çš„Intentä¼ å…¥</span><br><span class="line"></span><br><span class="line">ç³»ç»Ÿä¼šæ ¹æ®æ­¤Intentä¸­çš„æè¿°åˆ°ManiFestä¸­æ‰¾åˆ°æ»¡è¶³æ­¤Intentè¦æ±‚çš„Activityï¼Œç³»ç»Ÿä¼šè°ƒç”¨æ‰¾åˆ°çš„ Activityï¼Œå³ä¸ºdetailActivityï¼Œæœ€ç»ˆä¼ å…¥Intentï¼ŒdetailActivityåˆ™ä¼šæ ¹æ®æ­¤Intentä¸­çš„æè¿°ï¼Œæ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†äº«æ–‡ä»¶</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E5%88%86%E4%BA%AB%E6%96%87%E4%BB%B6-2021-11-12%2012:43:56/</url>
    <content><![CDATA[<h1>åˆ†äº«æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sharing</span><span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  FileName=<span class="built_in">tostring</span>(File(<span class="built_in">path</span>).Name)</span><br><span class="line">  ExtensionName=FileName:<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  intent = Intent()</span><br><span class="line">  intent.setAction(Intent.ACTION_SEND)</span><br><span class="line">  intent.setType(Mime)</span><br><span class="line">  file = File(<span class="built_in">path</span>)</span><br><span class="line">  uri = Uri.fromFile(file)</span><br><span class="line">  intent.putExtra(Intent.EXTRA_STREAM,uri)</span><br><span class="line">  intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">  activity.startActivity(Intent.createChooser(intent, <span class="string">&quot;åˆ†äº«åˆ°:&quot;</span>))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">Sharing(æ–‡ä»¶è·¯å¾„)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸è½½å…¶å®ƒç¨‹åº</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E5%8D%B8%E8%BD%BD%E5%85%B6%E5%AE%83%E7%A8%8B%E5%BA%8F-2021-11-12%2012:41:43/</url>
    <content><![CDATA[<h1>å¸è½½å…¶å®ƒç¨‹åº</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">åŒ…å=<span class="string">&quot;com.huluxia.gametools&quot;</span></span><br><span class="line">uri = Uri.parse(<span class="string">&quot;package:&quot;</span>..åŒ…å)</span><br><span class="line">intent =  Intent(Intent.ACTION_DELETE,uri)</span><br><span class="line">activity.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>å‘é€å½©ä¿¡</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E5%8F%91%E9%80%81%E5%BD%A9%E4%BF%A1-2021-11-12%2012:44:27/</url>
    <content><![CDATA[<h1>å‘é€å½©ä¿¡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">uri=Uri.parse(<span class="string">&quot;file:///sdcard/a.png&quot;</span>) <span class="comment">--å›¾ç‰‡è·¯å¾„</span></span><br><span class="line">intent= Intent();</span><br><span class="line">intent.setAction(Intent.ACTION_SEND);</span><br><span class="line">intent.putExtra(<span class="string">&quot;address&quot;</span>,mobile) <span class="comment">--é‚®ä»¶åœ°å€</span></span><br><span class="line">intent.putExtra(<span class="string">&quot;sms_body&quot;</span>,content) <span class="comment">--é‚®ä»¶å†…å®¹</span></span><br><span class="line">intent.putExtra(Intent.EXTRA_STREAM,uri)</span><br><span class="line">intent.setType(<span class="string">&quot;image/png&quot;</span>) <span class="comment">--è®¾ç½®ç±»å‹</span></span><br><span class="line">this.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>å‘é€çŸ­ä¿¡</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E5%8F%91%E9%80%81%E7%9F%AD%E4%BF%A1-2021-11-12%2012:44:11/</url>
    <content><![CDATA[<h1>å‘é€çŸ­ä¿¡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">uri = Uri.parse(<span class="string">&quot;smsto:10010&quot;</span>)</span><br><span class="line">intent = Intent(Intent.ACTION_SENDTO, uri)</span><br><span class="line">intent.putExtra(<span class="string">&quot;sms_body&quot;</span>,<span class="string">&quot;cxll&quot;</span>) </span><br><span class="line">intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">activity.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰è£…å…¶å®ƒç¨‹åº</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E5%AE%89%E8%A3%85%E5%85%B6%E5%AE%83%E7%A8%8B%E5%BA%8F-2021-11-12%2012:41:25/</url>
    <content><![CDATA[<h1>å®‰è£…å…¶å®ƒç¨‹åº</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">intent = Intent(Intent.ACTION_VIEW)</span><br><span class="line">å®‰è£…åŒ…è·¯å¾„=<span class="string">&quot;/sdcard/a.apk&quot;</span></span><br><span class="line">intent.setDataAndType(Uri.parse(<span class="string">&quot;file://&quot;</span>..å®‰è£…åŒ…è·¯å¾„), <span class="string">&quot;application/vnd.android.package-archive&quot;</span>) </span><br><span class="line">intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">activity.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‰“å¼€å…¶å®ƒç¨‹åº</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E6%89%93%E5%BC%80%E5%85%B6%E5%AE%83%E7%A8%8B%E5%BA%8F-2021-11-12%2012:41:09/</url>
    <content><![CDATA[<h1>æ‰“å¼€å…¶å®ƒç¨‹åº</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">packageName=ç¨‹åºåŒ…å</span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">manager = activity.getPackageManager()</span><br><span class="line"><span class="built_in">open</span> = manager.getLaunchIntentForPackage(packageName)</span><br><span class="line">this.startActivity(<span class="built_in">open</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>æ‹¨æ‰“ç”µè¯</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E6%8B%A8%E6%89%93%E7%94%B5%E8%AF%9D-2021-11-12%2012:44:44/</url>
    <content><![CDATA[<h1>æ‹¨æ‰“ç”µè¯</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">uri = Uri.parse(<span class="string">&quot;tel:10010&quot;</span>)</span><br><span class="line">intent = Intent(Intent.ACTION_CALL, uri)</span><br><span class="line">intent.setAction(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">activity.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>æœç´¢åº”ç”¨</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E6%90%9C%E7%B4%A2%E5%BA%94%E7%94%A8-2021-11-12%2012:42:30/</url>
    <content><![CDATA[<h1>æœç´¢åº”ç”¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">intent = Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>)</span><br><span class="line">intent .setData(Uri.parse( <span class="string">&quot;market://details?id=&quot;</span>..activity.getPackageName()))</span><br><span class="line">this.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’­æ”¾Mp4</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E6%92%AD%E6%94%BEMp4-2021-11-12%2012:41:58/</url>
    <content><![CDATA[<h1>æ’­æ”¾Mp4</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">intent =  Intent(Intent.ACTION_VIEW)</span><br><span class="line">uri = Uri.parse(<span class="string">&quot;file:///sdcard/a.mp4&quot;</span>) </span><br><span class="line">intent.setDataAndType(uri, <span class="string">&quot;video/mp4&quot;</span>)</span><br><span class="line">activity.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>æ’­æ”¾Mp3</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E6%92%AD%E6%94%BEMp3-2021-11-12%2012:42:12/</url>
    <content><![CDATA[<h1>æ’­æ”¾Mp3</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">intent =  Intent(Intent.ACTION_VIEW)</span><br><span class="line">uri = Uri.parse(<span class="string">&quot;file:///sdcard/song.mp3&quot;</span>)</span><br><span class="line">intent.setDataAndType(uri, <span class="string">&quot;audio/mp3&quot;</span>)</span><br><span class="line">this.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨å›¾åº“é€‰æ‹©å›¾ç‰‡</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8%E5%9B%BE%E5%BA%93%E9%80%89%E6%8B%A9%E5%9B%BE%E7%89%87-2021-11-12%2012:43:26/</url>
    <content><![CDATA[<h1>è°ƒç”¨å›¾åº“é€‰æ‹©å›¾ç‰‡</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  <span class="keyword">local</span> intent= Intent(Intent.ACTION_PICK)</span><br><span class="line">  intent.setType(<span class="string">&quot;image/*&quot;</span>)</span><br><span class="line">  this.startActivityForResult(intent, <span class="number">1</span>)</span><br><span class="line"><span class="comment">-------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å›è°ƒ</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onActivityResult</span><span class="params">(requestCode,resultCode,intent)</span></span></span><br><span class="line">  <span class="keyword">if</span> intent <span class="keyword">then</span></span><br><span class="line">    <span class="keyword">local</span> cursor =this.getContentResolver ().query(intent.getData(), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">    cursor.moveToFirst()</span><br><span class="line">import <span class="string">&quot;android.provider.MediaStore&quot;</span></span><br><span class="line">    <span class="keyword">local</span> idx = cursor.getColumnIndex(MediaStore.Images.ImageColumns.DATA)</span><br><span class="line">    fileSrc = cursor.getString(idx)</span><br><span class="line">    bit=<span class="literal">nil</span></span><br><span class="line">    <span class="comment">--fileSrcå›è°ƒè·¯å¾„è·¯å¾„</span></span><br><span class="line">import <span class="string">&quot;android.graphics.BitmapFactory&quot;</span></span><br><span class="line">    bit =BitmapFactory.decodeFile(fileSrc)</span><br><span class="line">  <span class="comment">--  iv.setImageBitmap(bit)</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span><span class="comment">--nirenr</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨æ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©æ–‡ä»¶</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6-2021-11-12%2012:43:41/</url>
    <content><![CDATA[<h1>è°ƒç”¨æ–‡ä»¶ç®¡ç†å™¨é€‰æ‹©æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ChooseFile</span><span class="params">()</span></span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;java.net.URLDecoder&quot;</span></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">intent = Intent(Intent.ACTION_GET_CONTENT)</span><br><span class="line">intent.setType(<span class="string">&quot;*/&quot;</span>);</span><br><span class="line">intent.addCategory(Intent.CATEGORY_OPENABLE)</span><br><span class="line">activity.startActivityForResult(intent,<span class="number">1</span>);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onActivityResult</span><span class="params">(requestCode,resultCode,data)</span></span></span><br><span class="line">  <span class="keyword">if</span> resultCode == Activity.RESULT_OK <span class="keyword">then</span></span><br><span class="line">  <span class="keyword">local</span> str = data.getData().toString()</span><br><span class="line">  <span class="keyword">local</span> decodeStr = URLDecoder.decode(str,<span class="string">&quot;UTF-8&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span>(decodeStr)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">ChooseFile()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨æµè§ˆå™¨æ‰“å¼€ç½‘é¡µ</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%89%93%E5%BC%80%E7%BD%91%E9%A1%B5-2021-11-12%2012:40:31/</url>
    <content><![CDATA[<h1>è°ƒç”¨æµè§ˆå™¨æ‰“å¼€ç½‘é¡µ</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">url=<span class="string">&quot;http://www.androlua.cn&quot;</span></span><br><span class="line">viewIntent =  Intent(<span class="string">&quot;android.intent.action.VIEW&quot;</span>,Uri.parse(url))</span><br><span class="line">activity.startActivity(viewIntent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨æµè§ˆå™¨æœç´¢å…³é”®å­—</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E5%AD%97-2021-11-12%2012:40:12/</url>
    <content><![CDATA[<h1>è°ƒç”¨æµè§ˆå™¨æœç´¢å…³é”®å­—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.SearchManager&quot;</span></span><br><span class="line">intent =  Intent()</span><br><span class="line">intent.setAction(Intent.ACTION_WEB_SEARCH)</span><br><span class="line">intent.putExtra(SearchManager.QUERY,<span class="string">&quot;Aluaå¼€å‘æ‰‹å†Œ&quot;</span>)    </span><br><span class="line">activity.startActivity(intent)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8%E7%B3%BB%E7%BB%9F%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6-2021-11-12%2012:43:05/</url>
    <content><![CDATA[<h1>è°ƒç”¨ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">OpenFile</span><span class="params">(path)</span></span></span><br><span class="line">  import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">  import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">  import <span class="string">&quot;java.io.File&quot;</span></span><br><span class="line">  FileName=<span class="built_in">tostring</span>(File(<span class="built_in">path</span>).Name)</span><br><span class="line">  ExtensionName=FileName:<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  Mime=MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  <span class="keyword">if</span> Mime <span class="keyword">then</span> </span><br><span class="line">    intent = Intent()</span><br><span class="line">    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">    intent.setAction(Intent.ACTION_VIEW); </span><br><span class="line">    intent.setDataAndType(Uri.fromFile(File(<span class="built_in">path</span>)), Mime); </span><br><span class="line">    activity.startActivity(intent)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">OpenFile(æ–‡ä»¶è·¯å¾„)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨ç³»ç»Ÿè®¾ç½®</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE-2021-11-12%2012:42:50/</url>
    <content><![CDATA[<h1>è°ƒç”¨ç³»ç»Ÿè®¾ç½®</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.provider.Settings&quot;</span></span><br><span class="line">intent = Intent(android.provider.Settings.ACTION_SETTINGS)</span><br><span class="line">this.startActivity(intent)</span><br><span class="line"></span><br><span class="line">å­—æ®µåˆ—è¡¨:</span><br><span class="line">ACTION_SETTINGS	ç³»ç»Ÿè®¾ç½®</span><br><span class="line">CTION_APN_SETTINGS APNè®¾ç½®</span><br><span class="line">ACTION_LOCATION_SOURCE_SETTINGS ä½ç½®å’Œè®¿é—®ä¿¡æ¯</span><br><span class="line">ACTION_WIRELESS_SETTINGS ç½‘ç»œè®¾ç½®</span><br><span class="line">ACTION_AIRPLANE_MODE_SETTINGS æ— çº¿å’Œç½‘ç»œçƒ­ç‚¹è®¾ç½®</span><br><span class="line">ACTION_SECURITY_SETTINGS ä½ç½®å’Œå®‰å…¨è®¾ç½®</span><br><span class="line">ACTION_WIFI_SETTINGS æ— çº¿ç½‘WIFIè®¾ç½®</span><br><span class="line">ACTION_WIFI_IP_SETTINGS æ— çº¿ç½‘IPè®¾ç½®</span><br><span class="line">ACTION_BLUETOOTH_SETTINGS è“ç‰™è®¾ç½®</span><br><span class="line">ACTION_DATE_SETTINGS æ—¶é—´å’Œæ—¥æœŸè®¾ç½®</span><br><span class="line">ACTION_SOUND_SETTINGS å£°éŸ³è®¾ç½®</span><br><span class="line">ACTION_DISPLAY_SETTINGS æ˜¾ç¤ºè®¾ç½®â€”â€”å­—ä½“å¤§å°ç­‰</span><br><span class="line">ACTION_LOCALE_SETTINGS è¯­è¨€è®¾ç½®</span><br><span class="line">ACTION_INPUT_METHOD_SETTINGS è¾“å…¥æ³•è®¾ç½®</span><br><span class="line">ACTION_USER_DICTIONARY_SETTINGS ç”¨æˆ·è¯å…¸</span><br><span class="line">ACTION_APPLICATION_SETTINGS åº”ç”¨ç¨‹åºè®¾ç½®</span><br><span class="line">ACTION_APPLICATION_DEVELOPMENT_SETTINGS åº”ç”¨ç¨‹åºè®¾ç½®</span><br><span class="line">ACTION_QUICK_LAUNCH_SETTINGS å¿«é€Ÿå¯åŠ¨è®¾ç½®</span><br><span class="line">ACTION_MANAGE_APPLICATIONS_SETTINGS å·²ä¸‹è½½ï¼ˆå®‰è£…ï¼‰è½¯ä»¶åˆ—è¡¨</span><br><span class="line">ACTION_SYNC_SETTINGS åº”ç”¨ç¨‹åºæ•°æ®åŒæ­¥è®¾ç½®</span><br><span class="line">ACTION_NETWORK_OPERATOR_SETTINGS å¯ç”¨ç½‘ç»œæœç´¢</span><br><span class="line">ACTION_DATA_ROAMING_SETTINGS ç§»åŠ¨ç½‘ç»œè®¾ç½®</span><br><span class="line">ACTION_INTERNAL_STORAGE_SETTINGS æ‰‹æœºå­˜å‚¨è®¾ç½®</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
  <entry>
    <title>EditTextåªèƒ½è¾“å…¥æ•°å­—</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/EditText%E5%8F%AA%E8%83%BD%E8%BE%93%E5%85%A5%E6%95%B0%E5%AD%97-2021-11-12%2012:29:10/</url>
    <content><![CDATA[<h1>EditTextåªèƒ½è¾“å…¥æ•°å­—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.text.InputType&quot;</span></span><br><span class="line">import <span class="string">&quot;android.text.method.DigitsKeyListener&quot;</span></span><br><span class="line">æ§ä»¶ID.setInputType(InputType.TYPE_CLASS_NUMBER)</span><br><span class="line">æ§ä»¶ID.setKeyListener(DigitsKeyListener.getInstance(<span class="string">&quot;0123456789&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>MDå…³äºç•Œé¢</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/MD%E5%85%B3%E4%BA%8E%E7%95%8C%E9%9D%A2-2021-11-12%2012:35:06/</url>
    <content><![CDATA[<h1>MDå…³äºç•Œé¢</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import<span class="string">&quot;android.text.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.graphics.drawable.*&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä½œè€…QQ2830376751</span></span><br><span class="line">activity.setTitle(<span class="string">&#x27;å…³äº&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> Theme_Color=tointeger(<span class="number">0xFF3F51B5</span>)</span><br><span class="line"></span><br><span class="line">activity.setTheme(android.R.style.Theme_DeviceDefault_Light_DarkActionBar)</span><br><span class="line">activity.ActionBar.show()</span><br><span class="line">activity.ActionBar.setBackgroundDrawable(ColorDrawable(Theme_Color))</span><br><span class="line">activity.getWindow().setStatusBarColor(<span class="number">0xFF303F9F</span>);</span><br><span class="line">activity.getActionBar().setDisplayHomeAsUpEnabled(<span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onMenuItemSelected</span><span class="params">(id,title)</span></span></span><br><span class="line">  activity.finish()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">shamrock=</span><br><span class="line">&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  Orientation=<span class="string">&#x27;vertical&#x27;</span>;</span><br><span class="line">  layout_width=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">  layout_height=<span class="string">&#x27;fill&#x27;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    ListView;</span><br><span class="line">    id=<span class="string">&quot;listView&quot;</span>;</span><br><span class="line">    DividerHeight=<span class="string">&quot;0dp&quot;</span>;</span><br><span class="line">    layout_gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setContentView(loadlayout(shamrock))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = &#123;&#125;</span><br><span class="line"></span><br><span class="line">setting=</span><br><span class="line">&#123;</span><br><span class="line">  &#123;<span class="comment">--1</span></span><br><span class="line">    LinearLayout;</span><br><span class="line">    gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;75dp&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      gravity=<span class="string">&quot;center_vertical&quot;</span>;</span><br><span class="line">      layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        TextView;</span><br><span class="line">        layout_marginLeft=<span class="string">&quot;15dp&quot;</span>;</span><br><span class="line">        textSize=<span class="string">&quot;16sp&quot;</span>;</span><br><span class="line">        textColor=<span class="number">0xff000000</span>;</span><br><span class="line">        id=<span class="string">&quot;subtitle&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        TextView;</span><br><span class="line">        id=<span class="string">&quot;message&quot;</span>;</span><br><span class="line">        textSize=<span class="string">&quot;15sp&quot;</span>;</span><br><span class="line">        layout_marginLeft=<span class="string">&quot;15dp&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;<span class="comment">--2</span></span><br><span class="line">    LinearLayout;</span><br><span class="line">    layout_height=<span class="string">&quot;1dp&quot;</span>;</span><br><span class="line">    backgroundColor=<span class="number">0xFFE0E0E0</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;<span class="comment">--3</span></span><br><span class="line">    LinearLayout;</span><br><span class="line">    gravity=<span class="string">&quot;center&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;55dp&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">      gravity=<span class="string">&quot;center_vertical&quot;</span>;</span><br><span class="line">      layout_weight=<span class="string">&quot;1&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        TextView;</span><br><span class="line">        layout_marginLeft=<span class="string">&quot;15dp&quot;</span>;</span><br><span class="line">        textSize=<span class="string">&quot;16sp&quot;</span>;</span><br><span class="line">        textColor=<span class="number">0xff000000</span>;</span><br><span class="line">        id=<span class="string">&quot;subtitle&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">adp=LuaMultiAdapter(this,data,setting)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">adp.add&#123;__type=<span class="number">1</span>,subtitle=<span class="string">&quot;App v1.0.1&quot;</span>,message=<span class="string">&quot;Copyright Â© 2021 Android Does&quot;</span>&#125;</span><br><span class="line">adp.add&#123;__type=<span class="number">2</span>&#125;</span><br><span class="line">adp.add&#123;__type=<span class="number">1</span>,subtitle=<span class="string">&quot;å¸®åŠ©&quot;</span>,message=<span class="string">&quot;å¸¸è§é—®é¢˜è§£ç­”&quot;</span>&#125;</span><br><span class="line">adp.add&#123;__type=<span class="number">2</span>&#125;</span><br><span class="line">adp.add&#123;__type=<span class="number">3</span>,subtitle=<span class="string">&quot;è¡¨è¾¾æ„Ÿè°¢&quot;</span>&#125;</span><br><span class="line">adp.add&#123;__type=<span class="number">2</span>&#125;</span><br><span class="line">listView.setAdapter(adp)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">listView.setOnItemClickListener(AdapterView.OnItemClickListener&#123;</span><br><span class="line">  onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(id,v,zero,one)</span></span></span><br><span class="line">    <span class="keyword">if</span> v.Tag.subtitle.Text==<span class="literal">nil</span></span><br><span class="line">     <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">if</span> v.Tag.subtitle.Text==<span class="string">&quot;å¸®åŠ©&quot;</span></span><br><span class="line">        <span class="built_in">print</span>( v.Tag.subtitle.Text)</span><br><span class="line">       <span class="keyword">elseif</span> v.Tag.subtitle.Text==<span class="string">&quot;è¡¨è¾¾æ„Ÿè°¢&quot;</span></span><br><span class="line">        <span class="built_in">print</span>( v.Tag.subtitle.Text)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>SOåº“</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/SO%E5%BA%93-2021-11-12%2012:26:34/</url>
    <content><![CDATA[<h1>SOåº“</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">os</span>.<span class="built_in">rename</span>(old,new)</span><br><span class="line"><span class="comment">--é‡å‘½åæ–‡ä»¶ï¼Œoldæ—§ï¼Œnewæ–°ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">remove</span>(<span class="built_in">path</span>)</span><br><span class="line"><span class="comment">--åˆ é™¤æ–‡ä»¶ï¼Œpathè·¯å¾„ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">exit</span>()</span><br><span class="line"><span class="comment">--ä¸­æ­¢å½“å‰ç¨‹åºçš„æ‰§è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">getenv</span>(var)</span><br><span class="line"><span class="comment">--è¿”å›ç¯å¢ƒå˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">time</span>()</span><br><span class="line"><span class="comment">--[[è¿”å›ä¸€ä¸ªæŒ‡å®šæ—¶é—´ç‚¹çš„UNIXæ—¶é—´æˆ³ï¼Œå¦‚ä¸å¸¦å‚æ•°è°ƒç”¨çš„è¯ï¼Œå°±è¿”å›å½“å‰æ—¶é—´ç‚¹çš„UNIXæ—¶é—´æˆ³ã€‚</span></span><br><span class="line"><span class="comment">å‚æ•°tableå­—æ®µåŒ…æ‹¬&#123;</span></span><br><span class="line"><span class="comment">year  å¹´ä»½</span></span><br><span class="line"><span class="comment">month  æœˆä»½(01-12)</span></span><br><span class="line"><span class="comment">day  å¤©(01-31)</span></span><br><span class="line"><span class="comment">hour  æ—¶(00-23)</span></span><br><span class="line"><span class="comment">min  åˆ†(00-59)</span></span><br><span class="line"><span class="comment">sec  ç§’(00-59)</span></span><br><span class="line"><span class="comment">isdst  å¸ƒå°”å€¼ï¼Œtrueè¡¨ç¤ºå¤ä»¤æ—¶</span></span><br><span class="line"><span class="comment">å…¶ä¸­ï¼Œyearã€monthã€day ä¸‰ä¸ªå­—æ®µæ˜¯å¿…é¡»çš„ï¼Œå…¶å®ƒå­—æ®µé»˜è®¤å– 12:00:00</span></span><br><span class="line"><span class="comment">&#125;]]</span></span><br><span class="line"><span class="built_in">os</span>.data(<span class="built_in">format</span>,sec)</span><br><span class="line"><span class="comment">--os.data æ˜¯os.time çš„åå‡½æ•°ï¼Œå®ƒå°†ä¸€ä¸ªUNIXæ—¶é—´æˆ³è½¬æ¢æˆå¯è¯»çš„å­—ç¬¦ä¸²å½¢å¼ã€‚</span></span><br><span class="line"><span class="comment">--å¦‚æœçœç•¥ç¬¬2ä¸ªå‚æ•°ï¼Œé»˜è®¤è¿”å›å½“å‰æ—¶é—´ç‚¹çš„æ—¥æœŸã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸ºäº†ç”Ÿæˆä¸€ä¸ªæ—¥æœŸtableï¼Œå¯ä»¥ä½¿ç”¨æ ¼å¼å­—ç¬¦ä¸²&quot;*t&quot;ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line"></span><br><span class="line">tb = <span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;*t&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">pairs</span>(tb) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">è¾“å‡º:</span><br><span class="line">year 	<span class="number">2019</span></span><br><span class="line">sec 	<span class="number">46</span></span><br><span class="line">isdst 	<span class="literal">false</span></span><br><span class="line">yday 	<span class="number">173</span></span><br><span class="line">wday 	<span class="number">7</span></span><br><span class="line">month 	<span class="number">6</span></span><br><span class="line">hour 	<span class="number">23</span></span><br><span class="line"><span class="built_in">min</span> 	<span class="number">52</span></span><br><span class="line">day 	<span class="number">22</span></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">difftime</span>(t2, t1)</span><br><span class="line"><span class="comment">--è¿”å›ä»t1åˆ°t2çš„æ—¶é—´è·¨åº¦å€¼ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">os</span>.<span class="built_in">clock</span>()</span><br><span class="line"><span class="comment">--å‡½æ•°os.clock è¿”å›å½“å‰CPUæ—¶é—´çš„ç§’æ•°ï¼Œä¸€èˆ¬å¯ç”¨äºè®¡ç®—ä¸€æ®µä»£ç çš„æ‰§è¡Œæ—¶é—´</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[Â· LUA stringåº“è¯¦è§£</span></span><br><span class="line"><span class="comment">Â· python æ ‡å‡†åº“ä¹‹os</span></span><br><span class="line"><span class="comment">Â· Luaä¸­osåº“çš„ä½¿ç”¨(execute,date,clock,time)</span></span><br><span class="line"><span class="comment">Â· ã€Golangã€â€”â€” æ ‡å‡†åº“ä¹‹ os]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>TextViewå¯é€‰æ‹©å¤åˆ¶</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/TextView%E5%8F%AF%E9%80%89%E6%8B%A9%E5%A4%8D%E5%88%B6-2021-11-12%2012:30:19/</url>
    <content><![CDATA[<h1>TextViewå¯é€‰æ‹©å¤åˆ¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä»£ç ä¸­è®¾ç½®</span></span><br><span class="line">t.TextIsSelectable=<span class="literal">true</span></span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨ä¸­è®¾ç½®</span></span><br><span class="line">textIsSelectable=<span class="literal">true</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>X5å†…æ ¸</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/X5%E5%86%85%E6%A0%B8-2021-11-12%2012:28:02/</url>
    <content><![CDATA[<h1>X5å†…æ ¸</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    X5WebView;<span class="comment">--x5æµè§ˆå™¨å†…æ ¸æ§ä»¶</span></span><br><span class="line">    layout_width=<span class="string">&quot;&quot;</span>,</span><br><span class="line">    layout_height=<span class="string">&quot;&quot;</span>,</span><br><span class="line">    id=<span class="string">&quot;&quot;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--x5å†…æ ¸å¯¼å…¥åŒ…â†“</span></span><br><span class="line">import <span class="string">&quot;x5init&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.export.external.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.export.external.extension.interfaces.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.tbs.video.interfaces.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.export.external.proxy.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.export.external.extension.proxy.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.export.external.interfaces.ConsoleMessage&quot;</span></span><br><span class="line">import <span class="string">&quot;com.tencent.smtt.sdk.*&quot;</span></span><br><span class="line">import <span class="string">&quot;com.x5.WebView.*&quot;</span></span><br><span class="line">import <span class="string">&quot;java.util.HashMap&quot;</span></span><br><span class="line"><span class="comment">--x5å†…æ ¸å¯¼å…¥åŒ…â†‘</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--x5å†…æ ¸åˆå§‹åŒ–æºç â†“</span></span><br><span class="line">åˆå§‹åŒ–=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">require</span><span class="string">&quot;import&quot;</span></span><br><span class="line">  import<span class="string">&quot;com.tencent.smtt.sdk.QbSdk&quot;</span></span><br><span class="line">  QbSdk.initX5Environment(activity,<span class="literal">nil</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">task(åˆå§‹åŒ–,<span class="function"><span class="keyword">function</span><span class="params">(a)</span></span> <span class="keyword">end</span>)</span><br><span class="line">æµè§ˆå™¨è®¾ç½®(id)</span><br><span class="line"><span class="comment">--x5å†…æ ¸åˆå§‹åŒ–æºç â†‘</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ä¸‹è½½X5å¿…é¡»æ–‡ä»¶â†“â†“å¤åˆ¶æ”¾åˆ°æµè§ˆå™¨ä¸‹è½½</span><br><span class="line"></span><br><span class="line">https://pan.cccyun.cc/down.php/<span class="number">7</span>c8703672b89cf075c012ac4e1e886fd.zip</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ifï¼ˆåˆ¤æ–­ï¼‰</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/if%EF%BC%88%E5%88%A4%E6%96%AD%EF%BC%89-2021-11-12%2012:33:10/</url>
    <content><![CDATA[<h1>ifï¼ˆåˆ¤æ–­ï¼‰</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--åˆ¤æ–­å€¼æ˜¯å¦ä¸ºçœŸ</span></span><br><span class="line">a=<span class="literal">true</span></span><br><span class="line"><span class="keyword">if</span> a <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;çœŸ&quot;</span>)</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;å‡&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æ¯”è¾ƒå€¼æ˜¯å¦ç›¸åŒ</span></span><br><span class="line">a=<span class="literal">true</span></span><br><span class="line">b=<span class="literal">false</span></span><br><span class="line"><span class="keyword">if</span> a==b <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;çœŸ&quot;</span>)</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;å‡&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>apiæ¥å£å¤§å…¨åŠä½¿ç”¨</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/api%E6%8E%A5%E5%8F%A3%E5%A4%A7%E5%85%A8%E5%8F%8A%E4%BD%BF%E7%94%A8-2021-11-12%2012:37:49/</url>
    <content><![CDATA[<h1>apiæ¥å£å¤§å…¨åŠä½¿ç”¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line">import <span class="string">&quot;android.app.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.webkit.*&quot;</span></span><br><span class="line">import <span class="string">&quot;layout&quot;</span></span><br><span class="line">import <span class="string">&quot;com.androlua.Http&quot;</span> <span class="comment">--å¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">import <span class="string">&quot;android.content.Context&quot;</span> <span class="comment">--å¤åˆ¶åˆ°å‰ªè´´æ¿</span></span><br><span class="line">import <span class="string">&quot;cjson&quot;</span> <span class="comment">--è§£æjson</span></span><br><span class="line">import <span class="string">&quot;android.media.MediaPlayer&quot;</span> <span class="comment">--æ’­æ”¾éŸ³ä¹</span></span><br><span class="line">layout=&#123;</span><br><span class="line">  ScrollView;</span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout;</span><br><span class="line">    layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">    orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;äºŒç»´ç ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;QRcode_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;äºŒç»´ç å†…å®¹&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            WebView;</span><br><span class="line">            id=<span class="string">&quot;QRcode_output&quot;</span>;</span><br><span class="line">            layout_width=<span class="string">&quot;166dp&quot;</span>;</span><br><span class="line">            layout_height=<span class="string">&quot;166dp&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;QRcode_download&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹è½½&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;æœ‰é“ç¿»è¯‘ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;youDaoTranslate_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç¿»è¯‘å†…å®¹&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;youDaoTranslate_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç¿»è¯‘ç»“æœ&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;ä¸‡èƒ½ç¿»è¯‘ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;translate_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç¿»è¯‘å†…å®¹&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;translate_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç¿»è¯‘ç»“æœ&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºä¸€è¨€ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;yiYan_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;yiYan_copy&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;å¤åˆ¶&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;yiYan_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¥&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºç¬‘è¯ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;xiaoHua_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;xiaoHua_copy&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;å¤åˆ¶&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;xiaoHua_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€ä¸ª&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºæƒ…è¯ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;qingHua_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;qingHua_copy&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;å¤åˆ¶&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;qingHua_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¥&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºéªšè¯ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;saoHua_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;saoHua_copy&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;å¤åˆ¶&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;saoHua_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¥&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºé£æ™¯å›¾(5120*3200)ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          WebView;</span><br><span class="line">          id=<span class="string">&quot;view_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;256dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;160dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;view_download&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹è½½&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;view_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¼ &quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºäºŒæ¬¡å…ƒå›¾ç‰‡(1920*1080)ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          WebView;</span><br><span class="line">          id=<span class="string">&quot;acgimg_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;240dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;135dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;acgimg_download&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹è½½&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;acgimg_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¼ &quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºæ‰‹æœºåˆ†è¾¨ç‡ç¾å›¾ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          WebView;</span><br><span class="line">          id=<span class="string">&quot;mobileGirl_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;200dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;300dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          <span class="comment">--[===[&#123;</span></span><br><span class="line"><span class="comment">            Button;</span></span><br><span class="line"><span class="comment">            id=&quot;mobileGirl_download&quot;;</span></span><br><span class="line"><span class="comment">            text=&quot;ä¸‹è½½&quot;;</span></span><br><span class="line"><span class="comment">          &#125;;]===]</span></span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;mobileGirl_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¼ &quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éšæœºç”µè„‘åˆ†è¾¨ç‡ç¾å›¾ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          WebView;</span><br><span class="line">          id=<span class="string">&quot;computerGirl_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;300dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;200dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          <span class="comment">--[===[&#123;</span></span><br><span class="line"><span class="comment">            Button;</span></span><br><span class="line"><span class="comment">            id=&quot;computerGirl_download&quot;;</span></span><br><span class="line"><span class="comment">            text=&quot;ä¸‹è½½&quot;;</span></span><br><span class="line"><span class="comment">          &#125;;]===]</span></span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;computerGirl_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€å¼ &quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;ipå¤©æ°”ç­¾åæ¡£(368*227)ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          WebView;</span><br><span class="line">          id=<span class="string">&quot;weather_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;245.333dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;151.333dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;weather_download&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹è½½&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;weather_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;åˆ·æ–°&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;å¿«é€’æŸ¥è¯¢ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;kuaidi_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;å¿«é€’å•å·&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;kuaidi_name_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;name&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;kuaidi_type_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;type&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;kuaidi_info_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;info(json)&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;éªšæ‰°ç”µè¯æŸ¥è¯¢ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;saorao_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç”µè¯å·ç &quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;saorao_baidu_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç™¾åº¦æ‰‹æœºå«å£«&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;saorao_sogou_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;æœç‹—å·ç é€š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;æ‰‹æœºå½’å±åœ°æŸ¥è¯¢ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;phone_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç”µè¯å·ç &quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;phone_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;å½’å±åœ°&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;IPå½’å±åœ°æŸ¥è¯¢ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;ip_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;IP&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;ip_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;å½’å±åœ°&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;ip_lat_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;çº¬åº¦&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;ip_lng_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç»åº¦&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;ip_radius_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;ç²¾åº¦&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;ç½‘æŠ‘äº‘éšæœºéŸ³ä¹(mp3)ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;music_name_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;éŸ³ä¹åç§°&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          WebView;</span><br><span class="line">          id=<span class="string">&quot;music_picture_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;100dp&quot;</span>;</span><br><span class="line">          layout_height=<span class="string">&quot;100dp&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;music_download&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹è½½éŸ³ä¹&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;music_next&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹ä¸€é¦–&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;æ–‡å­—è½¬è¯­éŸ³ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;song_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;æ–‡å­—&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          LinearLayout;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;song_download&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;ä¸‹è½½&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">          &#123;</span><br><span class="line">            Button;</span><br><span class="line">            id=<span class="string">&quot;song_play&quot;</span>;</span><br><span class="line">            text=<span class="string">&quot;æ’­æ”¾&quot;</span>;</span><br><span class="line">          &#125;;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;èŠå¤©æœºå™¨äººï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;chat_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;å‘é€å†…å®¹&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;chat_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;è¿”å›å†…å®¹&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      CardView;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_marginBottom=<span class="string">&quot;10dp&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          TextView;</span><br><span class="line">          text=<span class="string">&quot;åƒåœ¾åˆ†ç±»ï¼š&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;laji_input&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;åƒåœ¾åç§°&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          EditText;</span><br><span class="line">          id=<span class="string">&quot;laji_output&quot;</span>;</span><br><span class="line">          layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">          hint=<span class="string">&quot;åˆ†ç±»ç»“æœ&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">activity.setTheme(android.R.style.Theme_DeviceDefault_Light)<span class="comment">--è®¾ç½®mdä¸»é¢˜</span></span><br><span class="line">activity.setTitle(<span class="string">&quot;APIè°ƒç”¨&quot;</span>)</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">urlEncode</span><span class="params">(s)</span></span></span><br><span class="line">  s = <span class="built_in">string</span>.<span class="built_in">gsub</span>(s, <span class="string">&quot;([^%w%.%- ])&quot;</span>, <span class="function"><span class="keyword">function</span><span class="params">(c)</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%%%02X&quot;</span>, <span class="built_in">string</span>.<span class="built_in">byte</span>(c)) <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">gsub</span>(s, <span class="string">&quot; &quot;</span>, <span class="string">&quot;+&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">urlDecode</span><span class="params">(s)</span></span></span><br><span class="line">  s = <span class="built_in">string</span>.<span class="built_in">gsub</span>(s, <span class="string">&#x27;%%(%x%x)&#x27;</span>, <span class="function"><span class="keyword">function</span><span class="params">(h)</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">string</span>.<span class="built_in">char</span>(<span class="built_in">tonumber</span>(h, <span class="number">16</span>)) <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">return</span> s</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--äºŒç»´ç è¾“å…¥æ”¹å˜</span></span><br><span class="line">QRcode_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> QRcode_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    QRcode_output.loadUrl(<span class="string">&quot;https://api.vvhan.com/api/qr?text=&quot;</span>..urlEncode(QRcode_input.text))</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">--äºŒç»´ç ä¸‹è½½</span></span><br><span class="line">QRcode_download.onClick = <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">  <span class="title">Http.download</span><span class="params">(&quot;https://api.vvhan.com/api/qr?text=&quot;..urlEncode(QRcode_input.text)</span></span>, <span class="string">&quot;/sdcard/QRcode.png&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(&quot;å·²ä¸‹è½½è‡³/sdcard/QRcode.png&quot;)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æœ‰é“ç¿»è¯‘æ”¹å˜</span></span><br><span class="line">youDaoTranslate_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> youDaoTranslate_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;http://fanyi.youdao.com/translate?doctype=json&amp;type=AUTO&amp;i=&quot;</span>..urlEncode(youDaoTranslate_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      youDaoTranslate_output.text = json.translateResult[<span class="number">1</span>][<span class="number">1</span>].tgt</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¸‡èƒ½ç¿»è¯‘æ”¹å˜</span></span><br><span class="line">translate_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> translate_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;https://api.vvhan.com/api/fy?text=&quot;</span>..urlEncode(translate_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      translate_output.text = json.data.fanyi</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–ä¸€è¨€</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_yiYan</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/ian&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    yiYan_output.text = content</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_yiYan()</span></span><br><span class="line">yiYan_next.onClick = get_yiYan <span class="comment">--ä¸‹ä¸€å¥</span></span><br><span class="line">yiYan_copy.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--å¤åˆ¶</span></span></span><br><span class="line"><span class="function">  <span class="title">activity.getSystemService</span><span class="params">(Context.CLIPBOARD_SERVICE)</span></span>.setText( yiYan_output.text )</span><br><span class="line">  Toast.makeText(activity, <span class="string">&quot;å¤åˆ¶æˆåŠŸ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–ç¬‘è¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_xiaoHua</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/xh&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    xiaoHua_output.text = content</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_xiaoHua()</span></span><br><span class="line">xiaoHua_next.onClick = get_xiaoHua <span class="comment">--ä¸‹ä¸€ä¸ª</span></span><br><span class="line">xiaoHua_copy.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--å¤åˆ¶</span></span></span><br><span class="line"><span class="function">  <span class="title">activity.getSystemService</span><span class="params">(Context.CLIPBOARD_SERVICE)</span></span>.setText( xiaoHua_output.text )</span><br><span class="line">  Toast.makeText(activity, <span class="string">&quot;å¤åˆ¶æˆåŠŸ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–æƒ…è¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_qingHua</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/love&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    qingHua_output.text = content</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_qingHua()</span></span><br><span class="line">qingHua_next.onClick = get_qingHua <span class="comment">--ä¸‹ä¸€å¥</span></span><br><span class="line">qingHua_copy.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--å¤åˆ¶</span></span></span><br><span class="line"><span class="function">  <span class="title">activity.getSystemService</span><span class="params">(Context.CLIPBOARD_SERVICE)</span></span>.setText( qingHua_output.text )</span><br><span class="line">  Toast.makeText(activity, <span class="string">&quot;å¤åˆ¶æˆåŠŸ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–æƒ…è¯</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_saoHua</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/sao&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    saoHua_output.text = content</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_saoHua()</span></span><br><span class="line">saoHua_next.onClick = get_saoHua <span class="comment">--ä¸‹ä¸€å¥</span></span><br><span class="line">saoHua_copy.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--å¤åˆ¶</span></span></span><br><span class="line"><span class="function">  <span class="title">activity.getSystemService</span><span class="params">(Context.CLIPBOARD_SERVICE)</span></span>.setText( saoHua_output.text )</span><br><span class="line">  Toast.makeText(activity, <span class="string">&quot;å¤åˆ¶æˆåŠŸ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–é£æ™¯å›¾</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_view</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/view?type=json&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    view_output.loadUrl(<span class="string">&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;&quot;</span>..json.imgurl..<span class="string">&quot;&#x27; style=&#x27;width:256px; height:160px;&#x27; /&gt;&lt;/body&gt;&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_view()</span></span><br><span class="line">view_next.onClick = get_view <span class="comment">--ä¸‹ä¸€å¼ </span></span><br><span class="line">view_download.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--ä¸‹è½½</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">url</span> = <span class="title">string.match</span><span class="params">(view_output.getUrl()</span></span>, <span class="string">&quot;src=&#x27;(.-)&#x27;&quot;</span>)</span><br><span class="line">  <span class="keyword">local</span> addr = <span class="string">&quot;/sdcard/view(&quot;</span>..<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)..<span class="string">&quot;).png&quot;</span></span><br><span class="line">  Http.download(url, addr, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–äºŒæ¬¡å…ƒå›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_acgimg</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/acgimg?type=json&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    acgimg_output.loadUrl(<span class="string">&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;&quot;</span>..json.imgurl..<span class="string">&quot;&#x27; style=&#x27;width:240px; height:135px;&#x27; /&gt;&lt;/body&gt;&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_acgimg()</span></span><br><span class="line">acgimg_next.onClick = get_acgimg <span class="comment">--ä¸‹ä¸€å¼ </span></span><br><span class="line">acgimg_download.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--ä¸‹è½½</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">url</span> = <span class="title">string.match</span><span class="params">(acgimg_output.getUrl()</span></span>, <span class="string">&quot;src=&#x27;(.-)&#x27;&quot;</span>)</span><br><span class="line">  <span class="keyword">local</span> addr = <span class="string">&quot;/sdcard/acgimg(&quot;</span>..<span class="built_in">os</span>.<span class="built_in">date</span>(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)..<span class="string">&quot;).png&quot;</span></span><br><span class="line">  Http.download(url, addr, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–éšæœºæ‰‹æœºåˆ†è¾¨ç‡ç¾å›¾å›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_mobileGirl</span><span class="params">()</span></span></span><br><span class="line">  mobileGirl_output.loadUrl(<span class="string">&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;https://api.vvhan.com/api/mobil.girl&#x27; style=&#x27;width:200px; height:300px;&#x27; /&gt;&lt;/body&gt;&quot;</span>)</span><br><span class="line">  <span class="comment">--[===[Http.get(&quot;https://api.vvhan.com/api/mobil.girl&quot;, nil, nil, nil, function(code, content, cookie, header)</span></span><br><span class="line"><span class="comment">    if code ~= 200 then</span></span><br><span class="line"><span class="comment">      return Toast.makeText(activity, &quot;geté”™è¯¯ncode:&quot;..code..&quot;ncontent:&quot;..content,Toast.LENGTH_SHORT).show()</span></span><br><span class="line"><span class="comment">    end</span></span><br><span class="line"><span class="comment">    local json = cjson.decode(content)</span></span><br><span class="line"><span class="comment">    if not json.success then</span></span><br><span class="line"><span class="comment">      return Toast.makeText(activity, &quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;..content,Toast.LENGTH_SHORT).show()</span></span><br><span class="line"><span class="comment">    end</span></span><br><span class="line"><span class="comment">    mobileGirl_output.loadUrl(&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;&quot;..json.imgurl..&quot;&#x27; style=&#x27;width:200px; height:300px;&#x27; /&gt;&lt;/body&gt;&quot;)</span></span><br><span class="line"><span class="comment">  end)]===]</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_mobileGirl()</span></span><br><span class="line">mobileGirl_next.onClick = get_mobileGirl <span class="comment">--ä¸‹ä¸€å¼ </span></span><br><span class="line"><span class="comment">--[===[mobileGirl_download.onClick = function --ä¸‹è½½</span></span><br><span class="line"><span class="comment">  local url = mobileGirl_output.getUrl()</span></span><br><span class="line"><span class="comment">  local addr = &quot;/sdcard/mobileGirl(&quot;..os.date(&quot;%Y-%m-%d %H:%M:%S&quot;)..&quot;).pmg&quot;</span></span><br><span class="line"><span class="comment">  Http.download(url, addr, nil, nil, function</span></span><br><span class="line"><span class="comment">    print(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span><br><span class="line"><span class="comment">  end)</span></span><br><span class="line"><span class="comment">end]===]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–éšæœºç”µè„‘åˆ†è¾¨ç‡ç¾å›¾å›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_computerGirl</span><span class="params">()</span></span></span><br><span class="line">  computerGirl_output.loadUrl(<span class="string">&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;https://api.vvhan.com/api/girl&#x27; style=&#x27;width:300px; height:200px;&#x27; /&gt;&lt;/body&gt;&quot;</span>)</span><br><span class="line">  <span class="comment">--[===[Http.get(&quot;https://api.vvhan.com/api/girl&quot;, nil, nil, nil, function(code, content, cookie, header)</span></span><br><span class="line"><span class="comment">    if code ~= 200 then</span></span><br><span class="line"><span class="comment">      return Toast.makeText(activity, &quot;geté”™è¯¯ncode:&quot;..code..&quot;ncontent:&quot;..content,Toast.LENGTH_SHORT).show()</span></span><br><span class="line"><span class="comment">    end</span></span><br><span class="line"><span class="comment">    local json = cjson.decode(content)</span></span><br><span class="line"><span class="comment">    if not json.success then</span></span><br><span class="line"><span class="comment">      return Toast.makeText(activity, &quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;..content,Toast.LENGTH_SHORT).show()</span></span><br><span class="line"><span class="comment">    end</span></span><br><span class="line"><span class="comment">    computerGirl_output.loadUrl(&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;&quot;..json.imgurl..&quot;&#x27; style=&#x27;width:300px; height:200px;&#x27; /&gt;&lt;/body&gt;&quot;)</span></span><br><span class="line"><span class="comment">  end)]===]</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_computerGirl()</span></span><br><span class="line">computerGirl_next.onClick = get_computerGirl <span class="comment">--ä¸‹ä¸€å¼ </span></span><br><span class="line"><span class="comment">--[===[mobileGirl_download.onClick = function --ä¸‹è½½</span></span><br><span class="line"><span class="comment">  local url = computerGirl_output.getUrl()</span></span><br><span class="line"><span class="comment">  local addr = &quot;/sdcard/computerGirl(&quot;..os.date(&quot;%Y-%m-%d %H:%M:%S&quot;)..&quot;).png&quot;</span></span><br><span class="line"><span class="comment">  Http.download(url, addr, nil, nil, function</span></span><br><span class="line"><span class="comment">    print(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span><br><span class="line"><span class="comment">  end)</span></span><br><span class="line"><span class="comment">end]===]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–ipå¤©æ°”ç­¾åæ¡£å›¾ç‰‡</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_weather</span><span class="params">()</span></span></span><br><span class="line">  weather_output.loadUrl(<span class="string">&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;https://api.vvhan.com/api/ip&#x27; style=&#x27;width:245.333px; height:151.333px;&#x27; /&gt;&lt;/body&gt;&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--get_weather()</span></span><br><span class="line">weather_next.onClick = get_weather</span><br><span class="line">weather_download.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--ä¸‹è½½</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">url</span> = &quot;<span class="title">https</span>://<span class="title">api.vvhan.com</span>/<span class="title">api</span>/<span class="title">ip</span>&quot;</span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">addr</span> = &quot;/<span class="title">sdcard</span>/<span class="title">weather</span><span class="params">(&quot;..os.date(&quot;%Y-%m-%d %H:%M:%S&quot;)</span></span>..<span class="string">&quot;).png&quot;</span></span><br><span class="line">  Http.download(url, addr, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--å¿«é€’å•å·æ”¹å˜</span></span><br><span class="line">kuaidi_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> kuaidi_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;https://api.vvhan.com/api/kuaidi?hao=&quot;</span>..urlEncode(kuaidi_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      kuaidi_name_output.text = cjson.encode(json.name)</span><br><span class="line">      kuaidi_type_output.text = cjson.encode(json.<span class="built_in">type</span>)</span><br><span class="line">      kuaidi_info_output.text = <span class="built_in">string</span>.<span class="built_in">gsub</span>(</span><br><span class="line">      <span class="built_in">string</span>.<span class="built_in">gsub</span>(</span><br><span class="line">      <span class="built_in">string</span>.<span class="built_in">gsub</span>(cjson.encode(json.info), <span class="string">&quot;&#123;&quot;</span>, <span class="string">&quot;&#123;n&quot;</span>)</span><br><span class="line">      , <span class="string">&quot;&#125;&quot;</span>, <span class="string">&quot;n&#125;n&quot;</span>)</span><br><span class="line">      , <span class="string">&quot;,&quot;</span>, <span class="string">&quot;,n&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--éªšæ‰°ç”µè¯å·ç æ”¹å˜</span></span><br><span class="line">saorao_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> saorao_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;https://api.vvhan.com/api/saorao?tel=&quot;</span>..urlEncode(saorao_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      saorao_baidu_output.text = cjson.encode(json.info[<span class="number">1</span>].message)</span><br><span class="line">      saorao_sogou_output.text = cjson.encode(json.info[<span class="number">2</span>].message)</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--å½’å±åœ°ç”µè¯å·ç æ”¹å˜</span></span><br><span class="line">phone_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> phone_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;https://api.vvhan.com/api/phone?tel=&quot;</span>..urlEncode(phone_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      phone_output.text = cjson.encode(json.info.<span class="keyword">local</span>)</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--IPæ”¹å˜</span></span><br><span class="line">ip_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> ip_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;https://api.vvhan.com/api/getIpInfo?ip=&quot;</span>..urlEncode(phone_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      ip_output.text = cjson.encode(json.info.lsp)</span><br><span class="line">      ip_lat_output.text = json.info.lat..<span class="string">&quot;Â°&quot;</span></span><br><span class="line">      ip_lng_output.text = json.info.lng..<span class="string">&quot;Â°&quot;</span></span><br><span class="line">      ip_radius_output.text = json.info.radius..<span class="string">&quot;m&quot;</span></span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–éŸ³ä¹</span></span><br><span class="line"><span class="keyword">local</span> musicUrl</span><br><span class="line"><span class="keyword">local</span> mediaPlayer = MediaPlayer()</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_music</span><span class="params">()</span></span></span><br><span class="line">  Http.get(<span class="string">&quot;https://api.vvhan.com/api/rand.music?type=json&amp;sort=çƒ­æ­Œæ¦œ&quot;</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">    <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    music_name_output.text = cjson.encode(json.info.name)</span><br><span class="line">    music_picture_output.loadUrl(<span class="string">&quot;data:text/html,&lt;body style=&#x27;margin:0;&#x27;&gt;&lt;img src=&#x27;&quot;</span>..json.info.picUrl..<span class="string">&quot;&#x27; style=&#x27;width:100px; height:100px;&#x27; /&gt;&lt;/body&gt;&quot;</span>)</span><br><span class="line">    mediaPlayer.reset() <span class="comment">--åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">    mediaPlayer.setDataSource(json.info.mp3url) <span class="comment">--è®¾ç½®æ’­æ”¾èµ„æº</span></span><br><span class="line">    mediaPlayer.prepare() <span class="comment">--å¼€å§‹ç¼“å†²èµ„æº</span></span><br><span class="line">    <span class="comment">--ç¼“å†²å®Œæˆçš„ç›‘å¬</span></span><br><span class="line">    mediaPlayer.setOnPreparedListener(MediaPlayer.OnPreparedListener&#123;</span><br><span class="line">      onPrepared = <span class="function"><span class="keyword">function</span><span class="params">(mediaPlayer)</span></span></span><br><span class="line">        mediaPlayer.start()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç¼“å†²å®Œæ¯•ï¼Œå¼€å§‹æ’­æ”¾&quot;</span>)</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    &#125;);</span><br><span class="line">    musicUrl = json.info.mp3url</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">music_next.onClick = get_music <span class="comment">--ä¸‹ä¸€é¦–</span></span><br><span class="line">music_download.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--ä¸‹è½½</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">url</span> = <span class="title">musicUrl</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">addr</span> = &quot;/<span class="title">sdcard</span>/<span class="title">music</span><span class="params">(&quot;..os.date(&quot;%Y-%m-%d %H:%M:%S&quot;)</span></span>..<span class="string">&quot;).mp3&quot;</span></span><br><span class="line">  Http.download(url, addr, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onDestroy</span><span class="params">()</span></span></span><br><span class="line">  mediaPlayer.stop()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è·å–è¯­éŸ³</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">get_song</span><span class="params">()</span></span></span><br><span class="line">  mediaPlayer.reset() <span class="comment">--åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">  mediaPlayer.setDataSource(<span class="string">&quot;https://api.vvhan.com/api/song?txt=&quot;</span>..song_input.text) <span class="comment">--è®¾ç½®æ’­æ”¾èµ„æº</span></span><br><span class="line">  mediaPlayer.prepare() <span class="comment">--å¼€å§‹ç¼“å†²èµ„æº</span></span><br><span class="line">  <span class="comment">--ç¼“å†²å®Œæˆçš„ç›‘å¬</span></span><br><span class="line">  mediaPlayer.setOnPreparedListener(MediaPlayer.OnPreparedListener&#123;</span><br><span class="line">    onPrepared = <span class="function"><span class="keyword">function</span><span class="params">(mediaPlayer)</span></span></span><br><span class="line">      mediaPlayer.start()</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&quot;ç¼“å†²å®Œæ¯•ï¼Œå¼€å§‹æ’­æ”¾&quot;</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">song_play.onClick = get_song <span class="comment">--æ’­æ”¾</span></span><br><span class="line">song_download.onClick = <span class="function"><span class="keyword">function</span> <span class="comment">--ä¸‹è½½</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">url</span> = &quot;<span class="title">https</span>://<span class="title">api.vvhan.com</span>/<span class="title">api</span>/<span class="title">song</span>?<span class="title">txt</span>=&quot;..<span class="title">song_input.text</span></span></span><br><span class="line"><span class="function">  <span class="title">local</span> <span class="title">addr</span> = &quot;/<span class="title">sdcard</span>/<span class="title">song</span><span class="params">(&quot;..os.date(&quot;%Y-%m-%d %H:%M:%S&quot;)</span></span>..<span class="string">&quot;).mp3&quot;</span></span><br><span class="line">  Http.download(url, addr, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">print</span><span class="params">(&quot;å·²ä¸‹è½½è‡³&quot;..addr)</span></span></span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--èŠå¤©æœºå™¨äººå‘é€å†…å®¹æ”¹å˜</span></span><br><span class="line">chat_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> chat_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=&quot;</span>..urlEncode(chat_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> json.result~=<span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      chat_output.text = <span class="built_in">string</span>.<span class="built_in">gsub</span>( cjson.encode(json.content), <span class="string">&quot;&#123;br&#125;&quot;</span>, <span class="string">&quot;n&quot;</span> )</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">--åƒåœ¾åç§°æ”¹å˜</span></span><br><span class="line">laji_input.addTextChangedListener&#123;</span><br><span class="line">  onTextChanged = <span class="function"><span class="keyword">function</span><span class="params">(text, start, before, count)</span></span></span><br><span class="line">    <span class="keyword">if</span> laji_input.text == <span class="string">&quot;&quot;</span> <span class="keyword">then</span> <span class="keyword">return</span> <span class="keyword">end</span> <span class="comment">--æ— è¾“å…¥</span></span><br><span class="line">    Http.get(<span class="string">&quot;https://api.vvhan.com/api/la.ji?lj=&quot;</span>..urlEncode(laji_input.text), <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="function"><span class="keyword">function</span><span class="params">(code, content, cookie, header)</span></span></span><br><span class="line">      <span class="keyword">if</span> code ~= <span class="number">200</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;geté”™è¯¯ncode:&quot;</span>..code..<span class="string">&quot;ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">local</span> json = cjson.decode(content)</span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">not</span> json.success <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> Toast.makeText(activity, <span class="string">&quot;æœåŠ¡å™¨é”™è¯¯ncontent:&quot;</span>..content,Toast.LENGTH_SHORT).show()</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">      laji_output.text = cjson.encode(json.<span class="built_in">sort</span>)</span><br><span class="line">    <span class="keyword">end</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>timerå®šæ—¶å™¨</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/timer%E5%AE%9A%E6%97%B6%E5%99%A8-2021-11-12%2012:29:45/</url>
    <content><![CDATA[<h1>timerå®šæ—¶å™¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--timerå®šæ—¶å™¨</span></span><br><span class="line">t=timer(<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span>,å»¶è¿Ÿ,é—´éš”,åˆå§‹åŒ–)</span><br><span class="line"><span class="comment">--æš‚åœtimerå®šæ—¶å™¨</span></span><br><span class="line">t.Enable=<span class="literal">false</span></span><br><span class="line"><span class="comment">--å¯åŠ¨timerå®šæ—¶å™¨</span></span><br><span class="line">t.Enable=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Tickerå®šæ—¶å™¨</span></span><br><span class="line">ti=Ticker()</span><br><span class="line">ti.Period=é—´éš”</span><br><span class="line">ti.onTick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--å¯åŠ¨Tickerå®šæ—¶å™¨</span></span><br><span class="line">ti.start()</span><br><span class="line"><span class="comment">--åœæ­¢Tickerå®šæ—¶å™¨</span></span><br><span class="line">ti.stop()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>v4åœ†å½¢ä¸‹æ‹‰</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/v4%E5%9C%86%E5%BD%A2%E4%B8%8B%E6%8B%89-2021-11-12%2012:28:40/</url>
    <content><![CDATA[<h1>v4åœ†å½¢ä¸‹æ‹‰</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è®¾ç½®ä¸‹æ‹‰åˆ·æ–°ç›‘å¬äº‹ä»¶</span></span><br><span class="line">swipeRefreshLayout.setOnRefreshListener(this);</span><br><span class="line"><span class="comment">--è®¾ç½®è¿›åº¦æ¡çš„é¢œè‰²</span></span><br><span class="line">swipeRefreshLayout.setColorSchemeColors(Color.RED, Color.BLUE, Color.GREEN);</span><br><span class="line"><span class="comment">--è®¾ç½®åœ†å½¢è¿›åº¦æ¡å¤§å°</span></span><br><span class="line">swipeRefreshLayout.setSize(SwipeRefreshLayout.LARGE);</span><br><span class="line"><span class="comment">--è®¾ç½®è¿›åº¦æ¡èƒŒæ™¯é¢œè‰²</span></span><br><span class="line">swipeRefreshLayout.setProgressBackgroundColorSchemeColor(Color.DKGRAY);</span><br><span class="line"><span class="comment">--è®¾ç½®ä¸‹æ‹‰å¤šå°‘è·ç¦»ä¹‹åå¼€å§‹åˆ·æ–°æ•°æ®</span></span><br><span class="line">swipeRefreshLayout.setDistanceToTriggerSync(<span class="number">50</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å…³é—­å¯¹è¯æ¡†</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%85%B3%E9%97%AD%E5%AF%B9%E8%AF%9D%E6%A1%86-2021-11-12%2012:31:19/</url>
    <content><![CDATA[<h1>å…³é—­å¯¹è¯æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å°†dl.showèµ‹å€¼</span></span><br><span class="line">dialog=dl.show()</span><br><span class="line"><span class="comment">--åœ¨æŸæŒ‰é’®ç‚¹å‡»åå…³é—­è¿™ä¸ªå¯¹è¯æ¡†</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">zc.onClick</span><span class="params">()</span></span></span><br><span class="line">  dialog.dismiss()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ—è¡¨ä¸‹æ»‘åˆ°æœ€åº•äº‹ä»¶</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%88%97%E8%A1%A8%E4%B8%8B%E6%BB%91%E5%88%B0%E6%9C%80%E5%BA%95%E4%BA%8B%E4%BB%B6-2021-11-12%2012:28:55/</url>
    <content><![CDATA[<h1>åˆ—è¡¨ä¸‹æ»‘åˆ°æœ€åº•äº‹ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">list.setOnScrollListener&#123;</span><br><span class="line">  onScrollStateChanged=<span class="function"><span class="keyword">function</span><span class="params">(l,s)</span></span></span><br><span class="line">    <span class="keyword">if</span> list.getLastVisiblePosition()==list.getCount()<span class="number">-1</span> <span class="keyword">then</span></span><br><span class="line">      <span class="comment">--äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span>&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ è½½æ¡†</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%8A%A0%E8%BD%BD%E6%A1%86-2021-11-12%2012:27:43/</url>
    <content><![CDATA[<h1>åŠ è½½æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">dialog= ProgressDialog.show(this,<span class="literal">nil</span>, <span class="string">&quot;å¯¹è¯æ¡†å†…å®¹..&quot;</span>,<span class="literal">false</span>, <span class="literal">true</span>).hide()</span><br><span class="line">dialog.show()</span><br><span class="line"></span><br><span class="line"><span class="comment">--2ç§’åå…³é—­åŠ è½½æ¡†</span></span><br><span class="line">task(<span class="number">2000</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  dialog.dismiss()</span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>åŠ è½½æ¡†ç¤ºä¾‹</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%8A%A0%E8%BD%BD%E6%A1%86%E7%A4%BA%E4%BE%8B-2021-11-12%2012:31:36/</url>
    <content><![CDATA[<h1>åŠ è½½æ¡†ç¤ºä¾‹</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="keyword">local</span> dl=ProgressDialog.show(activity,<span class="literal">nil</span>,<span class="string">&#x27;ç™»å½•ä¸­&#x27;</span>)</span><br><span class="line">dl.show()</span><br><span class="line"><span class="keyword">local</span> a=<span class="number">0</span></span><br><span class="line"><span class="keyword">local</span> tt=Ticker()</span><br><span class="line">tt.start()</span><br><span class="line">tt.onTick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  a=a+<span class="number">1</span></span><br><span class="line">  <span class="keyword">if</span> a==<span class="number">3</span> <span class="keyword">then</span></span><br><span class="line">    dl.dismiss()</span><br><span class="line">    tt.stop()</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%A4%8D%E5%88%B6%E6%96%87%E6%9C%AC%E5%88%B0%E5%89%AA%E8%B4%B4%E6%9D%BF-2021-11-12%2012:30:50/</url>
    <content><![CDATA[<h1>å¤åˆ¶æ–‡æœ¬åˆ°å‰ªè´´æ¿</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--å…ˆå¯¼å…¥åŒ…</span></span><br><span class="line">import <span class="string">&quot;android.content.*&quot;</span></span><br><span class="line">activity.getSystemService(Context.CLIPBOARD_SERVICE).setText(æ–‡æœ¬)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å®‰å“è·³è½¬åŠ¨ç”»</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%AE%89%E5%8D%93%E8%B7%B3%E8%BD%AC%E5%8A%A8%E7%94%BB-2021-11-12%2012:30:33/</url>
    <content><![CDATA[<h1>å®‰å“è·³è½¬åŠ¨ç”»</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">android.R.anim.accelerate_decelerate_interpolator</span><br><span class="line">android.R.anim.accelerate_interpolator</span><br><span class="line">android.R.anim.anticipate_interpolator</span><br><span class="line">android.R.anim.anticipate_overshoot_interpolator</span><br><span class="line">android.R.anim.bounce_interpolator</span><br><span class="line">android.R.anim.cycle_interpolator</span><br><span class="line">android.R.anim.decelerate_interpolatoandroid.R.anim.r</span><br><span class="line">android.R.anim.fade_in</span><br><span class="line">android.R.anim.fade_out</span><br><span class="line">android.R.anim.linear_interpolator</span><br><span class="line">android.R.anim.overshoot_interpolator</span><br><span class="line">android.R.anim.slide_in_left</span><br><span class="line">android.R.anim.slide_out_right</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>å»¶è¿Ÿæ—¶é—´</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E5%BB%B6%E8%BF%9F%E6%97%B6%E9%97%B4-2021-11-12%2012:30:03/</url>
    <content><![CDATA[<h1>å»¶è¿Ÿæ—¶é—´</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è¿™ä¸ªä¼šå¡è¿›ç¨‹ï¼Œé…åˆçº¿ç¨‹ä½¿ç”¨</span></span><br><span class="line">Thread.sleep(å»¶è¿Ÿæ—¶é—´)</span><br><span class="line"><span class="comment">--è¿™ä¸ªä¸ä¼šå¡è¿›ç¨‹</span></span><br><span class="line"><span class="comment">--500æŒ‡å»¶è¿Ÿ500æ¯«ç§’</span></span><br><span class="line">task(<span class="number">500</span>â€š<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--å»¶è¿Ÿä¹‹åæ‰§è¡Œçš„äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ§ä»¶å¯è§†ï¼Œä¸å¯è§†æˆ–éšè—</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E6%8E%A7%E4%BB%B6%E5%8F%AF%E8%A7%86%EF%BC%8C%E4%B8%8D%E5%8F%AF%E8%A7%86%E6%88%96%E9%9A%90%E8%97%8F-2021-11-12%2012:32:36/</url>
    <content><![CDATA[<h1>æ§ä»¶å¯è§†ï¼Œä¸å¯è§†æˆ–éšè—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--æ§ä»¶å¯è§†</span></span><br><span class="line">æ§ä»¶ID.setVisibility(View.VISIBLE)</span><br><span class="line"><span class="comment">--æ§ä»¶ä¸å¯è§†</span></span><br><span class="line">æ§ä»¶ID.setVisibility(View.INVISIBLE)</span><br><span class="line"><span class="comment">--æ§ä»¶éšè—</span></span><br><span class="line">æ§ä»¶ID.setVisibility(View.GONE)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ§ä»¶ç‚¹å‡»</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E6%8E%A7%E4%BB%B6%E7%82%B9%E5%87%BB-2021-11-12%2012:32:54/</url>
    <content><![CDATA[<h1>æ§ä»¶ç‚¹å‡»</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶<span class="title">ID.onClick</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">æ§ä»¶ID.onClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ§ä»¶è¢«é•¿æŒ‰</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E6%8E%A7%E4%BB%B6%E8%A2%AB%E9%95%BF%E6%8C%89-2021-11-12%2012:33:28/</url>
    <content><![CDATA[<h1>æ§ä»¶è¢«é•¿æŒ‰</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">æ§ä»¶ID.onLongClick=<span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> æ§ä»¶<span class="title">ID.onLongClick</span><span class="params">()</span></span></span><br><span class="line">  <span class="comment">--äº‹ä»¶</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æç¤ºæ¡†</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E6%8F%90%E7%A4%BA%E6%A1%86-2021-11-12%2012:32:02/</url>
    <content><![CDATA[<h1>æç¤ºæ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line">import <span class="string">&quot;android.content.DialogInterface&quot;</span></span><br><span class="line"><span class="keyword">local</span> dl=AlertDialog.Builder(activity)</span><br><span class="line">.setTitle(<span class="string">&quot;æç¤ºæ¡†æ ‡é¢˜&quot;</span>)</span><br><span class="line">.setMessage(<span class="string">&quot;æç¤ºæ¡†å†…å®¹&quot;</span>)</span><br><span class="line">.setPositiveButton(<span class="string">&quot;æŒ‰é’®æ ‡é¢˜&quot;</span>,DialogInterface</span><br><span class="line">.OnClickListener&#123;</span><br><span class="line">  onClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">    <span class="comment">--äº‹ä»¶</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line">.setNegativeButton(<span class="string">&quot;æŒ‰é’®æ ‡é¢˜&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">.<span class="built_in">create</span>()</span><br><span class="line">dl.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>æ²‰æµ¸çŠ¶æ€æ </title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E6%B2%89%E6%B5%B8%E7%8A%B6%E6%80%81%E6%A0%8F-2021-11-12%2012:31:04/</url>
    <content><![CDATA[<h1>æ²‰æµ¸çŠ¶æ€æ </h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è¿™ä¸ªéœ€è¦ç³»ç»ŸSDK21ä»¥ä¸Šæ‰èƒ½ç”¨</span></span><br><span class="line"><span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">21</span> <span class="keyword">then</span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS).setStatusBarColor(<span class="number">0xff4285f4</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--è¿™ä¸ªéœ€è¦ç³»ç»ŸSDK19ä»¥ä¸Šæ‰èƒ½ç”¨</span></span><br><span class="line"><span class="keyword">if</span> Build.VERSION.SDK_INT &gt;= <span class="number">19</span> <span class="keyword">then</span></span><br><span class="line">  activity.getWindow().addFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ç¦ç”¨ç¼–è¾‘æ¡†</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E7%A6%81%E7%94%A8%E7%BC%96%E8%BE%91%E6%A1%86-2021-11-12%2012:28:25/</url>
    <content><![CDATA[<h1>ç¦ç”¨ç¼–è¾‘æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">--ä»£ç ä¸­è®¾ç½®</span></span><br><span class="line">editText.setFocusable(<span class="literal">false</span>);</span><br><span class="line"><span class="comment">--å¸ƒå±€è¡¨ä¸­è®¾ç½®</span></span><br><span class="line">Focusable=<span class="literal">false</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>ç®€å•æ–‡ä»¶ç®¡ç†å™¨</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E7%AE%80%E5%8D%95%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86%E5%99%A8-2021-11-12%2012:34:29/</url>
    <content><![CDATA[<h1>ç®€å•æ–‡ä»¶ç®¡ç†å™¨</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;import&quot;</span></span><br><span class="line"><span class="comment">--import &quot;android.app.*&quot;</span></span><br><span class="line"><span class="comment">--import &quot;android.os.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.widget.*&quot;</span></span><br><span class="line">import <span class="string">&quot;android.view.*&quot;</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;java.io.File&quot;</span> <span class="comment">--æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line">import <span class="string">&quot;android.app.AlertDialog&quot;</span> <span class="comment">--å¯¹è¯æ¡†</span></span><br><span class="line">import <span class="string">&quot;android.webkit.MimeTypeMap&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span> <span class="comment">--ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line">import <span class="string">&quot;com.androlua.LuaUtil&quot;</span> <span class="comment">--è¾…åŠ©åº“ åˆ é™¤æ–‡ä»¶å¤¹</span></span><br><span class="line">import <span class="string">&quot;android.text.format.Formatter&quot;</span> <span class="comment">--æ ¼å¼åŒ–æ–‡ä»¶å¤§å°</span></span><br><span class="line"></span><br><span class="line">layout=&#123;</span><br><span class="line">  LinearLayout;</span><br><span class="line">  orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">  layout_width=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  layout_height=<span class="string">&quot;fill&quot;</span>;</span><br><span class="line">  &#123;</span><br><span class="line">    TextView;</span><br><span class="line">    id=<span class="string">&quot;path_TextView&quot;</span>;</span><br><span class="line">    text=<span class="string">&quot;path: /sdcard&quot;</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;</span><br><span class="line">    LinearLayout;</span><br><span class="line">    &#123;</span><br><span class="line">      Button;</span><br><span class="line">      id=<span class="string">&quot;addFile_Button&quot;</span>;</span><br><span class="line">      text=<span class="string">&quot;+æ–‡ä»¶&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      Button;</span><br><span class="line">      id=<span class="string">&quot;addDir_Button&quot;</span>;</span><br><span class="line">      text=<span class="string">&quot;+æ–‡ä»¶å¤¹&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">  &#123;</span><br><span class="line">    AbsoluteLayout;</span><br><span class="line">    layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">    layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">    &#123;</span><br><span class="line">      LinearLayout;</span><br><span class="line">      id=<span class="string">&quot;fileEdit_LinearLayout&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      orientation=<span class="string">&quot;vertical&quot;</span>;</span><br><span class="line">      &#123;</span><br><span class="line">        LinearLayout;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        &#123;</span><br><span class="line">          Button;</span><br><span class="line">          id=<span class="string">&quot;back_Button&quot;</span>;</span><br><span class="line">          text=<span class="string">&quot;&lt;è¿”å›&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">        &#123;</span><br><span class="line">          Button;</span><br><span class="line">          id=<span class="string">&quot;save_Button&quot;</span>;</span><br><span class="line">          text=<span class="string">&quot;ä¿å­˜&quot;</span>;</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;;</span><br><span class="line">      &#123;</span><br><span class="line">        EditText;</span><br><span class="line">        id=<span class="string">&quot;file_EditText&quot;</span>;</span><br><span class="line">        layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">        gravity=<span class="string">&quot;start&quot;</span>;</span><br><span class="line">        backgroundColor=<span class="string">&quot;#fffae8&quot;</span>;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">    &#123;</span><br><span class="line">      ListView;</span><br><span class="line">      id=<span class="string">&quot;dir_ListView&quot;</span>;</span><br><span class="line">      layout_height=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">      layout_width=<span class="string">&quot;-1&quot;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">activity.setTheme(android.R.style.Theme_DeviceDefault_Light)<span class="comment">--è®¾ç½®mdä¸»é¢˜</span></span><br><span class="line">activity.setTitle(<span class="string">&quot;æ–‡ä»¶ç®¡ç†&quot;</span>)</span><br><span class="line">activity.setContentView(loadlayout(layout))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> <span class="built_in">path</span> = <span class="string">&quot;/sdcard&quot;</span></span><br><span class="line"><span class="keyword">local</span> adp = ArrayAdapter(activity, android.R.layout.simple_list_item_1)</span><br><span class="line">dir_ListView.setAdapter(adp)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">update</span><span class="params">()</span></span></span><br><span class="line">  path_TextView.text = <span class="string">&quot;path: &quot;</span>..<span class="built_in">path</span></span><br><span class="line">  <span class="keyword">if</span> File(<span class="built_in">path</span>).isDirectory() <span class="keyword">then</span> <span class="comment">--æ‰“å¼€æ–‡ä»¶å¤¹</span></span><br><span class="line">    dir_ListView.setVisibility(View.VISIBLE)</span><br><span class="line">    fileEdit_LinearLayout.setVisibility(View.GONE)</span><br><span class="line"></span><br><span class="line">    adp.clear() <span class="comment">--æ¸…ç©º</span></span><br><span class="line">    adp.add(<span class="string">&quot;../&quot;</span>) <span class="comment">--çˆ¶æ–‡ä»¶å¤¹</span></span><br><span class="line">    <span class="keyword">local</span> ls = File(<span class="built_in">path</span>).listFiles()</span><br><span class="line">    <span class="keyword">if</span> ls <span class="keyword">then</span> <span class="comment">--ä¸ä¸ºç©º</span></span><br><span class="line">      <span class="keyword">local</span> fileList = luajava.astable( ls )</span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">sort</span>(fileList, <span class="function"><span class="keyword">function</span><span class="params">(a,b)</span></span> <span class="comment">--æ’åº</span></span><br><span class="line">        <span class="keyword">return</span> (a.isDirectory()~=b.isDirectory() <span class="keyword">and</span> a.isDirectory()) <span class="keyword">or</span> ((a.isDirectory()==b.isDirectory()) <span class="keyword">and</span> a.Name&lt;b.Name)</span><br><span class="line">      <span class="keyword">end</span>)</span><br><span class="line">      <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(fileList) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> v.isDirectory() <span class="keyword">then</span> <span class="comment">--æ–‡ä»¶å¤¹</span></span><br><span class="line">          adp.add(v.Name..<span class="string">&quot;/&quot;</span>)</span><br><span class="line">         <span class="keyword">else</span></span><br><span class="line">          <span class="keyword">local</span> cal = Calendar.getInstance()</span><br><span class="line">          <span class="keyword">local</span> <span class="built_in">time</span> = v.lastModified() <span class="comment">--æœ€åä¿®æ”¹æ—¶é—´</span></span><br><span class="line">          cal.setTimeInMillis(<span class="built_in">time</span>)</span><br><span class="line">          adp.add( v.Name..<span class="string">&quot;nttt&quot;</span>..Formatter.formatFileSize(activity, v.length())..<span class="string">&quot;tttttt&quot;</span>..cal.getTime().toLocaleString() )</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">else</span> <span class="comment">--æŸ¥çœ‹æ–‡ä»¶</span></span><br><span class="line">    dir_ListView.setVisibility(View.GONE)</span><br><span class="line">    fileEdit_LinearLayout.setVisibility(View.VISIBLE)</span><br><span class="line">    <span class="keyword">local</span> file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="built_in">path</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">    file_EditText.text = file:<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line">    file:<span class="built_in">close</span>(file)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">update()</span><br><span class="line"></span><br><span class="line"><span class="comment">--ç³»ç»Ÿæ‰“å¼€æ–‡ä»¶</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">openFile</span><span class="params">(path)</span></span></span><br><span class="line">  <span class="keyword">local</span> FileName = <span class="built_in">tostring</span>(File(<span class="built_in">path</span>).Name)</span><br><span class="line">  <span class="keyword">local</span> ExtensionName = FileName:<span class="built_in">match</span>(<span class="string">&quot;%.(.+)&quot;</span>)</span><br><span class="line">  <span class="keyword">local</span> Mime = MimeTypeMap.getSingleton().getMimeTypeFromExtension(ExtensionName)</span><br><span class="line">  <span class="keyword">if</span> Mime <span class="keyword">then</span></span><br><span class="line">    intent = Intent()</span><br><span class="line">    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)</span><br><span class="line">    intent.setAction(Intent.ACTION_VIEW);</span><br><span class="line">    intent.setDataAndType(Uri.fromFile(File(<span class="built_in">path</span>)), Mime);</span><br><span class="line">    activity.startActivity(intent)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ—è¡¨ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">dir_ListView.onItemClick=<span class="function"><span class="keyword">function</span><span class="params">(l,v,p,s)</span></span></span><br><span class="line">  <span class="keyword">local</span> name = v.Text</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">sub</span>(name, <span class="number">-1</span>) == <span class="string">&quot;/&quot;</span> <span class="keyword">then</span></span><br><span class="line">    name = <span class="built_in">string</span>.<span class="built_in">sub</span>(name, <span class="number">1</span>, <span class="number">-2</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    name = <span class="built_in">string</span>.<span class="built_in">match</span>(name, <span class="string">&quot;(.-)n&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> name == <span class="string">&quot;..&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">path</span> = <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">path</span>, <span class="string">&quot;(.*)/.+&quot;</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">path</span> = <span class="built_in">path</span>..<span class="string">&quot;/&quot;</span>..name</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  update()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> pop = PopupMenu(activity, path_TextView) <span class="comment">--å¼¹å‡ºèœå•</span></span><br><span class="line"><span class="keyword">local</span> menu = pop.Menu</span><br><span class="line"><span class="comment">--ç³»ç»Ÿæ‰“å¼€</span></span><br><span class="line">menu.add(<span class="string">&quot;æ‰“å¼€(ç³»ç»Ÿ)&quot;</span>).onMenuItemClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  openFile(<span class="built_in">path</span>)</span><br><span class="line">  <span class="built_in">path</span> = <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">path</span>, <span class="string">&quot;(.*)/.+&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--åˆ é™¤æ–‡ä»¶/æ–‡ä»¶å¤¹</span></span><br><span class="line">menu.add(<span class="string">&quot;åˆ é™¤&quot;</span>).onMenuItemClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  AlertDialog.Builder(this)</span><br><span class="line">  .setTitle(<span class="string">&quot;çœŸçš„è¦åˆ é™¤&quot;</span>..<span class="built_in">path</span>..<span class="string">&quot;å—ï¼Ÿ&quot;</span>)</span><br><span class="line">  .setMessage(<span class="string">&quot;ï¼ˆå°†æ— æ³•æ¢å¤ï¼‰&quot;</span>)</span><br><span class="line">  .setPositiveButton(<span class="string">&quot;åˆ é™¤&quot;</span>,<span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">LuaUtil.rmDir</span><span class="params">( File(path)</span></span> )</span><br><span class="line">    <span class="built_in">path</span> = <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">path</span>, <span class="string">&quot;(.*)/.+&quot;</span>)</span><br><span class="line">    update()</span><br><span class="line">    Toast.makeText(activity, <span class="string">&quot;åˆ é™¤æˆåŠŸ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line">  .setNeutralButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>,<span class="literal">nil</span>)</span><br><span class="line">  .show()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--é‡å‘½å/ç§»åŠ¨æ–‡ä»¶</span></span><br><span class="line">menu.add(<span class="string">&quot;é‡å‘½å/ç§»åŠ¨&quot;</span>).onMenuItemClick=<span class="function"><span class="keyword">function</span><span class="params">(v)</span></span></span><br><span class="line">  <span class="keyword">local</span> editText = EditText(activity)</span><br><span class="line"></span><br><span class="line">  AlertDialog.Builder(this)</span><br><span class="line">  .setTitle(<span class="string">&quot;è¯·è¾“å…¥&quot;</span>)</span><br><span class="line">  .setIcon(android.R.drawable.ic_dialog_info)</span><br><span class="line">  .setView(editText)</span><br><span class="line">  .setPositiveButton(<span class="string">&quot;ç¡®å®š&quot;</span>, <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">    <span class="title">File</span><span class="params">(path)</span></span>.renameTo(</span><br><span class="line">    File( <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">path</span>, <span class="string">&quot;(.*)/.+&quot;</span>)..<span class="string">&quot;/&quot;</span>..editText.text )</span><br><span class="line">    )</span><br><span class="line">    Toast.makeText(activity, <span class="string">&quot;ç§»åŠ¨æˆåŠŸ&quot;</span>,Toast.LENGTH_SHORT).show()</span><br><span class="line">    <span class="built_in">path</span> = <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">path</span>, <span class="string">&quot;(.*)/.+&quot;</span>)</span><br><span class="line">    update()</span><br><span class="line">  <span class="keyword">end</span>)</span><br><span class="line">  .setNegativeButton(<span class="string">&quot;å–æ¶ˆ&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">  .show();</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--åˆ—è¡¨é¡¹ç›®é•¿æŒ‰</span></span><br><span class="line">dir_ListView.onItemLongClick = <span class="function"><span class="keyword">function</span><span class="params">(l,v,p,s)</span></span></span><br><span class="line">  <span class="keyword">local</span> name = v.text</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">string</span>.<span class="built_in">sub</span>(name, <span class="number">-1</span>) == <span class="string">&quot;/&quot;</span> <span class="keyword">then</span></span><br><span class="line">    name = <span class="built_in">string</span>.<span class="built_in">sub</span>(name, <span class="number">1</span>, <span class="number">-2</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    name = <span class="built_in">string</span>.<span class="built_in">match</span>(name, <span class="string">&quot;(.-)n&quot;</span>)</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> name == <span class="string">&quot;..&quot;</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">path</span> = <span class="built_in">string</span>.<span class="built_in">match</span>(<span class="built_in">path</span>, <span class="string">&quot;(.*)/.+&quot;</span>)</span><br><span class="line">   <span class="keyword">else</span></span><br><span class="line">    <span class="built_in">path</span> = <span class="built_in">path</span>..<span class="string">&quot;/&quot;</span>..name</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  pop.show() <span class="comment">--å¼¹å‡ºèœå•</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è¿”å›çˆ¶æ–‡ä»¶å¤¹</span></span><br><span class="line">back_Button.onClick = <span class="function"><span class="keyword">function</span></span></span><br><span class="line"><span class="function">  <span class="title">path</span> = <span class="title">string.match</span><span class="params">(path, &quot;(.*)</span></span>/.+<span class="string">&quot;)</span></span><br><span class="line"><span class="string">  update()</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--ä¿å­˜æ–‡ä»¶</span></span><br><span class="line"><span class="string">save_Button.onClick = function</span></span><br><span class="line"><span class="string">  local file = io.open(path, &quot;</span>w<span class="string">&quot;)</span></span><br><span class="line"><span class="string">  file:write(file_EditText.text)</span></span><br><span class="line"><span class="string">  file:close(file)</span></span><br><span class="line"><span class="string">  Toast.makeText(activity, &quot;</span>ä¿å­˜æˆåŠŸ<span class="string">&quot;,Toast.LENGTH_SHORT).show()</span></span><br><span class="line"><span class="string">  path = string.match(path, &quot;</span>(.*)/.+<span class="string">&quot;)</span></span><br><span class="line"><span class="string">  update()</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--æ–°å»ºæ–‡ä»¶</span></span><br><span class="line"><span class="string">addFile_Button.onClick = function</span></span><br><span class="line"><span class="string">  local editText = EditText(activity)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  AlertDialog.Builder(this)</span></span><br><span class="line"><span class="string">  .setTitle(&quot;</span>è¯·è¾“å…¥<span class="string">&quot;)</span></span><br><span class="line"><span class="string">  .setIcon(android.R.drawable.ic_dialog_info)</span></span><br><span class="line"><span class="string">  .setView(editText)</span></span><br><span class="line"><span class="string">  .setPositiveButton(&quot;</span>ç¡®å®š<span class="string">&quot;, function</span></span><br><span class="line"><span class="string">    File(path..&quot;</span>/<span class="string">&quot;..editText.text).createNewFile()</span></span><br><span class="line"><span class="string">    update()</span></span><br><span class="line"><span class="string">  end)</span></span><br><span class="line"><span class="string">  .setNegativeButton(&quot;</span>å–æ¶ˆ<span class="string">&quot;, nil)</span></span><br><span class="line"><span class="string">  .show();</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">--æ–°å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="string">addDir_Button.onClick = function</span></span><br><span class="line"><span class="string">  local editText = EditText(activity)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  AlertDialog.Builder(this)</span></span><br><span class="line"><span class="string">  .setTitle(&quot;</span>è¯·è¾“å…¥<span class="string">&quot;)</span></span><br><span class="line"><span class="string">  .setIcon(android.R.drawable.ic_dialog_info)</span></span><br><span class="line"><span class="string">  .setView(editText)</span></span><br><span class="line"><span class="string">  .setPositiveButton(&quot;</span>ç¡®å®š<span class="string">&quot;, function</span></span><br><span class="line"><span class="string">    File(path..&quot;</span>/<span class="string">&quot;..editText.text).mkdirs()</span></span><br><span class="line"><span class="string">    update()</span></span><br><span class="line"><span class="string">  end)</span></span><br><span class="line"><span class="string">  .setNegativeButton(&quot;</span>å–æ¶ˆ<span class="string">&quot;, nil)</span></span><br><span class="line"><span class="string">  .show();</span></span><br><span class="line"><span class="string">end</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–å·²å®‰è£…çš„ç¨‹åº</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E5%B7%B2%E5%AE%89%E8%A3%85%E7%9A%84%E7%A8%8B%E5%BA%8F-2021-11-12%2012:27:09/</url>
    <content><![CDATA[<h1>è·å–å·²å®‰è£…çš„ç¨‹åº</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetAppInfo</span><span class="params">(åŒ…å)</span></span></span><br><span class="line">  import <span class="string">&quot;android.content.pm.PackageManager&quot;</span></span><br><span class="line">  <span class="keyword">local</span> pm = activity.getPackageManager();</span><br><span class="line">  <span class="keyword">local</span> å›¾æ ‡ = pm.getApplicationInfo(<span class="built_in">tostring</span>(åŒ…å),<span class="number">0</span>)</span><br><span class="line">  <span class="keyword">local</span> å›¾æ ‡ = å›¾æ ‡.loadIcon(pm);</span><br><span class="line">  <span class="keyword">local</span> pkg = activity.getPackageManager().getPackageInfo(åŒ…å, <span class="number">0</span>); </span><br><span class="line">  <span class="keyword">local</span> åº”ç”¨åç§° = pkg.applicationInfo.loadLabel(activity.getPackageManager())</span><br><span class="line">  <span class="keyword">local</span> ç‰ˆæœ¬å· = activity.getPackageManager().getPackageInfo(åŒ…å, <span class="number">0</span>).versionName</span><br><span class="line">  <span class="keyword">local</span> æœ€åæ›´æ–°æ—¶é—´ = activity.getPackageManager().getPackageInfo(åŒ…å, <span class="number">0</span>).lastUpdateTime</span><br><span class="line">  <span class="keyword">local</span> cal = Calendar.getInstance();</span><br><span class="line">  cal.setTimeInMillis(æœ€åæ›´æ–°æ—¶é—´); </span><br><span class="line">  <span class="keyword">local</span> æœ€åæ›´æ–°æ—¶é—´ = cal.getTime().toLocaleString()</span><br><span class="line">  <span class="keyword">return</span> åŒ…å,ç‰ˆæœ¬å·,æœ€åæ›´æ–°æ—¶é—´,å›¾æ ‡,åº”ç”¨åç§°</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹æœ€åä¿®æ”¹æ—¶é—´</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E6%88%96%E8%80%85%E6%96%87%E4%BB%B6%E5%A4%B9%E6%9C%80%E5%90%8E%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4-2021-11-12%2012:33:44/</url>
    <content><![CDATA[<h1>è·å–æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹æœ€åä¿®æ”¹æ—¶é—´</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetFilelastTime</span><span class="params">(path)</span></span></span><br><span class="line">  f = File(<span class="built_in">path</span>);</span><br><span class="line">  cal = Calendar.getInstance();</span><br><span class="line">  <span class="built_in">time</span> = f.lastModified()</span><br><span class="line">  cal.setTimeInMillis(<span class="built_in">time</span>);</span><br><span class="line">  <span class="keyword">return</span> cal.getTime().toLocaleString()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–è§†å›¾æ–‡æœ¬</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%8E%B7%E5%8F%96%E8%A7%86%E5%9B%BE%E6%96%87%E6%9C%AC-2021-11-12%2012:26:54/</url>
    <content><![CDATA[<h1>è·å–è§†å›¾æ–‡æœ¬</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetAllText</span><span class="params">(view)</span></span></span><br><span class="line">textTable=&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetText</span><span class="params">(Parent)</span></span></span><br><span class="line"><span class="keyword">local</span> number=Parent.getChildCount()</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">0</span>,number <span class="keyword">do</span></span><br><span class="line"><span class="keyword">local</span> view=Parent.getChildAt(i)</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>view.addView(TextView(activity))<span class="keyword">end</span>) <span class="keyword">then</span></span><br><span class="line">GetText(view)</span><br><span class="line"><span class="keyword">elseif</span> <span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>view.getText()<span class="keyword">end</span>) <span class="keyword">then</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(textTable,<span class="built_in">tostring</span>(view.Text))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">GetText(view)</span><br><span class="line"><span class="keyword">return</span> textTable</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">table</span>.<span class="built_in">unpack</span>(GetAllText(Parent)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è®°å½•Logæ—¥å¿—</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%AE%B0%E5%BD%95Log%E6%97%A5%E5%BF%97-2021-11-12%2012:33:58/</url>
    <content><![CDATA[<h1>è®°å½•Logæ—¥å¿—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ç•™ä¸‹çš„æ—¥å¿—å¯ä»¥åœ¨ç¼–è¾‘é¡µå·¥å…·æ &quot;Logæ—¥å¿—&quot;æŸ¥çœ‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--Logè®°å½•å¯ä»¥ä¸ºä»¥ä¸‹å‡ ç§æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.util.Log&quot;</span></span><br><span class="line">Log.i(String,String)</span><br><span class="line">Log.e(String,String)</span><br><span class="line">Log.d(String,String)</span><br><span class="line">Log.v(String,String)</span><br><span class="line">Log.w(String,String)</span><br><span class="line">Log.wtf(String,String)</span><br><span class="line">Log.wtfStack(String,String)</span><br><span class="line">Log.ws(String,String)</span><br><span class="line">Log.println(int,String,String)</span><br><span class="line"></span><br><span class="line"><span class="comment">--æ›´å¤šè®°å½•æ–¹å¼åœ¨JavaAPIä¸­util.logç±»æŸ¥çœ‹</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾ç½®æ§ä»¶å¤§å°</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%AE%BE%E7%BD%AE%E6%8E%A7%E4%BB%B6%E5%A4%A7%E5%B0%8F-2021-11-12%2012:29:27/</url>
    <content><![CDATA[<h1>è®¾ç½®æ§ä»¶å¤§å°</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è®¾ç½®å®½åº¦</span></span><br><span class="line">linearParams = æ§ä»¶ID.getLayoutParams()</span><br><span class="line">linearParams.width =å®½åº¦</span><br><span class="line">æ§ä»¶ID.setLayoutParams(linearParams)</span><br><span class="line"><span class="comment">--åŒç†è®¾ç½®é«˜åº¦</span></span><br><span class="line">linearParams = æ§ä»¶ID.getLayoutParams()</span><br><span class="line">linearParams.height =é«˜åº¦</span><br><span class="line">æ§ä»¶ID.setLayoutParams(linearParams)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è¯»å†™æ–‡ä»¶</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6-2021-11-12%2012:32:19/</url>
    <content><![CDATA[<h1>è¯»å†™æ–‡ä»¶</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--è¯»æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">local</span> file=<span class="built_in">io</span>.<span class="built_in">input</span>(<span class="string">&quot;åœ°å€&quot;</span>)</span><br><span class="line"><span class="keyword">local</span> str=<span class="built_in">io</span>.<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>)</span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">close</span>()</span><br><span class="line"><span class="built_in">print</span>(str)</span><br><span class="line"><span class="comment">--å†™æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">local</span> file=<span class="built_in">io</span>.<span class="built_in">output</span>(<span class="string">&quot;åœ°å€&quot;</span>)</span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">write</span>(å†™å…¥å†…å®¹)</span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">flush</span>()</span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">close</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>é€æ˜å¯¹è¯æ¡†</title>
    <url>/2021/11/12/alp%E4%BB%A3%E7%A0%81/%E9%80%8F%E6%98%8E%E5%AF%B9%E8%AF%9D%E6%A1%86-2021-11-12%2012:27:27/</url>
    <content><![CDATA[<h1>é€æ˜å¯¹è¯æ¡†</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="keyword">local</span> å¯¹è¯æ¡†=AlertDialog.Builder(this)</span><br><span class="line">.setMessage(<span class="string">&quot;é€æ˜&quot;</span>)</span><br><span class="line">.setPositiveButton(<span class="string">&quot;ç¡®å®š&quot;</span>, null)</span><br><span class="line">.<span class="built_in">create</span>() </span><br><span class="line"><span class="keyword">local</span> window =å¯¹è¯æ¡†.getWindow()</span><br><span class="line"><span class="keyword">local</span> lp =window.getAttributes()</span><br><span class="line">lp.alpha = <span class="number">0.6</span></span><br><span class="line">window.setAttributes(lp)</span><br><span class="line">å¯¹è¯æ¡†.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>alpä»£ç </category>
      </categories>
      <tags>
        <tag>alpä»£ç </tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒç”¨QQå‘é€xmlæ¶ˆæ¯æ¨¡å—</title>
    <url>/2021/11/12/Intent%E7%B1%BB/%E8%B0%83%E7%94%A8QQ%E5%8F%91%E9%80%81xml%E6%B6%88%E6%81%AF%E6%A8%A1%E5%9D%97-2021-11-12%2012:40:52/</url>
    <content><![CDATA[<h1>è°ƒç”¨QQå‘é€xmlæ¶ˆæ¯æ¨¡å—</h1>
<figure class="highlight lua"><table><tr><td class="code"><pre><span class="line"><span class="comment">--Base64åŠ å¯†æ¨¡å—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">base64</span><span class="params">(nr)</span></span></span><br><span class="line">import <span class="string">&quot;android.util.Base64&quot;</span></span><br><span class="line"></span><br><span class="line">text=String(nr).getBytes()</span><br><span class="line">text=Base64.encodeToString(text,Base64.DEFAULT)</span><br><span class="line"><span class="keyword">return</span> text</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨QQå‘é€xmlæ¶ˆæ¯æ¨¡å—</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">qqxml</span><span class="params">(title,content,jumpurl,imgurl)</span></span></span><br><span class="line"></span><br><span class="line">jumpurl=base64(jumpurl)</span><br><span class="line">imgurl=base64(imgurl)</span><br><span class="line">title=base64(title)</span><br><span class="line">content=base64(content)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import <span class="string">&quot;android.net.Uri&quot;</span></span><br><span class="line">import <span class="string">&quot;android.content.Intent&quot;</span></span><br><span class="line">url=<span class="string">&quot;mqqapi://share/to_fri?file_type=news&amp;src_type=web&amp;version=1&amp;share_id=1105471055&amp;url=&quot;</span>..jumpurl..<span class="string">&quot;&amp;previewimageUrl=aHR0cDovL3d3dy54ZGFwcC50b3AvaW1nL2ljb24ucG5n&amp;image_url=&quot;</span>..imgurl..<span class="string">&quot;&amp;title=&quot;</span>..title..<span class="string">&quot;&amp;description=&quot;</span>..content..<span class="string">&quot;&amp;callback_type=scheme&amp;thirdAppDsplayName=UVE&amp;app_name=UVE&amp;cflag=0&amp;shareType=0&quot;</span></span><br><span class="line">activity.startActivity(Intent(Intent.ACTION_VIEW, Uri.parse(url)))</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--è°ƒç”¨</span></span><br><span class="line">qqxml(<span class="string">&quot;æ ‡é¢˜&quot;</span>,<span class="string">&quot;å†…å®¹&quot;</span>,<span class="string">&quot;http://xdapp.top&quot;</span>,<span class="string">&quot;http://www.xdapp.top/img/icon.png&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">--éåŸåˆ›</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Intentç±»</category>
      </categories>
      <tags>
        <tag>Intentç±»</tag>
      </tags>
  </entry>
</search>
